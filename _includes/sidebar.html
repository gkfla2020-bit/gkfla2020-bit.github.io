{% if page.author_profile or layout.author_profile %}
  {% include author-profile.html %}
{% endif %}

<!-- 사이드바 마켓 위젯 -->
<div class="sidebar-market">
  <div class="sidebar-section">
    <div class="section-title">Market</div>
    
    <!-- KOSPI Mini Chart -->
    <div class="mini-chart-wrap">
      <div class="tradingview-widget-container" style="height:120px;">
        <div id="kospi-mini"></div>
      </div>
    </div>
    
    <!-- NASDAQ Mini Chart -->
    <div class="mini-chart-wrap">
      <div class="tradingview-widget-container" style="height:120px;">
        <div id="nasdaq-mini"></div>
      </div>
    </div>
    
  </div>
</div>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
  new TradingView.MediumWidget({
    "symbols": [["KOSPI", "KRX:KOSPI|3M"]],
    "chartOnly": true,
    "width": "100%",
    "height": 120,
    "locale": "kr",
    "colorTheme": "dark",
    "autosize": false,
    "showVolume": false,
    "hideDateRanges": true,
    "hideMarketStatus": true,
    "hideSymbolLogo": true,
    "scalePosition": "no",
    "scaleMode": "Normal",
    "noTimeScale": true,
    "valuesTracking": "0",
    "chartType": "area",
    "lineColor": "rgba(120, 123, 134, 0.9)",
    "bottomColor": "rgba(120, 123, 134, 0.02)",
    "topColor": "rgba(120, 123, 134, 0.15)",
    "container_id": "kospi-mini"
  });

  new TradingView.MediumWidget({
    "symbols": [["NASDAQ", "NASDAQ:IXIC|3M"]],
    "chartOnly": true,
    "width": "100%",
    "height": 120,
    "locale": "kr",
    "colorTheme": "dark",
    "autosize": false,
    "showVolume": false,
    "hideDateRanges": true,
    "hideMarketStatus": true,
    "hideSymbolLogo": true,
    "scalePosition": "no",
    "scaleMode": "Normal",
    "noTimeScale": true,
    "valuesTracking": "0",
    "chartType": "area",
    "lineColor": "rgba(120, 123, 134, 0.9)",
    "bottomColor": "rgba(120, 123, 134, 0.02)",
    "topColor": "rgba(120, 123, 134, 0.15)",
    "container_id": "nasdaq-mini"
  });
});
</script>
