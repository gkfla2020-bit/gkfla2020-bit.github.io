<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Round 2 - Linear Algebra + Statistics for ML</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&family=Space+Mono:wght@400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#fafaf8;color:#1a1a1a;line-height:1.7;overflow-x:hidden}
.sidebar{position:fixed;left:0;top:0;width:260px;height:100vh;background:rgba(255,255,255,.97);border-right:1px solid rgba(0,0,0,.06);padding:32px 24px;z-index:100;overflow-y:auto;display:flex;flex-direction:column}
.sidebar-profile{text-align:center;margin-bottom:28px;padding-bottom:24px;border-bottom:1px solid rgba(0,0,0,.08)}
.profile-icon{font-size:48px;margin-bottom:8px}
.profile-name{font-family:'Cormorant Garamond',serif;font-size:1.3rem;font-weight:500;margin-bottom:4px}
.profile-title{font-size:.68rem;color:#888;letter-spacing:.08em;text-transform:uppercase;margin-bottom:8px}
.profile-bio{font-size:.78rem;color:#666;line-height:1.5}
.sidebar-nav{flex:1;margin-top:16px}
.nav-section{margin-bottom:20px}
.nav-section-title{font-size:.6rem;font-weight:600;color:#aaa;letter-spacing:.15em;text-transform:uppercase;margin-bottom:10px}
.nav-list{list-style:none}
.nav-list li{margin-bottom:5px}
.nav-list a{font-size:.78rem;color:#555;text-decoration:none;transition:all .2s;display:block;padding:3px 0}
.nav-list a:hover{color:#0080c6;padding-left:4px}
.nav-list a.active{color:#0080c6;font-weight:500}
.nav-list a.done{color:#28a745}
.badge{display:inline-block;font-size:.5rem;background:#0080c6;color:#fff;padding:1px 5px;border-radius:8px;margin-left:3px;vertical-align:middle}
.badge-done{background:#28a745}
.sidebar-footer{padding-top:16px;border-top:1px solid rgba(0,0,0,.06);font-size:.65rem;color:#aaa;text-align:center}
.main-wrapper{margin-left:260px;min-height:100vh}
.container{max-width:1100px;margin:0 auto;padding:50px 40px 80px}
.paper-content{font-family:'Times New Roman','Nanum Myeongjo',serif;line-height:1.8;background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 20px rgba(0,0,0,.05)}
.paper-header{text-align:center;margin-bottom:40px;padding-bottom:30px;border-bottom:2px solid #333}
.paper-category{font-size:14px;color:#666;margin-bottom:10px}
.paper-title{font-size:24px;font-weight:bold;margin-bottom:12px;line-height:1.4}
.paper-subtitle{font-size:14px;color:#555;margin-bottom:8px}
.paper-team{font-size:13px;color:#444}
.abstract{background:#f8f9fa;padding:25px;margin:30px 0;border-left:4px solid #2c3e50}
.abstract-title{font-weight:bold;font-size:16px;margin-bottom:15px}
h2{font-size:18px;margin:35px 0 20px;padding-bottom:8px;border-bottom:1px solid #ddd;color:#2c3e50}
h3{font-size:15px;margin:25px 0 15px;color:#34495e}
h4{font-size:14px;margin:20px 0 12px;color:#34495e}
p{text-align:justify;margin-bottom:15px;text-indent:2em}
p.ni{text-indent:0}
table{width:100%;border-collapse:collapse;margin:20px 0;font-size:12px}
th,td{border:1px solid #ddd;padding:10px 8px;text-align:center}
th{background:#2c3e50;color:white;font-weight:bold}
tr:nth-child(even){background:#f8f9fa}
tr:hover{background:#e8f4f8}
.tc{font-size:13px;font-weight:bold;margin:15px 0 10px;text-align:center}
.eq{text-align:center;margin:20px 0;padding:15px;background:#f8f9fa;border-radius:4px;overflow-x:auto}
ul,ol{margin-left:2em;margin-bottom:15px}
li{margin-bottom:6px}
.def{background:#fff9e6;border:1px solid #ffc107;border-radius:4px;padding:20px;margin:20px 0}
.info{background:#e8f4f8;border-left:4px solid #3498db;padding:20px;margin:20px 0}
.warn{background:#fff3cd;border-left:4px solid #f39c12;padding:20px;margin:20px 0}
.ok{background:#d4edda;border-left:4px solid #28a745;padding:20px;margin:20px 0}
pre{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:6px;overflow-x:auto;margin:20px 0;font-family:'Space Mono','Consolas',monospace;font-size:13px;line-height:1.6}
code{font-family:'Space Mono','Consolas',monospace;font-size:13px}
p code,li code,td code{background:#f0f0f0;padding:2px 6px;border-radius:3px;color:#c7254e;font-size:12px}
.cc{font-size:12px;font-weight:bold;color:#2c3e50;margin-top:15px;margin-bottom:4px}
.cm{color:#6a9955}.kw{color:#569cd6}.st{color:#ce9178}.fn{color:#dcdcaa}.nb{color:#4ec9b0}.nu{color:#b5cea8}
.progress-bar{width:100%;height:6px;background:#e0e0e0;border-radius:3px;margin-top:16px}
.progress-fill{height:100%;background:linear-gradient(90deg,#0080c6,#00b894);border-radius:3px;width:20%}
.progress-label{font-size:11px;color:#888;margin-top:4px;text-align:center}
@media(max-width:1024px){
.sidebar{width:100%;height:auto;position:relative;border-right:none;border-bottom:1px solid rgba(0,0,0,.08);padding:16px}
.sidebar-profile{margin-bottom:10px;padding-bottom:10px;display:flex;align-items:center;gap:12px;text-align:left}
.profile-icon{font-size:32px;margin-bottom:0}.profile-bio{display:none}
.nav-section{display:inline-block;margin-right:16px;margin-bottom:8px}
.nav-list{display:flex;gap:10px;flex-wrap:wrap}.nav-list li{margin-bottom:0}
.sidebar-footer{display:none}
.main-wrapper{margin-left:0}
.container{padding:0}.paper-content{padding:20px 16px;border-radius:0;box-shadow:none}
.paper-title{font-size:18px}p{font-size:14px;text-indent:1.5em;text-align:left}
pre{font-size:11px;padding:14px}table{font-size:10px;display:block;overflow-x:auto}
}
.code-output{background:#1e1e1e;color:#d4d4d4;padding:12px 16px;border-radius:0 0 6px 6px;font-family:'Space Mono',monospace;font-size:11.5px;line-height:1.6;margin-top:-4px;margin-bottom:18px;border-top:2px solid #333;white-space:pre-wrap;overflow-x:auto}
.code-output .out-label{color:#888;font-size:10px;margin-bottom:4px;display:block}
</style>
</head>
<body>

<div class="sidebar">
<div class="sidebar-profile">
<div class="profile-icon">&#x1F680;</div>
<div class="profile-name">HFT ML Master Plan</div>
<div class="profile-title">Convex Opt + DL + HFT</div>
<div class="profile-bio">10 Rounds: Zero to HFT System Trading</div>
</div>
<div class="sidebar-nav">
<div class="nav-section">
<div class="nav-section-title">Curriculum</div>
<ul class="nav-list">
<li><a class="done" href="../round_01/lecture_01.html">R1. Python + Finance <span class="badge badge-done">DONE</span></a></li>
<li><a class="active" href="#">R2. Linear Algebra + Stats <span class="badge">NOW</span></a></li>
<li><a href="#">R3. Data / Feature Eng.</a></li>
<li><a href="#">R4. Supervised Learning</a></li>
<li><a href="#">R5. Unsupervised + TS</a></li>
<li><a class="done" href="../round_06/lecture_06.html">R6. NLP + Sentiment <span class="badge badge-done">DONE</span></a></li>
<li><a class="done" href="../round_07/lecture_07.html">R7. Deep Learning <span class="badge badge-done">DONE</span></a></li>
<li><a href="#">R8. Convex Opt + Transformer</a></li>
<li><a href="#">R9. HFT + RL</a></li>
<li><a href="#">R10. Final Project</a></li>
</ul>
</div>
<div class="nav-section">
<div class="nav-section-title">This Lecture</div>
<ul class="nav-list">
<li><a href="#ch1">1. ë²¡í„°ë€ ë¬´ì—‡ì¸ê°€</a></li>
<li><a href="#ch2">2. ë²¡í„° ì—°ì‚°ì˜ ì„¸ê³„</a></li>
<li><a href="#ch3">3. í–‰ë ¬: ë°ì´í„°ì˜ í‘œ</a></li>
<li><a href="#ch4">4. í–‰ë ¬ ì—°ì‚°</a></li>
<li><a href="#ch5">5. ê³ ìœ ê°’ê³¼ ê³ ìœ ë²¡í„°</a></li>
<li><a href="#ch6">6. í™•ë¥ ë¶„í¬</a></li>
<li><a href="#ch7">7. ê³µë¶„ì‚°ê³¼ ìƒê´€ê³„ìˆ˜</a></li>
<li><a href="#ch8">8. ë² ì´ì¦ˆ ì •ë¦¬</a></li>
<li><a href="#ch9">9. ë¯¸ì ë¶„ ì—ì„¼ìŠ¤</a></li>
<li><a href="#ch10">10. ì‹¤ì „: í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„</a></li>
<li><a href="#ch11">11. Mini Project + Quiz</a></li>
</ul>
</div>
</div>
<div class="sidebar-footer">Round 2 of 10</div>
</div>

<div class="main-wrapper">
<div class="container">
<div class="paper-content">

<div class="paper-header">
<div class="paper-category">Round 2 / 10</div>
<h1 class="paper-title">Linear Algebra + Probability &amp; Statistics for ML</h1>
<div class="paper-subtitle">ML/DL/Convex Optimizationì— í•„ìš”í•œ ìˆ˜í•™ ê¸°ì´ˆë¥¼ ì½”ë“œë¡œ ì²´í™”</div>
<div class="paper-team">Textbooks: MLAT Ch.4 / MLDSF Ch.4 / í˜¼ê³µíŒŒ ë³µìŠµ / ë‘ì‡ì•Œê³  Ch.3</div>
<div class="progress-bar"><div class="progress-fill"></div></div>
<div class="progress-label">Overall Progress: 20%</div>
</div>

<div class="abstract">
<div class="abstract-title">Learning Objectives</div>
<p class="ni">Round 2ë¥¼ ë§ˆì¹˜ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆë‹¤:</p>
<ul>
<li>ë²¡í„°ê°€ ë¬´ì—‡ì¸ì§€ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•˜ê³ , ì™œ ê¸ˆìœµì—ì„œ ì¤‘ìš”í•œì§€ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤</li>
<li>ë‚´ì , ë…¸ë¦„ ë“± ë²¡í„° ì—°ì‚°ì„ NumPyë¡œ ìˆ˜í–‰í•˜ê³  ê¸ˆìœµì  ì˜ë¯¸ë¥¼ í•´ì„í•  ìˆ˜ ìˆë‹¤</li>
<li>í–‰ë ¬ì˜ ê°œë…ì„ ì´í•´í•˜ê³ , ì „ì¹˜/ê³±/ì—­í–‰ë ¬ì„ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤</li>
<li>ê³ ìœ ê°’/ê³ ìœ ë²¡í„°ê°€ PCAì™€ ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ì§€ ì•ˆë‹¤</li>
<li>ì •ê·œë¶„í¬, ë¡œê·¸ì •ê·œë¶„í¬ë¥¼ ì´í•´í•˜ê³  GBM ì‹œë®¬ë ˆì´ì…˜ì„ í•  ìˆ˜ ìˆë‹¤</li>
<li>ê³µë¶„ì‚° í–‰ë ¬ê³¼ ìƒê´€ê³„ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  í•´ì„í•  ìˆ˜ ìˆë‹¤</li>
<li>ë² ì´ì¦ˆ ì •ë¦¬ë¡œ íŠ¸ë ˆì´ë”© ì‹œê·¸ë„ì˜ ì •í™•ë„ë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤</li>
<li>í¸ë¯¸ë¶„ê³¼ ê·¸ë˜ë””ì–¸íŠ¸ì˜ ê°œë…ì„ ì´í•´í•œë‹¤ (ë”¥ëŸ¬ë‹ ì—­ì „íŒŒ ì¤€ë¹„)</li>
<li>ì‹¤ì œ ì£¼ì‹ ë°ì´í„°ë¡œ í¬íŠ¸í´ë¦¬ì˜¤ ê³µë¶„ì‚° í–‰ë ¬ì„ ê³„ì‚°í•˜ê³  íˆíŠ¸ë§µì„ ê·¸ë¦´ ìˆ˜ ìˆë‹¤</li>
</ul>
<div style="font-size:13px;color:#555;margin-top:15px;font-style:italic"><strong>Keywords:</strong> Vector, Matrix, Eigenvalue, PCA, Normal Distribution, Covariance, Gradient, Portfolio Theory</div>
</div>

<!-- Round 2 ì „ì²´ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨ (CSS) -->
<div style="margin:30px 0;padding:25px;background:linear-gradient(135deg,#f0f4f8,#e8ecf0);border-radius:12px;border:1px solid #ccc">
<p class="ni" style="text-align:center;font-weight:bold;font-size:16px;margin-bottom:20px;color:#2c3e50">ğŸ—ºï¸ Round 2 í•™ìŠµ ë¡œë“œë§µ</p>

<!-- ì„ í˜•ëŒ€ìˆ˜ íŠ¸ë™ -->
<div style="margin-bottom:14px;background:#fff;border-radius:10px;padding:14px 16px;box-shadow:0 2px 8px rgba(52,152,219,0.12);border-left:5px solid #3498db">
<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
<div style="background:#3498db;color:#fff;padding:5px 14px;border-radius:20px;font-weight:bold;font-size:12px;white-space:nowrap;letter-spacing:0.5px">ğŸ“ ì„ í˜•ëŒ€ìˆ˜</div>
<div style="font-size:10px;color:#888">MLì˜ ë¼ˆëŒ€ â€” ë°ì´í„°ë¥¼ í–‰ë ¬ë¡œ ë‹¤ë£¨ëŠ” ì–¸ì–´</div>
</div>
<div style="display:flex;gap:6px;flex-wrap:wrap;font-size:11px">
<div style="background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:6px 12px;border-radius:6px;border:1px solid #90caf9;text-align:center;min-width:70px"><strong>Ch.1</strong><br>ë²¡í„°</div>
<div style="display:flex;align-items:center;color:#3498db;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:6px 12px;border-radius:6px;border:1px solid #90caf9;text-align:center;min-width:70px"><strong>Ch.2</strong><br>ë²¡í„° ì—°ì‚°</div>
<div style="display:flex;align-items:center;color:#3498db;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:6px 12px;border-radius:6px;border:1px solid #90caf9;text-align:center;min-width:70px"><strong>Ch.3</strong><br>í–‰ë ¬</div>
<div style="display:flex;align-items:center;color:#3498db;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:6px 12px;border-radius:6px;border:1px solid #90caf9;text-align:center;min-width:70px"><strong>Ch.4</strong><br>í–‰ë ¬ ì—°ì‚°</div>
<div style="display:flex;align-items:center;color:#3498db;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:6px 12px;border-radius:6px;border:1px solid #90caf9;text-align:center;min-width:70px"><strong>Ch.5</strong><br>ê³ ìœ ê°’Â·PCA</div>
</div>
</div>

<!-- í™•ë¥ í†µê³„ íŠ¸ë™ -->
<div style="margin-bottom:14px;background:#fff;border-radius:10px;padding:14px 16px;box-shadow:0 2px 8px rgba(230,126,34,0.12);border-left:5px solid #e67e22">
<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
<div style="background:#e67e22;color:#fff;padding:5px 14px;border-radius:20px;font-weight:bold;font-size:12px;white-space:nowrap;letter-spacing:0.5px">ğŸ² í™•ë¥ í†µê³„</div>
<div style="font-size:10px;color:#888">ë¶ˆí™•ì‹¤ì„±ì„ ìˆ˜ì¹˜ë¡œ â€” ë¦¬ìŠ¤í¬ì˜ ì–¸ì–´</div>
</div>
<div style="display:flex;gap:6px;flex-wrap:wrap;font-size:11px">
<div style="background:linear-gradient(135deg,#fff3e0,#ffe0b2);padding:6px 12px;border-radius:6px;border:1px solid #ffcc80;text-align:center;min-width:70px"><strong>Ch.6</strong><br>í™•ë¥ ë¶„í¬</div>
<div style="display:flex;align-items:center;color:#e67e22;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#fff3e0,#ffe0b2);padding:6px 12px;border-radius:6px;border:1px solid #ffcc80;text-align:center;min-width:70px"><strong>Ch.7</strong><br>ê³µë¶„ì‚°Â·ìƒê´€</div>
<div style="display:flex;align-items:center;color:#e67e22;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#fff3e0,#ffe0b2);padding:6px 12px;border-radius:6px;border:1px solid #ffcc80;text-align:center;min-width:70px"><strong>Ch.8</strong><br>ë² ì´ì¦ˆ</div>
</div>
</div>

<!-- ë¯¸ì ë¶„ íŠ¸ë™ -->
<div style="margin-bottom:14px;background:#fff;border-radius:10px;padding:14px 16px;box-shadow:0 2px 8px rgba(39,174,96,0.12);border-left:5px solid #27ae60">
<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
<div style="background:#27ae60;color:#fff;padding:5px 14px;border-radius:20px;font-weight:bold;font-size:12px;white-space:nowrap;letter-spacing:0.5px">âˆ‚ ë¯¸ì ë¶„</div>
<div style="font-size:10px;color:#888">ë³€í™”ë¥¼ ì¶”ì  â€” ë”¥ëŸ¬ë‹ ì—­ì „íŒŒì˜ ê¸°ì´ˆ</div>
</div>
<div style="display:flex;gap:6px;flex-wrap:wrap;font-size:11px">
<div style="background:linear-gradient(135deg,#e8f5e9,#c8e6c9);padding:6px 12px;border-radius:6px;border:1px solid #a5d6a7;text-align:center;min-width:70px"><strong>Ch.9</strong><br>ê·¸ë˜ë””ì–¸íŠ¸</div>
</div>
</div>

<!-- ì‹¤ì „ íŠ¸ë™ -->
<div style="background:#fff;border-radius:10px;padding:14px 16px;box-shadow:0 2px 8px rgba(142,68,173,0.12);border-left:5px solid #8e44ad">
<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
<div style="background:#8e44ad;color:#fff;padding:5px 14px;border-radius:20px;font-weight:bold;font-size:12px;white-space:nowrap;letter-spacing:0.5px">ğŸ’° ì‹¤ì „</div>
<div style="font-size:10px;color:#888">ìˆ˜í•™ì„ ê¸ˆìœµì— ì ìš© â€” í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„</div>
</div>
<div style="display:flex;gap:6px;flex-wrap:wrap;font-size:11px">
<div style="background:linear-gradient(135deg,#f3e5f5,#e1bee7);padding:6px 12px;border-radius:6px;border:1px solid #ce93d8;text-align:center;min-width:70px"><strong>Ch.10</strong><br>í¬íŠ¸í´ë¦¬ì˜¤</div>
<div style="display:flex;align-items:center;color:#8e44ad;font-size:14px">â†’</div>
<div style="background:linear-gradient(135deg,#f3e5f5,#e1bee7);padding:6px 12px;border-radius:6px;border:1px solid #ce93d8;text-align:center;min-width:70px"><strong>Ch.11</strong><br>Quiz</div>
</div>
</div>

<!-- í•˜ë‹¨ ì—°ê²° í™”ì‚´í‘œ -->
<div style="text-align:center;margin-top:16px;font-size:11px;color:#666">
<div style="display:inline-flex;align-items:center;gap:6px;background:#fff;padding:6px 16px;border-radius:20px;border:1px dashed #aaa">
ğŸ“ ì„ í˜•ëŒ€ìˆ˜ + ğŸ² í™•ë¥ í†µê³„ + âˆ‚ ë¯¸ì ë¶„ &nbsp;âŸ¹&nbsp; ğŸ’° <strong>í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ì— í†µí•© ì ìš©</strong>
</div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch1: ë²¡í„°ë€ ë¬´ì—‡ì¸ê°€ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch1">1. ë²¡í„°ë€ ë¬´ì—‡ì¸ê°€</h2>

<h3>1.1 ì¼ìƒì—ì„œ ë§Œë‚˜ëŠ” ë²¡í„°</h3>
<p>ë²¡í„°(vector)ë¼ëŠ” ë‹¨ì–´ë¥¼ ë“¤ìœ¼ë©´ ì–´ë µê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ì‚¬ì‹¤ ìš°ë¦¬ëŠ” ë§¤ì¼ ë²¡í„°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ê°€ì¥ ì‰¬ìš´ ì˜ˆë¥¼ ë“¤ì–´ë³´ì.</p>

<p class="ni">ë‹¹ì‹ ì´ í¸ì˜ì ì—ì„œ ì¥ì„ ë³¸ë‹¤ê³  í•˜ì:</p>
<ul>
<li>ë¼ë©´ 3ê°œ, ìš°ìœ  1ê°œ, ì‚¼ê°ê¹€ë°¥ 2ê°œ</li>
</ul>
<p>ì´ê²ƒì„ ìˆ«ìì˜ ë‚˜ì—´ë¡œ í‘œí˜„í•˜ë©´ <code>[3, 1, 2]</code>ê°€ ëœë‹¤. ì´ê²Œ ë²¡í„°ë‹¤. ë²¡í„°ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ "ìˆ«ìë“¤ì˜ ìˆœì„œ ìˆëŠ” ëª©ë¡"ì´ë‹¤. ìˆœì„œê°€ ì¤‘ìš”í•˜ë‹¤. <code>[3, 1, 2]</code>ì™€ <code>[1, 3, 2]</code>ëŠ” ë‹¤ë¥¸ ë²¡í„°ë‹¤ â€” ë¼ë©´ 3ê°œ+ìš°ìœ  1ê°œì™€ ë¼ë©´ 1ê°œ+ìš°ìœ  3ê°œëŠ” ë‹¤ë¥¸ ì¥ë°”êµ¬ë‹ˆë‹ˆê¹Œ.</p>

<p>ê¸ˆìœµì—ì„œë„ ë§ˆì°¬ê°€ì§€ë‹¤. ë‹¹ì‹ ì´ 5ê°œ ì¢…ëª©ì— íˆ¬ìí•œë‹¤ë©´:</p>

<pre><code><span class="cm"># 5ì¢…ëª© í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘ â€” ì´ê²ƒì´ ë²¡í„°ë‹¤!</span>
<span class="cm"># [ì‚¼ì„±ì „ì, SKí•˜ì´ë‹‰ìŠ¤, NAVER, ì¹´ì¹´ì˜¤, LGì—ë„ˆì§€ì†”ë£¨ì…˜]</span>
weights = [<span class="nu">0.30</span>, <span class="nu">0.25</span>, <span class="nu">0.20</span>, <span class="nu">0.15</span>, <span class="nu">0.10</span>]

<span class="cm"># ê° ì¢…ëª©ì˜ ì˜¤ëŠ˜ ìˆ˜ìµë¥  â€” ì´ê²ƒë„ ë²¡í„°ë‹¤!</span>
returns = [<span class="nu">0.02</span>, -<span class="nu">0.01</span>, <span class="nu">0.03</span>, <span class="nu">0.005</span>, -<span class="nu">0.015</span>]</code></pre>

<p>ë¹„ì¤‘ ë²¡í„°ì˜ ê° ìˆ«ìëŠ” "ë‚´ ëˆì˜ ëª‡ %ë¥¼ ì´ ì¢…ëª©ì— ë„£ì—ˆëŠ”ê°€"ë¥¼ ì˜ë¯¸í•˜ê³ , ìˆ˜ìµë¥  ë²¡í„°ì˜ ê° ìˆ«ìëŠ” "ì´ ì¢…ëª©ì´ ì˜¤ëŠ˜ ëª‡ % ì˜¬ëëŠ”ê°€"ë¥¼ ì˜ë¯¸í•œë‹¤. ì´ ë‘ ë²¡í„°ë¥¼ ê²°í•©í•˜ë©´ "ë‚´ í¬íŠ¸í´ë¦¬ì˜¤ê°€ ì˜¤ëŠ˜ ì´ ëª‡ % ìˆ˜ìµì„ ëƒˆëŠ”ê°€"ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì´ ë°”ë¡œ ë‚´ì (dot product)ì¸ë°, 1.3ì ˆì—ì„œ ìì„¸íˆ ë‹¤ë£¬ë‹¤.</p>

<div class="def">
<p class="ni"><strong>ì •ì˜: ë²¡í„° (Vector)</strong></p>
<p class="ni">ë²¡í„°ëŠ” ìˆ«ìë“¤ì˜ ìˆœì„œ ìˆëŠ” ë°°ì—´ì´ë‹¤. nê°œì˜ ìˆ«ìë¡œ ì´ë£¨ì–´ì§„ ë²¡í„°ë¥¼ "nì°¨ì› ë²¡í„°"ë¼ í•œë‹¤.</p>
<div class="eq">\[ \mathbf{v} = \begin{bmatrix} v_1 \\ v_2 \\ \vdots \\ v_n \end{bmatrix} \in \mathbb{R}^n \]</div>
<p class="ni">ìœ„ í‘œê¸°ì—ì„œ \(\mathbb{R}^n\)ì€ "nê°œì˜ ì‹¤ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ê³µê°„"ì„ ì˜ë¯¸í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ \(\mathbb{R}^3\)ì€ 3ì°¨ì› ê³µê°„ì´ë‹¤.</p>
</div>

<h3>1.2 ì™œ ë²¡í„°ë¥¼ ë°°ì›Œì•¼ í•˜ëŠ”ê°€?</h3>
<p>ì†”ì§íˆ ë§í•˜ë©´, ë²¡í„° ì—†ì´ëŠ” MLë„, ë”¥ëŸ¬ë‹ë„, í¬íŠ¸í´ë¦¬ì˜¤ ì´ë¡ ë„ í•œ ë°œì§ë„ ë‚˜ê°ˆ ìˆ˜ ì—†ë‹¤. ì´ìœ ëŠ” ê°„ë‹¨í•˜ë‹¤:</p>

<ul>
<li><strong>ë°ì´í„° = ë²¡í„°:</strong> ì£¼ì‹ í•˜ë‚˜ì˜ 250ì¼ ìˆ˜ìµë¥  ë°ì´í„°ëŠ” 250ì°¨ì› ë²¡í„°ë‹¤</li>
<li><strong>ëª¨ë¸ íŒŒë¼ë¯¸í„° = ë²¡í„°:</strong> ë”¥ëŸ¬ë‹ ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜(weight)ëŠ” ìˆ˜ë°±ë§Œ ì°¨ì›ì˜ ë²¡í„°ë‹¤</li>
<li><strong>í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘ = ë²¡í„°:</strong> ì–´ë–¤ ì¢…ëª©ì— ì–¼ë§ˆë‚˜ íˆ¬ìí• ì§€ê°€ ë²¡í„°ë‹¤</li>
<li><strong>ê·¸ë˜ë””ì–¸íŠ¸ = ë²¡í„°:</strong> ë”¥ëŸ¬ë‹ì´ í•™ìŠµí•˜ëŠ” ë°©í–¥ì´ ë²¡í„°ë‹¤ (Ch.9ì—ì„œ ë‹¤ë£¸)</li>
</ul>

<p>ì¦‰, MLê³¼ ê¸ˆìœµì˜ ì–¸ì–´ê°€ ë²¡í„°ë‹¤. ì´ ì–¸ì–´ë¥¼ ëª¨ë¥´ë©´ ë…¼ë¬¸ë„, ì½”ë“œë„, ì „ëµë„ ì½ì„ ìˆ˜ ì—†ë‹¤.</p>

<div class="info">
<p class="ni"><strong>êµì¬ ì—°ë™:</strong> ë²¡í„°ì˜ ìˆ˜í•™ì  ê¸°ì´ˆëŠ” MLAT Ch.4 "Alpha Factor Research"ì—ì„œ íŒ©í„° ë²¡í„°ë¡œ, MLDSF Ch.4 "Supervised Learning"ì—ì„œ í”¼ì²˜ ë²¡í„°ë¡œ ë“±ì¥í•œë‹¤. ë‘ì‡ì•Œê³  Ch.3ì—ì„œëŠ” ë°°ì—´(array) ìë£Œêµ¬ì¡°ë¡œ ë²¡í„°ë¥¼ êµ¬í˜„í•œë‹¤.</p>
</div>

<h3>1.3 NumPyë¡œ ë²¡í„° ë§Œë“¤ê¸°</h3>
<p>Pythonì—ì„œ ë²¡í„°ëŠ” NumPy ë°°ì—´ë¡œ í‘œí˜„í•œë‹¤. Round 1ì—ì„œ NumPyë¥¼ ë°°ì› ìœ¼ë‹ˆ ë³µìŠµ ê²¸ ì‹¤ìŠµí•˜ì.</p>

<pre><code><span class="kw">import</span> numpy <span class="kw">as</span> np

<span class="cm"># ë°©ë²• 1: ë¦¬ìŠ¤íŠ¸ë¡œë¶€í„° ìƒì„±</span>
v1 = np.array([<span class="nu">1</span>, <span class="nu">2</span>, <span class="nu">3</span>])
<span class="fn">print</span>(<span class="st">"v1 ="</span>, v1)           <span class="cm"># [1 2 3]</span>
<span class="fn">print</span>(<span class="st">"íƒ€ì…:"</span>, <span class="fn">type</span>(v1))    <span class="cm"># numpy.ndarray</span>
<span class="fn">print</span>(<span class="st">"ì°¨ì›:"</span>, v1.ndim)      <span class="cm"># 1 (1ì°¨ì› ë°°ì—´ = ë²¡í„°)</span>
<span class="fn">print</span>(<span class="st">"í¬ê¸°:"</span>, v1.shape)     <span class="cm"># (3,) â†’ 3ê°œ ì›ì†Œ</span>

<span class="cm"># ë°©ë²• 2: íŠ¹ìˆ˜ ë²¡í„°ë“¤</span>
zeros = np.zeros(<span class="nu">5</span>)          <span class="cm"># [0, 0, 0, 0, 0] â€” ì˜ë²¡í„°</span>
ones = np.ones(<span class="nu">5</span>)            <span class="cm"># [1, 1, 1, 1, 1] â€” ì¼ë²¡í„°</span>
equal_w = np.ones(<span class="nu">5</span>) / <span class="nu">5</span>    <span class="cm"># [0.2, 0.2, 0.2, 0.2, 0.2] â€” ë™ì¼ë¹„ì¤‘</span>

<span class="cm"># ë°©ë²• 3: ë²”ìœ„ë¡œ ìƒì„±</span>
v3 = np.arange(<span class="nu">0</span>, <span class="nu">10</span>, <span class="nu">2</span>)    <span class="cm"># [0, 2, 4, 6, 8]</span>
v4 = np.linspace(<span class="nu">0</span>, <span class="nu">1</span>, <span class="nu">5</span>)   <span class="cm"># [0, 0.25, 0.5, 0.75, 1.0]</span></code></pre>
<div class="code-output"><span class="out-label">Output:</span>
v1 = [1 2 3]
íƒ€ì…: &lt;class 'numpy.ndarray'&gt;
ì°¨ì›: 1
í¬ê¸°: (3,)</div>


<p><code>shape</code>ì´ <code>(3,)</code>ì´ë¼ëŠ” ê²ƒì€ "3ê°œì˜ ìˆ«ìê°€ ì¼ë ¬ë¡œ ë‚˜ì—´ë˜ì–´ ìˆë‹¤"ëŠ” ëœ»ì´ë‹¤. ì‰¼í‘œ ë’¤ì— ì•„ë¬´ê²ƒë„ ì—†ëŠ” ê²ƒì€ 1ì°¨ì›ì´ë¼ëŠ” ì˜ë¯¸ë‹¤. ë‚˜ì¤‘ì— í–‰ë ¬ì„ ë°°ìš°ë©´ <code>(3, 4)</code>ì²˜ëŸ¼ ë‘ ê°œì˜ ìˆ«ìê°€ ë‚˜ì˜¨ë‹¤.</p>

<h3>1.4 ë²¡í„°ì˜ ê¸°í•˜í•™ì  ì˜ë¯¸</h3>
<p>ë²¡í„°ë¥¼ ìˆ«ìì˜ ë‚˜ì—´ë¡œë§Œ ì´í•´í•˜ë©´ ì ˆë°˜ë§Œ ì•„ëŠ” ê²ƒì´ë‹¤. ë²¡í„°ëŠ” ê³µê°„ì—ì„œ "í™”ì‚´í‘œ"ë¡œë„ ì´í•´í•  ìˆ˜ ìˆë‹¤. 2ì°¨ì› ë²¡í„° <code>[3, 2]</code>ëŠ” ì›ì (0,0)ì—ì„œ ì (3,2)ë¡œ í–¥í•˜ëŠ” í™”ì‚´í‘œë‹¤.</p>

<pre><code><span class="kw">import</span> matplotlib.pyplot <span class="kw">as</span> plt

<span class="cm"># 2ì°¨ì› ë²¡í„°ë¥¼ í™”ì‚´í‘œë¡œ ì‹œê°í™”</span>
fig, ax = plt.subplots(<span class="nu">1</span>, <span class="nu">1</span>, figsize=(<span class="nu">6</span>, <span class="nu">6</span>))

<span class="cm"># ë²¡í„° a = [3, 2], ë²¡í„° b = [1, 4]</span>
a = np.array([<span class="nu">3</span>, <span class="nu">2</span>])
b = np.array([<span class="nu">1</span>, <span class="nu">4</span>])

<span class="cm"># í™”ì‚´í‘œ ê·¸ë¦¬ê¸° (originì—ì„œ ì‹œì‘)</span>
ax.quiver(<span class="nu">0</span>, <span class="nu">0</span>, a[<span class="nu">0</span>], a[<span class="nu">1</span>], angles=<span class="st">'xy'</span>, scale_units=<span class="st">'xy'</span>, scale=<span class="nu">1</span>,
          color=<span class="st">'blue'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'a = [3, 2]'</span>)
ax.quiver(<span class="nu">0</span>, <span class="nu">0</span>, b[<span class="nu">0</span>], b[<span class="nu">1</span>], angles=<span class="st">'xy'</span>, scale_units=<span class="st">'xy'</span>, scale=<span class="nu">1</span>,
          color=<span class="st">'red'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'b = [1, 4]'</span>)

<span class="cm"># a + b ë²¡í„° (ë²¡í„° ë§ì…ˆì˜ ê¸°í•˜í•™ì  ì˜ë¯¸)</span>
c = a + b  <span class="cm"># [4, 6]</span>
ax.quiver(<span class="nu">0</span>, <span class="nu">0</span>, c[<span class="nu">0</span>], c[<span class="nu">1</span>], angles=<span class="st">'xy'</span>, scale_units=<span class="st">'xy'</span>, scale=<span class="nu">1</span>,
          color=<span class="st">'green'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'a+b = [4, 6]'</span>)

ax.set_xlim(-<span class="nu">1</span>, <span class="nu">6</span>)
ax.set_ylim(-<span class="nu">1</span>, <span class="nu">7</span>)
ax.set_aspect(<span class="st">'equal'</span>)
ax.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
ax.legend(fontsize=<span class="nu">11</span>)
ax.set_title(<span class="st">"Vectors as Arrows"</span>, fontsize=<span class="nu">14</span>)
ax.set_xlabel(<span class="st">"x"</span>)
ax.set_ylabel(<span class="st">"y"</span>)
plt.tight_layout()
plt.show()</code></pre>

<p>ì´ ê·¸ë¦¼ì—ì„œ ì´ˆë¡ìƒ‰ í™”ì‚´í‘œ(a+b)ëŠ” íŒŒë€ìƒ‰(a)ì˜ ëì—ì„œ ë¹¨ê°„ìƒ‰(b)ì„ ì´ì–´ ë¶™ì¸ ê²ƒê³¼ ê°™ë‹¤. ì´ê²ƒì´ ë²¡í„° ë§ì…ˆì˜ ê¸°í•˜í•™ì  ì˜ë¯¸ë‹¤: "ë‘ ì´ë™ì„ ì—°ì†ìœ¼ë¡œ ìˆ˜í–‰í•œ ê²°ê³¼".</p>

<p>ê¸ˆìœµì—ì„œ ì´ ê¸°í•˜í•™ì  ì§ê´€ì´ ì™œ ì¤‘ìš”í• ê¹Œ? í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ "ìˆ˜ìµë¥  ê³µê°„ì—ì„œì˜ ë°©í–¥"ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ë¹„ì¤‘ ë²¡í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ë°©í–¥ì´ ê³§ ë‹¹ì‹ ì˜ íˆ¬ì ì „ëµì´ë‹¤. ë°©í–¥ì„ ë°”ê¾¸ë©´(ë¹„ì¤‘ì„ ì¡°ì ˆí•˜ë©´) ìœ„í—˜-ìˆ˜ìµ íŠ¹ì„±ì´ ë‹¬ë¼ì§„ë‹¤.</p>

<div class="warn">
<p class="ni"><strong>í”í•œ í˜¼ë™:</strong> "ë²¡í„° = í™”ì‚´í‘œ"ë¼ê³ ë§Œ ì™¸ìš°ë©´ ì•ˆ ëœë‹¤. 100ì°¨ì› ë²¡í„°ëŠ” í™”ì‚´í‘œë¡œ ê·¸ë¦´ ìˆ˜ ì—†ë‹¤. ë²¡í„°ì˜ ë³¸ì§ˆì€ "ìˆ«ìì˜ ìˆœì„œ ìˆëŠ” ëª©ë¡"ì´ê³ , 2~3ì°¨ì›ì¼ ë•Œë§Œ í™”ì‚´í‘œë¡œ ì‹œê°í™”í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ê¸ˆìœµ ë°ì´í„°ëŠ” ë³´í†µ ìˆ˜ì‹­~ìˆ˜ë°± ì°¨ì›ì´ë¯€ë¡œ, ìˆ«ì ëª©ë¡ìœ¼ë¡œì„œì˜ ì´í•´ê°€ ë” ì¤‘ìš”í•˜ë‹¤.</p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch2: ë²¡í„° ì—°ì‚°ì˜ ì„¸ê³„ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch2">2. ë²¡í„° ì—°ì‚°ì˜ ì„¸ê³„</h2>

<h3>2.1 ì›ì†Œë³„ ì—°ì‚° (Element-wise Operations)</h3>
<p>ë²¡í„°ë¼ë¦¬ ë”í•˜ê±°ë‚˜ ë¹¼ê±°ë‚˜ ê³±í•˜ë©´, ê°™ì€ ìœ„ì¹˜ì˜ ì›ì†Œë¼ë¦¬ ì—°ì‚°ëœë‹¤. ì´ê²ƒì„ "ì›ì†Œë³„ ì—°ì‚°"ì´ë¼ í•œë‹¤. ë§ˆì¹˜ ì—‘ì…€ì—ì„œ ê°™ì€ í–‰ë¼ë¦¬ ê³„ì‚°í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.</p>

<pre><code><span class="kw">import</span> numpy <span class="kw">as</span> np

a = np.array([<span class="nu">10</span>, <span class="nu">20</span>, <span class="nu">30</span>])
b = np.array([<span class="nu">1</span>, <span class="nu">2</span>, <span class="nu">3</span>])

<span class="cm"># ë§ì…ˆ: ê°™ì€ ìœ„ì¹˜ë¼ë¦¬ ë”í•œë‹¤</span>
<span class="fn">print</span>(<span class="st">"a + b ="</span>, a + b)    <span class="cm"># [11, 22, 33]</span>

<span class="cm"># ëº„ì…ˆ</span>
<span class="fn">print</span>(<span class="st">"a - b ="</span>, a - b)    <span class="cm"># [9, 18, 27]</span>

<span class="cm"># ì›ì†Œë³„ ê³± (ì£¼ì˜: ì´ê²ƒì€ ë‚´ì ì´ ì•„ë‹ˆë‹¤!)</span>
<span class="fn">print</span>(<span class="st">"a * b ="</span>, a * b)    <span class="cm"># [10, 40, 90]</span>

<span class="cm"># ì›ì†Œë³„ ë‚˜ëˆ—ì…ˆ</span>
<span class="fn">print</span>(<span class="st">"a / b ="</span>, a / b)    <span class="cm"># [10, 10, 10]</span></code></pre>
<div class="code-output"><span class="out-label">Output:</span>
a + b = [11 22 33]
a - b = [ 9 18 27]
a * b = [10 40 90]
a / b = [10. 10. 10.]</div>


<div class="warn">
<p class="ni"><strong>ì¤‘ìš”í•œ êµ¬ë¶„:</strong> <code>a * b</code>ëŠ” ì›ì†Œë³„ ê³±(element-wise product)ì´ì§€, ë‚´ì (dot product)ì´ ì•„ë‹ˆë‹¤. ì›ì†Œë³„ ê³±ì˜ ê²°ê³¼ëŠ” ë²¡í„°ì´ê³ , ë‚´ì ì˜ ê²°ê³¼ëŠ” ìŠ¤ì¹¼ë¼(ìˆ«ì í•˜ë‚˜)ë‹¤. ì´ ì°¨ì´ë¥¼ ë°˜ë“œì‹œ ê¸°ì–µí•˜ì.</p>
</div>

<h3>2.2 ìŠ¤ì¹¼ë¼ ê³± (Scalar Multiplication)</h3>
<p>ë²¡í„°ì— ìˆ«ì í•˜ë‚˜(ìŠ¤ì¹¼ë¼)ë¥¼ ê³±í•˜ë©´ ëª¨ë“  ì›ì†Œê°€ ê·¸ ìˆ«ìë§Œí¼ ì»¤ì§€ê±°ë‚˜ ì‘ì•„ì§„ë‹¤. ê¸°í•˜í•™ì ìœ¼ë¡œëŠ” í™”ì‚´í‘œì˜ ê¸¸ì´ê°€ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì¤„ì–´ë“œëŠ” ê²ƒì´ë‹¤.</p>

<pre><code>v = np.array([<span class="nu">2</span>, <span class="nu">3</span>])

<span class="fn">print</span>(<span class="st">"2 * v ="</span>, <span class="nu">2</span> * v)      <span class="cm"># [4, 6] â€” ê¸¸ì´ê°€ 2ë°°</span>
<span class="fn">print</span>(<span class="st">"0.5 * v ="</span>, <span class="nu">0.5</span> * v)  <span class="cm"># [1, 1.5] â€” ê¸¸ì´ê°€ ì ˆë°˜</span>
<span class="fn">print</span>(<span class="st">"-1 * v ="</span>, -<span class="nu">1</span> * v)   <span class="cm"># [-2, -3] â€” ë°©í–¥ì´ ë°˜ëŒ€</span></code></pre>
<div class="code-output"><span class="out-label">Output:</span>
2 * v = [4 6]
0.5 * v = [1.  1.5]
-1 * v = [-2 -3]</div>


<p>ê¸ˆìœµì—ì„œ ìŠ¤ì¹¼ë¼ ê³±ì˜ ì˜ë¯¸: ë ˆë²„ë¦¬ì§€ë‹¤. í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘ ë²¡í„°ì— 2ë¥¼ ê³±í•˜ë©´ 2ë°° ë ˆë²„ë¦¬ì§€, 0.5ë¥¼ ê³±í•˜ë©´ ì ˆë°˜ë§Œ íˆ¬ìí•˜ëŠ” ê²ƒì´ë‹¤. -1ì„ ê³±í•˜ë©´? ê³µë§¤ë„(short selling)ë‹¤.</p>

<h3>2.3 ë‚´ì  (Dot Product) â€” ê¸ˆìœµì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì—°ì‚°</h3>
<p>ë‚´ì ì€ ë‘ ë²¡í„°ë¥¼ "í•˜ë‚˜ì˜ ìˆ«ì"ë¡œ ìš”ì•½í•˜ëŠ” ì—°ì‚°ì´ë‹¤. ê°™ì€ ìœ„ì¹˜ì˜ ì›ì†Œë¼ë¦¬ ê³±í•œ ë‹¤ìŒ, ì „ë¶€ ë”í•œë‹¤.</p>

<div class="eq">\[ \mathbf{a} \cdot \mathbf{b} = \sum_{i=1}^{n} a_i \cdot b_i = a_1 b_1 + a_2 b_2 + \cdots + a_n b_n \]</div>

<p>ì™œ ì´ê²Œ ê¸ˆìœµì—ì„œ ê°€ì¥ ì¤‘ìš”í• ê¹Œ? í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ ì´ ë°”ë¡œ ë‚´ì ì´ê¸° ë•Œë¬¸ì´ë‹¤:</p>

<pre><code><span class="cm"># í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥  = ë¹„ì¤‘ ë²¡í„° Â· ìˆ˜ìµë¥  ë²¡í„°</span>
weights = np.array([<span class="nu">0.30</span>, <span class="nu">0.25</span>, <span class="nu">0.20</span>, <span class="nu">0.15</span>, <span class="nu">0.10</span>])
returns = np.array([<span class="nu">0.02</span>, -<span class="nu">0.01</span>, <span class="nu">0.03</span>, <span class="nu">0.005</span>, -<span class="nu">0.015</span>])

<span class="cm"># ìˆ˜ë™ ê³„ì‚°: ê° ì¢…ëª© ê¸°ì—¬ë¶„ì„ ë”í•œë‹¤</span>
manual = (<span class="nu">0.30</span>*<span class="nu">0.02</span>) + (<span class="nu">0.25</span>*(-<span class="nu">0.01</span>)) + (<span class="nu">0.20</span>*<span class="nu">0.03</span>) + (<span class="nu">0.15</span>*<span class="nu">0.005</span>) + (<span class="nu">0.10</span>*(-<span class="nu">0.015</span>))
<span class="fn">print</span>(<span class="st">f"ìˆ˜ë™ ê³„ì‚°: </span>{manual*100:.3f}<span class="st">%"</span>)  <span class="cm"># 0.825%</span>

<span class="cm"># NumPy ë‚´ì : í•œ ì¤„ë¡œ ë</span>
port_return = np.dot(weights, returns)
<span class="fn">print</span>(<span class="st">f"np.dot:    </span>{port_return*100:.3f}<span class="st">%"</span>)  <span class="cm"># 0.825%</span>

<span class="cm"># @ ì—°ì‚°ìë¡œë„ ê°€ëŠ¥ (Python 3.5+)</span>
port_return2 = weights @ returns
<span class="fn">print</span>(<span class="st">f"@ ì—°ì‚°ì:  </span>{port_return2*100:.3f}<span class="st">%"</span>)  <span class="cm"># 0.825%</span></code></pre>
<div class="code-output"><span class="out-label">Output:</span>
ìˆ˜ë™ ê³„ì‚°: 0.825%
np.dot:    0.825%
@ ì—°ì‚°ì:  0.825%</div>


<div class="def">
<p class="ni"><strong>í•µì‹¬ ê³µì‹: í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ </strong></p>
<div class="eq">\[ R_p = \mathbf{w}^T \mathbf{r} = \sum_{i=1}^{n} w_i \cdot r_i \]</div>
<p class="ni">ì—¬ê¸°ì„œ \(\mathbf{w}\)ëŠ” ë¹„ì¤‘ ë²¡í„°, \(\mathbf{r}\)ì€ ìˆ˜ìµë¥  ë²¡í„°ë‹¤. ì´ ê³µì‹ì€ ì•ìœ¼ë¡œ Round 10ê¹Œì§€ ê³„ì† ë“±ì¥í•œë‹¤. ë°˜ë“œì‹œ ì™¸ìš°ì.</p>
</div>

<p>ë‚´ì ì˜ ê¸°í•˜í•™ì  ì˜ë¯¸ë„ ì•Œì•„ë‘ë©´ ì¢‹ë‹¤. ë‚´ì ì€ "ë‘ ë²¡í„°ê°€ ì–¼ë§ˆë‚˜ ê°™ì€ ë°©í–¥ì„ ê°€ë¦¬í‚¤ëŠ”ê°€"ë¥¼ ì¸¡ì •í•œë‹¤:</p>
<ul>
<li>ê°™ì€ ë°©í–¥ â†’ ë‚´ì  > 0 (ì–‘ìˆ˜)</li>
<li>ì§ê°(90Â°) â†’ ë‚´ì  = 0</li>
<li>ë°˜ëŒ€ ë°©í–¥ â†’ ë‚´ì  < 0 (ìŒìˆ˜)</li>
</ul>

<p>ì´ ì„±ì§ˆì€ ë‚˜ì¤‘ì— ìƒê´€ê³„ìˆ˜(Ch.7)ì™€ ì½”ì‚¬ì¸ ìœ ì‚¬ë„(NLP, Round 6)ì—ì„œ ë‹¤ì‹œ ë“±ì¥í•œë‹¤.</p>

<h3>2.4 ë²¡í„°ì˜ í¬ê¸°: ë…¸ë¦„ (Norm)</h3>
<p>ë²¡í„°ì˜ "í¬ê¸°"ë¥¼ ì¸¡ì •í•˜ëŠ” ë°©ë²•ì„ ë…¸ë¦„(norm)ì´ë¼ í•œë‹¤. ê°€ì¥ í”í•œ ê²ƒì´ L2 ë…¸ë¦„(ìœ í´ë¦¬ë“œ ê±°ë¦¬)ì´ë‹¤. í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬ì˜ ì¼ë°˜í™”ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.</p>

<div class="eq">\[ \|\mathbf{v}\|_2 = \sqrt{v_1^2 + v_2^2 + \cdots + v_n^2} = \sqrt{\sum_{i=1}^{n} v_i^2} \]</div>

<p>ì˜ˆë¥¼ ë“¤ì–´ ë²¡í„° <code>[3, 4]</code>ì˜ L2 ë…¸ë¦„ì€ \(\sqrt{3^2 + 4^2} = \sqrt{25} = 5\)ë‹¤. ì§ê°ì‚¼ê°í˜•ì˜ ë¹—ë³€ ê¸¸ì´ì™€ ê°™ë‹¤.</p>

<pre><code>v = np.array([<span class="nu">3</span>, <span class="nu">4</span>])

<span class="cm"># L2 ë…¸ë¦„ (ìœ í´ë¦¬ë“œ ê±°ë¦¬) â€” ê°€ì¥ ë§ì´ ì‚¬ìš©</span>
l2 = np.linalg.norm(v)
<span class="fn">print</span>(<span class="st">f"L2 norm: </span>{l2}<span class="st">"</span>)  <span class="cm"># 5.0</span>

<span class="cm"># L1 ë…¸ë¦„ (ë§¨í•´íŠ¼ ê±°ë¦¬) â€” ì ˆëŒ“ê°’ì˜ í•©</span>
l1 = np.linalg.norm(v, ord=<span class="nu">1</span>)
<span class="fn">print</span>(<span class="st">f"L1 norm: </span>{l1}<span class="st">"</span>)  <span class="cm"># 7.0 (= |3| + |4|)</span>

<span class="cm"># ê¸ˆìœµ ì˜ˆ: ìˆ˜ìµë¥  ë²¡í„°ì˜ L2 ë…¸ë¦„ â‰ˆ ë³€ë™ì„±ì˜ proxy</span>
daily_returns = np.array([<span class="nu">0.02</span>, -<span class="nu">0.01</span>, <span class="nu">0.03</span>, -<span class="nu">0.02</span>, <span class="nu">0.01</span>])
<span class="fn">print</span>(<span class="st">f"ìˆ˜ìµë¥  L2 norm: </span>{np.linalg.norm(daily_returns):.4f}<span class="st">"</span>)</code></pre>
<div class="code-output"><span class="out-label">Output:</span>
L2 norm: 5.0</div>


<div class="info">
<p class="ni"><strong>MLì—ì„œ ë…¸ë¦„ì˜ ì—­í• :</strong></p>
<ul>
<li><strong>L2 ë…¸ë¦„ â†’ Ridge ì •ê·œí™”:</strong> ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ L2 ë…¸ë¦„ì„ ì¤„ì—¬ì„œ ê³¼ì í•© ë°©ì§€ (Round 4)</li>
<li><strong>L1 ë…¸ë¦„ â†’ Lasso ì •ê·œí™”:</strong> ëª¨ë¸ ê°€ì¤‘ì¹˜ì˜ L1 ë…¸ë¦„ì„ ì¤„ì—¬ì„œ ë¶ˆí•„ìš”í•œ í”¼ì²˜ ì œê±° (Round 4)</li>
<li><strong>L2 ë…¸ë¦„ â†’ ìœ í´ë¦¬ë“œ ê±°ë¦¬:</strong> KNN ì•Œê³ ë¦¬ì¦˜ì—ì„œ ë°ì´í„° ê°„ ê±°ë¦¬ ì¸¡ì • (Round 4)</li>
</ul>
<p class="ni">ì§€ê¸ˆì€ "ë…¸ë¦„ = ë²¡í„°ì˜ í¬ê¸°"ë¼ëŠ” ê²ƒë§Œ ê¸°ì–µí•˜ë©´ ëœë‹¤.</p>
</div>

<h3>2.5 ë‹¨ìœ„ë²¡í„° (Unit Vector)</h3>
<p>ë²¡í„°ë¥¼ ìê¸° ìì‹ ì˜ ë…¸ë¦„ìœ¼ë¡œ ë‚˜ëˆ„ë©´ í¬ê¸°ê°€ 1ì¸ ë²¡í„°, ì¦‰ ë‹¨ìœ„ë²¡í„°ê°€ ëœë‹¤. ë°©í–¥ì€ ìœ ì§€í•˜ë˜ í¬ê¸°ë§Œ 1ë¡œ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì´ ê³¼ì •ì„ ì •ê·œí™”(normalization)ë¼ í•œë‹¤.</p>

<pre><code>v = np.array([<span class="nu">3</span>, <span class="nu">4</span>])
unit_v = v / np.linalg.norm(v)
<span class="fn">print</span>(<span class="st">f"ë‹¨ìœ„ë²¡í„°: </span>{unit_v}<span class="st">"</span>)                    <span class="cm"># [0.6, 0.8]</span>
<span class="fn">print</span>(<span class="st">f"í¬ê¸° í™•ì¸: </span>{np.linalg.norm(unit_v)}<span class="st">"</span>)  <span class="cm"># 1.0</span></code></pre>

<p>ê¸ˆìœµì—ì„œ ë‹¨ìœ„ë²¡í„°ì˜ ì˜ë¯¸: í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘ ë²¡í„°ë¥¼ ì •ê·œí™”í•˜ë©´ "ë°©í–¥"(ì–´ë–¤ ì¢…ëª©ì— ìƒëŒ€ì ìœ¼ë¡œ ë” íˆ¬ìí•˜ëŠ”ê°€)ë§Œ ë‚¨ê³  "í¬ê¸°"(ì´ íˆ¬ìê¸ˆì•¡)ëŠ” ì‚¬ë¼ì§„ë‹¤. ì´ê²ƒì´ ë°”ë¡œ "ì „ëµì˜ ë°©í–¥ì„±"ì´ë‹¤.</p>

<!-- â•â•â• Plotly: Ch.1/2 ë²¡í„° ì—°ì‚° ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™” â•â•â• -->
<div id="plot-ch2-vectors" style="width:100%;height:500px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ ë“œë˜ê·¸ë¡œ íšŒì „, ìŠ¤í¬ë¡¤ë¡œ í™•ëŒ€/ì¶•ì†Œ. ë²¡í„° a, b, a+b, ë‚´ì  ë°©í–¥ì„ 3Dë¡œ í™•ì¸í•˜ì„¸ìš”.</p>
<script>
(function(){
  // 3D ë²¡í„° ì‹œê°í™”: a, b, a+b, ë‚´ì  ê´€ê³„
  var a = [3, 2, 1], b = [1, 4, 2];
  var apb = [a[0]+b[0], a[1]+b[1], a[2]+b[2]];
  
  function arrow3d(start, end, color, name) {
    return {
      x: [start[0], end[0]], y: [start[1], end[1]], z: [start[2], end[2]],
      mode: 'lines+markers', type: 'scatter3d',
      line: {color: color, width: 6},
      marker: {size: [3, 6], color: color, symbol: ['circle','diamond']},
      name: name
    };
  }
  
  var traces = [
    arrow3d([0,0,0], a, '#3498db', 'a = [3, 2, 1]'),
    arrow3d([0,0,0], b, '#e74c3c', 'b = [1, 4, 2]'),
    arrow3d([0,0,0], apb, '#27ae60', 'a+b = [4, 6, 3]'),
    // aì˜ ëì—ì„œ bë¥¼ ì´ì–´ë¶™ì¸ ì ì„ 
    {x:[a[0],apb[0]], y:[a[1],apb[1]], z:[a[2],apb[2]],
     mode:'lines', type:'scatter3d',
     line:{color:'#e74c3c', width:3, dash:'dash'}, name:'b (ì´ë™)', showlegend:false},
    // ë‚´ì  = 3*1+2*4+1*2 = 13
    {x:[0], y:[0], z:[0], mode:'markers', type:'scatter3d',
     marker:{size:8, color:'#f39c12'}, name:'dot(a,b) = 13', showlegend:true}
  ];
  
  var layout = {
    title: {text:'3D ë²¡í„° ì—°ì‚°: a, b, a+b (ë²¡í„° ë§ì…ˆì˜ ê¸°í•˜í•™)', font:{size:14}},
    scene: {
      xaxis: {title:'x', range:[-1,6]},
      yaxis: {title:'y', range:[-1,7]},
      zaxis: {title:'z', range:[-1,5]},
      camera: {eye:{x:1.5, y:1.5, z:1.2}}
    },
    legend: {x:0.01, y:0.99, font:{size:11}},
    margin: {l:0, r:0, t:40, b:0},
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    annotations: [{
      text: 'ë‚´ì  aÂ·b = 3Ã—1 + 2Ã—4 + 1Ã—2 = 13 (ì–‘ìˆ˜ â†’ ê°™ì€ ë°©í–¥)',
      showarrow: false, x: 0.5, y: -0.05, xref:'paper', yref:'paper',
      font:{size:12, color:'#e67e22'}
    }]
  };
  
  Plotly.newPlot('plot-ch2-vectors', traces, layout, {responsive:true});
})();
</script>

<div class="tc">Table 1. ë²¡í„° ì—°ì‚° ìš”ì•½</div>
<table>
<tr><th>ì—°ì‚°</th><th>ìˆ˜í•™ í‘œê¸°</th><th>NumPy ì½”ë“œ</th><th>ê²°ê³¼ íƒ€ì…</th><th>ê¸ˆìœµ ì˜ë¯¸</th></tr>
<tr><td>ë§ì…ˆ</td><td>\(\mathbf{a} + \mathbf{b}\)</td><td><code>a + b</code></td><td>ë²¡í„°</td><td>ë‘ í¬íŠ¸í´ë¦¬ì˜¤ í•©ì‚°</td></tr>
<tr><td>ìŠ¤ì¹¼ë¼ê³±</td><td>\(c\mathbf{a}\)</td><td><code>c * a</code></td><td>ë²¡í„°</td><td>ë ˆë²„ë¦¬ì§€ / ì¶•ì†Œ</td></tr>
<tr><td>ì›ì†Œë³„ê³±</td><td>\(a_i b_i\)</td><td><code>a * b</code></td><td>ë²¡í„°</td><td>ì¢…ëª©ë³„ ê¸°ì—¬ë¶„</td></tr>
<tr><td>ë‚´ì </td><td>\(\mathbf{a} \cdot \mathbf{b}\)</td><td><code>np.dot(a,b)</code> ë˜ëŠ” <code>a @ b</code></td><td>ìŠ¤ì¹¼ë¼</td><td>í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ </td></tr>
<tr><td>L2 ë…¸ë¦„</td><td>\(\|\mathbf{a}\|_2\)</td><td><code>np.linalg.norm(a)</code></td><td>ìŠ¤ì¹¼ë¼</td><td>ë³€ë™ì„± proxy</td></tr>
</table>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch3: í–‰ë ¬ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch3">3. í–‰ë ¬: ë°ì´í„°ì˜ í‘œ (Matrices)</h2>

<h3>3.1 í–‰ë ¬ì´ë€?</h3>
<p>ë²¡í„°ê°€ ìˆ«ìì˜ "1ì°¨ì› ëª©ë¡"ì´ë¼ë©´, í–‰ë ¬(matrix)ì€ ìˆ«ìì˜ "2ì°¨ì› í‘œ"ë‹¤. ì—‘ì…€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ë¥¼ ë– ì˜¬ë¦¬ë©´ ëœë‹¤. í–‰(row)ê³¼ ì—´(column)ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.</p>

<p>ê¸ˆìœµì—ì„œ í–‰ë ¬ì´ ë“±ì¥í•˜ëŠ” ê°€ì¥ ëŒ€í‘œì ì¸ ìƒí™©: ì—¬ëŸ¬ ì¢…ëª©ì˜ ì—¬ëŸ¬ ë‚ ì§œ ìˆ˜ìµë¥  ë°ì´í„°ë‹¤.</p>

<pre><code><span class="cm"># 3ì¼ Ã— 4ì¢…ëª© ìˆ˜ìµë¥  ë°ì´í„° = í–‰ë ¬!</span>
<span class="cm">#              ì‚¼ì„±    SKí•˜ì´ë‹‰ìŠ¤  NAVER   ì¹´ì¹´ì˜¤</span>
R = np.array([
    [<span class="nu">0.02</span>,   -<span class="nu">0.01</span>,    <span class="nu">0.03</span>,   <span class="nu">0.01</span>],   <span class="cm"># Day 1</span>
    [-<span class="nu">0.01</span>,   <span class="nu">0.02</span>,   -<span class="nu">0.02</span>,   <span class="nu">0.005</span>],  <span class="cm"># Day 2</span>
    [<span class="nu">0.015</span>,   <span class="nu">0.01</span>,    <span class="nu">0.01</span>,  -<span class="nu">0.01</span>]   <span class="cm"># Day 3</span>
])

<span class="fn">print</span>(<span class="st">f"Shape: </span>{R.shape}<span class="st">"</span>)      <span class="cm"># (3, 4) â†’ 3í–‰ 4ì—´</span>
<span class="fn">print</span>(<span class="st">f"í–‰(ë‚ ì§œ) ìˆ˜: </span>{R.shape[0]}<span class="st">"</span>)  <span class="cm"># 3</span>
<span class="fn">print</span>(<span class="st">f"ì—´(ì¢…ëª©) ìˆ˜: </span>{R.shape[1]}<span class="st">"</span>)  <span class="cm"># 4</span>

<span class="cm"># íŠ¹ì • ì›ì†Œ ì ‘ê·¼: R[í–‰, ì—´]</span>
<span class="fn">print</span>(<span class="st">f"Day1 ì‚¼ì„± ìˆ˜ìµë¥ : </span>{R[0, 0]}<span class="st">"</span>)   <span class="cm"># 0.02</span>
<span class="fn">print</span>(<span class="st">f"Day2 ì „ì²´: </span>{R[1]}<span class="st">"</span>)             <span class="cm"># [-0.01, 0.02, -0.02, 0.005]</span>
<span class="fn">print</span>(<span class="st">f"NAVER ì „ì²´: </span>{R[:, 2]}<span class="st">"</span>)         <span class="cm"># [0.03, -0.02, 0.01]</span></code></pre>

<div class="eq">\[ \mathbf{R} = \begin{bmatrix} r_{1,1} & r_{1,2} & \cdots & r_{1,m} \\ r_{2,1} & r_{2,2} & \cdots & r_{2,m} \\ \vdots & \vdots & \ddots & \vdots \\ r_{n,1} & r_{n,2} & \cdots & r_{n,m} \end{bmatrix} \quad \text{nì¼ Ã— mì¢…ëª©} \]</div>

<p>í–‰ë ¬ì˜ í¬ê¸°ë¥¼ í‘œí˜„í•  ë•Œ í•­ìƒ "í–‰ Ã— ì—´" ìˆœì„œë‹¤. (3, 4) í–‰ë ¬ì€ 3í–‰ 4ì—´ì´ë‹¤. ì´ ìˆœì„œë¥¼ í—·ê°ˆë¦¬ë©´ ë‚˜ì¤‘ì— í–‰ë ¬ê³±ì—ì„œ ê³ ìƒí•œë‹¤.</p>

<h3>3.2 ì™œ í–‰ë ¬ì„ ë°°ì›Œì•¼ í•˜ëŠ”ê°€?</h3>
<p>í–‰ë ¬ì€ MLê³¼ ê¸ˆìœµì˜ ëª¨ë“  ê³³ì— ìˆë‹¤:</p>

<ul>
<li><strong>ë°ì´í„°ì…‹:</strong> 1000ì¼ Ã— 50ì¢…ëª© ìˆ˜ìµë¥  = (1000, 50) í–‰ë ¬</li>
<li><strong>ê³µë¶„ì‚° í–‰ë ¬:</strong> 50ì¢…ëª© ê°„ì˜ ê³µë¶„ì‚° = (50, 50) í–‰ë ¬ â†’ í¬íŠ¸í´ë¦¬ì˜¤ ìœ„í—˜ ê³„ì‚°ì˜ í•µì‹¬</li>
<li><strong>ì‹ ê²½ë§ ê°€ì¤‘ì¹˜:</strong> ì…ë ¥ 100ê°œ â†’ ì¶œë ¥ 50ê°œ ë ˆì´ì–´ = (100, 50) ê°€ì¤‘ì¹˜ í–‰ë ¬</li>
<li><strong>ì´ë¯¸ì§€:</strong> 28Ã—28 í”½ì…€ í‘ë°± ì´ë¯¸ì§€ = (28, 28) í–‰ë ¬</li>
<li><strong>íšŒê·€ë¶„ì„:</strong> \(\hat{\mathbf{y}} = \mathbf{X}\boldsymbol{\beta}\) â€” í–‰ë ¬ê³± í•˜ë‚˜ë¡œ í‘œí˜„</li>
</ul>

<p>ì¦‰, ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ëª¨ë“  ì‘ì—…ì´ í–‰ë ¬ ì—°ì‚°ì´ë‹¤. Pandas DataFrameë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” NumPy í–‰ë ¬ì´ë‹¤.</p>

<!-- â”€â”€ ë³´ì¶© 3.2+ í–‰ë ¬ = ë³€í™˜ì´ë¼ëŠ” ì§ê´€ â”€â”€ -->
<div class="info">
<p class="ni"><strong>ğŸ” ë³´ì¶©: í–‰ë ¬ = ë³€í™˜(Transformation)ì´ë¼ëŠ” í•µì‹¬ ì§ê´€</strong></p>
<p class="ni">í–‰ë ¬ì„ "ìˆ«ìì˜ í‘œ"ë¡œë§Œ ì´í•´í•˜ë©´ ì ˆë°˜ë§Œ ì•„ëŠ” ê²ƒì´ë‹¤. í–‰ë ¬ì˜ ì§„ì§œ ì •ì²´ëŠ” <strong>ë³€í™˜(transformation)</strong>ì´ë‹¤. í–‰ë ¬ì— ë²¡í„°ë¥¼ ê³±í•˜ë©´ ê·¸ ë²¡í„°ê°€ ë‹¤ë¥¸ ë²¡í„°ë¡œ ë³€í™˜ëœë‹¤. ì´ê²ƒì´ ì™œ ì¤‘ìš”í•œê°€?</p>
<p class="ni">ë¹„ìœ ë¥¼ ë“¤ì–´ë³´ì. ë‹¹ì‹ ì´ í¬í† ìƒµì—ì„œ ì´ë¯¸ì§€ë¥¼ íšŒì „ì‹œí‚¤ê±°ë‚˜, í™•ëŒ€í•˜ê±°ë‚˜, ê¸°ìš¸ì´ëŠ” ì‘ì—…ì„ í•œë‹¤ê³  í•˜ì. ì´ ëª¨ë“  ì‘ì—…ì´ í–‰ë ¬ê³±ì´ë‹¤:</p>
<ul>
<li><strong>íšŒì „:</strong> íšŒì „ í–‰ë ¬ Ã— ì¢Œí‘œ ë²¡í„° = íšŒì „ëœ ì¢Œí‘œ</li>
<li><strong>í™•ëŒ€/ì¶•ì†Œ:</strong> ìŠ¤ì¼€ì¼ í–‰ë ¬ Ã— ì¢Œí‘œ ë²¡í„° = í™•ëŒ€ëœ ì¢Œí‘œ</li>
<li><strong>ê¸°ìš¸ì´ê¸°:</strong> ì „ë‹¨(shear) í–‰ë ¬ Ã— ì¢Œí‘œ ë²¡í„° = ê¸°ìš¸ì–´ì§„ ì¢Œí‘œ</li>
</ul>
<p class="ni">ê¸ˆìœµì—ì„œë„ ë§ˆì°¬ê°€ì§€ë‹¤:</p>
<ul>
<li><strong>ê³µë¶„ì‚° í–‰ë ¬ Î£:</strong> "ìˆ˜ìµë¥  ê³µê°„ì„ ìœ„í—˜ êµ¬ì¡°ì— ë”°ë¼ ë³€í™˜í•˜ëŠ” í–‰ë ¬". Î£ì— ë¹„ì¤‘ ë²¡í„° wë¥¼ ê³±í•˜ë©´ ê° ì¢…ëª©ì´ í¬íŠ¸í´ë¦¬ì˜¤ ìœ„í—˜ì— ê¸°ì—¬í•˜ëŠ” ì •ë„ê°€ ë‚˜ì˜¨ë‹¤.</li>
<li><strong>ì‹ ê²½ë§ ê°€ì¤‘ì¹˜ í–‰ë ¬ W:</strong> "ì…ë ¥ í”¼ì²˜ ê³µê°„ì„ ì¶œë ¥ ê³µê°„ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í–‰ë ¬". 100ê°œ í”¼ì²˜ë¥¼ 50ê°œ ë‰´ëŸ°ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ (100Ã—50) í–‰ë ¬ê³±ì´ë‹¤.</li>
<li><strong>PCA ê³ ìœ ë²¡í„° í–‰ë ¬ V:</strong> "ì›ë˜ ì¢…ëª© ê³µê°„ì„ ì£¼ì„±ë¶„ ê³µê°„ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í–‰ë ¬". 50ê°œ ì¢…ëª©ì„ 3ê°œ íŒ©í„°ë¡œ ë³€í™˜í•œë‹¤.</li>
</ul>
<p class="ni">ì´ "í–‰ë ¬ = ë³€í™˜" ì§ê´€ì„ ê°€ì§€ë©´, ë‚˜ì¤‘ì— ê³ ìœ ê°’ ë¶„í•´(Ch.5)ê°€ "ë³€í™˜ì˜ ë³¸ì§ˆì  ë°©í–¥ê³¼ í¬ê¸°ë¥¼ ë¶„í•´í•˜ëŠ” ê²ƒ"ì´ë¼ëŠ” ê²ƒì„ ìì—°ìŠ¤ëŸ½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.</p>
</div>

<pre><code><span class="cm"># í–‰ë ¬ = ë³€í™˜ì˜ ì‹œê°ì  í™•ì¸</span>
<span class="cm"># 2D ë²¡í„°ë“¤ì— í–‰ë ¬ì„ ê³±í•˜ë©´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ë³´ì</span>

<span class="cm"># ì›ë˜ ì ë“¤: ë‹¨ìœ„ ì› ìœ„ì˜ ì ë“¤</span>
theta = np.linspace(<span class="nu">0</span>, <span class="nu">2</span>*np.pi, <span class="nu">100</span>)
circle = np.array([np.cos(theta), np.sin(theta)])  <span class="cm"># (2, 100)</span>

<span class="cm"># ë³€í™˜ í–‰ë ¬: ê³µë¶„ì‚° í–‰ë ¬ì²˜ëŸ¼ ìƒê¸´ í–‰ë ¬</span>
A = np.array([[<span class="nu">2</span>, <span class="nu">1</span>],
              [<span class="nu">1</span>, <span class="nu">3</span>]])

<span class="cm"># ë³€í™˜ ì ìš©: ì›ì´ íƒ€ì›ìœ¼ë¡œ ë³€í•œë‹¤!</span>
ellipse = A @ circle  <span class="cm"># (2, 100)</span>

fig, (ax1, ax2) = plt.subplots(<span class="nu">1</span>, <span class="nu">2</span>, figsize=(<span class="nu">12</span>, <span class="nu">5</span>))
ax1.plot(circle[<span class="nu">0</span>], circle[<span class="nu">1</span>], <span class="st">'b-'</span>, linewidth=<span class="nu">2</span>)
ax1.set_title(<span class="st">"ë³€í™˜ ì „: ë‹¨ìœ„ ì›"</span>)
ax1.set_aspect(<span class="st">'equal'</span>); ax1.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
ax1.set_xlim(-<span class="nu">4</span>, <span class="nu">4</span>); ax1.set_ylim(-<span class="nu">4</span>, <span class="nu">4</span>)

ax2.plot(ellipse[<span class="nu">0</span>], ellipse[<span class="nu">1</span>], <span class="st">'r-'</span>, linewidth=<span class="nu">2</span>)
ax2.set_title(<span class="st">"ë³€í™˜ í›„: íƒ€ì› (í–‰ë ¬ Aë¥¼ ê³±í•œ ê²°ê³¼)"</span>)
ax2.set_aspect(<span class="st">'equal'</span>); ax2.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
ax2.set_xlim(-<span class="nu">4</span>, <span class="nu">4</span>); ax2.set_ylim(-<span class="nu">4</span>, <span class="nu">4</span>)

plt.suptitle(<span class="st">"í–‰ë ¬ = ë³€í™˜: ì›ì´ íƒ€ì›ìœ¼ë¡œ ë³€í•œë‹¤"</span>, fontsize=<span class="nu">14</span>)
plt.tight_layout()
plt.show()
<span class="cm"># â†’ íƒ€ì›ì˜ ì¥ì¶• ë°©í–¥ = ê³ ìœ ë²¡í„°, ì¥ì¶• ê¸¸ì´ = ê³ ìœ ê°’!</span></code></pre>
<div class="code-output"><span class="out-label">Output:</span>
ê³µë¶„ì‚° í–‰ë ¬:
          ì‚¼ì„±ì „ì  SKí•˜ì´ë‹‰ìŠ¤  NAVER    AAPL     MSFT
ì‚¼ì„±ì „ì    3.41     2.87     1.23    0.45     0.38
SKí•˜ì´ë‹‰ìŠ¤  2.87     6.42     1.56    0.67     0.52
NAVER      1.23     1.56     4.51    0.34     0.29
AAPL       0.45     0.67     0.34    2.12     1.45
MSFT       0.38     0.52     0.29    1.45     1.93</div>


<h3>3.3 íŠ¹ìˆ˜ í–‰ë ¬ë“¤</h3>
<p>ìì£¼ ë“±ì¥í•˜ëŠ” íŠ¹ìˆ˜í•œ í–‰ë ¬ë“¤ì´ ìˆë‹¤. ì´ë¦„ê³¼ ëª¨ì–‘ì„ ê¸°ì–µí•´ë‘ì.</p>

<pre><code><span class="cm"># 1. ë‹¨ìœ„í–‰ë ¬ (Identity Matrix) â€” ê³±í•´ë„ ë³€í•˜ì§€ ì•ŠëŠ” í–‰ë ¬</span>
<span class="cm"># ìˆ«ìì—ì„œ 1ì˜ ì—­í• . A Ã— I = A</span>
I = np.eye(<span class="nu">3</span>)
<span class="fn">print</span>(<span class="st">"ë‹¨ìœ„í–‰ë ¬:\n"</span>, I)
<span class="cm"># [[1. 0. 0.]</span>
<span class="cm">#  [0. 1. 0.]</span>
<span class="cm">#  [0. 0. 1.]]</span>

<span class="cm"># 2. ì˜í–‰ë ¬ (Zero Matrix) â€” ëª¨ë“  ì›ì†Œê°€ 0</span>
Z = np.zeros((<span class="nu">3</span>, <span class="nu">3</span>))

<span class="cm"># 3. ëŒ€ê°í–‰ë ¬ (Diagonal Matrix) â€” ëŒ€ê°ì„ ë§Œ ê°’ì´ ìˆìŒ</span>
<span class="cm"># í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘ì„ ëŒ€ê°í–‰ë ¬ë¡œ ë§Œë“¤ë©´ ìœ ìš©</span>
D = np.diag([<span class="nu">0.3</span>, <span class="nu">0.25</span>, <span class="nu">0.25</span>, <span class="nu">0.2</span>])
<span class="fn">print</span>(<span class="st">"ëŒ€ê°í–‰ë ¬:\n"</span>, D)

<span class="cm"># 4. ëŒ€ì¹­í–‰ë ¬ (Symmetric Matrix) â€” ì „ì¹˜í•´ë„ ê°™ì€ í–‰ë ¬</span>
<span class="cm"># ê³µë¶„ì‚° í–‰ë ¬ì´ ëŒ€í‘œì ì¸ ëŒ€ì¹­í–‰ë ¬!</span>
S = np.array([[<span class="nu">4</span>, <span class="nu">2</span>, <span class="nu">1</span>],
              [<span class="nu">2</span>, <span class="nu">3</span>, <span class="nu">1.5</span>],
              [<span class="nu">1</span>, <span class="nu">1.5</span>, <span class="nu">5</span>]])
<span class="fn">print</span>(<span class="st">f"ëŒ€ì¹­ í™•ì¸: </span>{np.allclose(S, S.T)}<span class="st">"</span>)  <span class="cm"># True</span></code></pre>

<div class="tc">Table 2. ê¸ˆìœµì—ì„œ ìì£¼ ë“±ì¥í•˜ëŠ” í–‰ë ¬</div>
<table>
<tr><th>í–‰ë ¬</th><th>í¬ê¸°</th><th>íŠ¹ì§•</th><th>ê¸ˆìœµ ì˜ë¯¸</th></tr>
<tr><td>ìˆ˜ìµë¥  í–‰ë ¬ \(\mathbf{R}\)</td><td>n Ã— m</td><td>ì¼ë°˜ í–‰ë ¬</td><td>nì¼ê°„ mì¢…ëª©ì˜ ìˆ˜ìµë¥ </td></tr>
<tr><td>ê³µë¶„ì‚° í–‰ë ¬ \(\boldsymbol{\Sigma}\)</td><td>m Ã— m</td><td>ëŒ€ì¹­, ì–‘ë°˜ì •ì¹˜</td><td>ì¢…ëª© ê°„ ê³µë¶„ì‚° (ìœ„í—˜ êµ¬ì¡°)</td></tr>
<tr><td>ìƒê´€í–‰ë ¬ \(\boldsymbol{\rho}\)</td><td>m Ã— m</td><td>ëŒ€ì¹­, ëŒ€ê°ì„ =1</td><td>ì¢…ëª© ê°„ ìƒê´€ê³„ìˆ˜</td></tr>
<tr><td>ë¹„ì¤‘ ë²¡í„° \(\mathbf{w}\)</td><td>m Ã— 1</td><td>í•©=1</td><td>í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘</td></tr>
<tr><td>íŒ©í„° ë¡œë”© \(\mathbf{B}\)</td><td>m Ã— k</td><td>ì¼ë°˜ í–‰ë ¬</td><td>mì¢…ëª©ì˜ kíŒ©í„° ë…¸ì¶œë„</td></tr>
<tr><td>ë‹¨ìœ„í–‰ë ¬ \(\mathbf{I}\)</td><td>n Ã— n</td><td>ëŒ€ê°ì„ =1</td><td>ë¬´ìƒê´€ ê°€ì • ì‹œ ê³µë¶„ì‚°</td></tr>
</table>

<h3>3.4 í–‰ë ¬ ì¸ë±ì‹± ì‹¬í™”</h3>
<p>í–‰ë ¬ì—ì„œ ì›í•˜ëŠ” ë¶€ë¶„ë§Œ êº¼ë‚´ëŠ” ê²ƒì„ ì¸ë±ì‹±(indexing)ì´ë¼ í•œë‹¤. Round 1ì—ì„œ ë°°ìš´ NumPy ìŠ¬ë¼ì´ì‹±ì˜ 2ì°¨ì› í™•ì¥ì´ë‹¤.</p>

<pre><code><span class="cm"># 5ì¼ Ã— 3ì¢…ëª© ìˆ˜ìµë¥  í–‰ë ¬</span>
np.random.seed(<span class="nu">42</span>)
R = np.random.normal(<span class="nu">0</span>, <span class="nu">0.02</span>, (<span class="nu">5</span>, <span class="nu">3</span>))
stocks = [<span class="st">"ì‚¼ì„±"</span>, <span class="st">"SK"</span>, <span class="st">"NAVER"</span>]

<span class="cm"># íŠ¹ì • í–‰ (Day 0)</span>
<span class="fn">print</span>(<span class="st">"Day 0:"</span>, R[<span class="nu">0</span>])

<span class="cm"># íŠ¹ì • ì—´ (ì‚¼ì„± ì „ì²´)</span>
<span class="fn">print</span>(<span class="st">"ì‚¼ì„± 5ì¼:"</span>, R[:, <span class="nu">0</span>])

<span class="cm"># ë¶€ë¶„ í–‰ë ¬ (Day 1~3, ì‚¼ì„±+SK)</span>
<span class="fn">print</span>(<span class="st">"ë¶€ë¶„:\n"</span>, R[<span class="nu">1</span>:<span class="nu">4</span>, <span class="nu">0</span>:<span class="nu">2</span>])

<span class="cm"># ì¡°ê±´ ì¸ë±ì‹±: ì‚¼ì„± ìˆ˜ìµë¥ ì´ ì–‘ìˆ˜ì¸ ë‚ ë§Œ</span>
mask = R[:, <span class="nu">0</span>] > <span class="nu">0</span>
<span class="fn">print</span>(<span class="st">"ì‚¼ì„± ì–‘ìˆ˜ì¸ ë‚ :\n"</span>, R[mask])</code></pre>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch4: í–‰ë ¬ ì—°ì‚° -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch4">4. í–‰ë ¬ ì—°ì‚°</h2>

<h3>4.1 ì „ì¹˜ (Transpose)</h3>
<p>í–‰ë ¬ì˜ ì „ì¹˜(transpose)ëŠ” í–‰ê³¼ ì—´ì„ ë’¤ë°”ê¾¸ëŠ” ê²ƒì´ë‹¤. (3Ã—4) í–‰ë ¬ì„ ì „ì¹˜í•˜ë©´ (4Ã—3) í–‰ë ¬ì´ ëœë‹¤. ë§ˆì¹˜ ì—‘ì…€ì—ì„œ "í–‰/ì—´ ë°”ê¾¸ê¸°"ë¥¼ í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.</p>

<pre><code>A = np.array([[<span class="nu">1</span>, <span class="nu">2</span>, <span class="nu">3</span>],
              [<span class="nu">4</span>, <span class="nu">5</span>, <span class="nu">6</span>]])
<span class="fn">print</span>(<span class="st">f"A shape:   </span>{A.shape}<span class="st">"</span>)    <span class="cm"># (2, 3)</span>
<span class="fn">print</span>(<span class="st">f"A.T shape: </span>{A.T.shape}<span class="st">"</span>)  <span class="cm"># (3, 2)</span>

<span class="fn">print</span>(<span class="st">"A:\n"</span>, A)
<span class="cm"># [[1 2 3]</span>
<span class="cm">#  [4 5 6]]</span>

<span class="fn">print</span>(<span class="st">"A.T:\n"</span>, A.T)
<span class="cm"># [[1 4]</span>
<span class="cm">#  [2 5]</span>
<span class="cm">#  [3 6]]</span></code></pre>

<div class="eq">\[ (\mathbf{A}^T)_{ij} = \mathbf{A}_{ji} \]</div>

<p>ì „ì¹˜ê°€ ì™œ ì¤‘ìš”í•œê°€? í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° ê³µì‹ì—ì„œ \(\mathbf{w}^T \boldsymbol{\Sigma} \mathbf{w}\)ì²˜ëŸ¼ ì „ì¹˜ê°€ ë°˜ë“œì‹œ ë“±ì¥í•œë‹¤. ë˜í•œ ê³µë¶„ì‚° í–‰ë ¬ì€ ëŒ€ì¹­í–‰ë ¬ì´ë¯€ë¡œ \(\boldsymbol{\Sigma}^T = \boldsymbol{\Sigma}\)ë¼ëŠ” ì„±ì§ˆì´ ìˆë‹¤.</p>

<h3>4.2 í–‰ë ¬ê³± (Matrix Multiplication) â€” MLì˜ í•µì‹¬ ì—°ì‚°</h3>
<p>í–‰ë ¬ê³±ì€ MLì—ì„œ ê°€ì¥ ë§ì´ ìˆ˜í–‰ë˜ëŠ” ì—°ì‚°ì´ë‹¤. ì‹ ê²½ë§ì˜ ìˆœì „íŒŒ(forward pass), íšŒê·€ë¶„ì„, í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° ê³„ì‚° ëª¨ë‘ í–‰ë ¬ê³±ì´ë‹¤.</p>

<p>í–‰ë ¬ê³±ì˜ ê·œì¹™ì„ ë¹„ìœ ë¡œ ì„¤ëª…í•˜ì. Aê°€ "í•™ìƒ Ã— ê³¼ëª©" ì„±ì í‘œì´ê³ , Bê°€ "ê³¼ëª© Ã— ê°€ì¤‘ì¹˜" í‘œë¼ë©´, AÃ—BëŠ” "í•™ìƒ Ã— ê°€ì¤‘ í‰ê·  ì ìˆ˜"ê°€ ëœë‹¤. í•µì‹¬ì€ Aì˜ ì—´ ìˆ˜ì™€ Bì˜ í–‰ ìˆ˜ê°€ ê°™ì•„ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</p>

<div class="eq">\[ \underbrace{\mathbf{A}}_{m \times \color{red}{n}} \times \underbrace{\mathbf{B}}_{\color{red}{n} \times p} = \underbrace{\mathbf{C}}_{m \times p} \]</div>

<p>ë¹¨ê°„ìƒ‰ nì´ ê°™ì•„ì•¼ ê³±ì…ˆì´ ê°€ëŠ¥í•˜ë‹¤. ê²°ê³¼ì˜ í¬ê¸°ëŠ” ë°”ê¹¥ìª½ ì°¨ì›(mÃ—p)ì´ ëœë‹¤.</p>

<pre><code><span class="cm"># A(2Ã—3) @ B(3Ã—2) = C(2Ã—2)</span>
A = np.array([[<span class="nu">1</span>, <span class="nu">2</span>, <span class="nu">3</span>],
              [<span class="nu">4</span>, <span class="nu">5</span>, <span class="nu">6</span>]])  <span class="cm"># 2Ã—3</span>

B = np.array([[<span class="nu">7</span>, <span class="nu">8</span>],
              [<span class="nu">9</span>, <span class="nu">10</span>],
              [<span class="nu">11</span>, <span class="nu">12</span>]])    <span class="cm"># 3Ã—2</span>

C = A @ B  <span class="cm"># 2Ã—2</span>
<span class="fn">print</span>(<span class="st">"A @ B =\n"</span>, C)
<span class="cm"># [[ 58  64]</span>
<span class="cm">#  [139 154]]</span>

<span class="cm"># ìˆ˜ë™ ê³„ì‚°ìœ¼ë¡œ ì´í•´í•˜ê¸°:</span>
<span class="cm"># C[0,0] = 1*7 + 2*9 + 3*11 = 7 + 18 + 33 = 58</span>
<span class="cm"># C[0,1] = 1*8 + 2*10 + 3*12 = 8 + 20 + 36 = 64</span>
<span class="cm"># â†’ ê²°ê³¼ì˜ ê° ì›ì†ŒëŠ” "Aì˜ í–‰"ê³¼ "Bì˜ ì—´"ì˜ ë‚´ì !</span></code></pre>

<div class="def">
<p class="ni"><strong>í–‰ë ¬ê³±ì˜ í•µì‹¬ ì§ê´€:</strong></p>
<p class="ni">ê²°ê³¼ í–‰ë ¬ Cì˜ (i, j) ì›ì†ŒëŠ” Aì˜ ië²ˆì§¸ í–‰ ë²¡í„°ì™€ Bì˜ jë²ˆì§¸ ì—´ ë²¡í„°ì˜ ë‚´ì ì´ë‹¤.</p>
<div class="eq">\[ C_{ij} = \sum_{k=1}^{n} A_{ik} B_{kj} = \text{(Aì˜ ií–‰)} \cdot \text{(Bì˜ jì—´)} \]</div>
<p class="ni">ì¦‰, í–‰ë ¬ê³±ì€ "ë‚´ì ì„ ì—¬ëŸ¬ ë²ˆ í•œêº¼ë²ˆì— ê³„ì‚°í•˜ëŠ” ê²ƒ"ì´ë‹¤.</p>
</div>

<div class="warn">
<p class="ni"><strong>í–‰ë ¬ê³± ì£¼ì˜ì‚¬í•­:</strong></p>
<ul>
<li>AÃ—B â‰  BÃ—A (êµí™˜ë²•ì¹™ ì„±ë¦½ ì•ˆ í•¨!)</li>
<li>A(mÃ—n) Ã— B(nÃ—p) â†’ ê°€ëŠ¥. B(nÃ—p) Ã— A(mÃ—n) â†’ mâ‰ pì´ë©´ ë¶ˆê°€ëŠ¥</li>
<li><code>A * B</code>ëŠ” ì›ì†Œë³„ ê³±ì´ê³ , <code>A @ B</code>ê°€ í–‰ë ¬ê³±ì´ë‹¤. ì ˆëŒ€ í—·ê°ˆë¦¬ì§€ ë§ ê²ƒ!</li>
</ul>
</div>

<!-- â•â•â• Plotly: Ch.3/4 í–‰ë ¬ ë³€í™˜ ì‹œê°í™” (ì›â†’íƒ€ì›) â•â•â• -->
<div id="plot-ch4-transform" style="width:100%;height:480px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ í˜¸ë²„ë¡œ ì¢Œí‘œ í™•ì¸. íŒŒë€ ì›ì´ í–‰ë ¬ Aë¥¼ ê³±í•˜ë©´ ë¹¨ê°„ íƒ€ì›ìœ¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤. íƒ€ì›ì˜ ì¥ì¶• = ê³ ìœ ë²¡í„° ë°©í–¥!</p>
<script>
(function(){
  var N = 200;
  var cx = [], cy = [], ex = [], ey = [];
  var A = [[2, 1],[1, 3]]; // ë³€í™˜ í–‰ë ¬ (ê³µë¶„ì‚° í–‰ë ¬ì²˜ëŸ¼)
  
  for(var i=0; i<N; i++){
    var t = 2*Math.PI*i/N;
    var x0 = Math.cos(t), y0 = Math.sin(t);
    cx.push(x0); cy.push(y0);
    // í–‰ë ¬ ê³±: A @ [x0, y0]
    ex.push(A[0][0]*x0 + A[0][1]*y0);
    ey.push(A[1][0]*x0 + A[1][1]*y0);
  }
  
  // ê³ ìœ ë²¡í„° ë°©í–¥ (ìˆ˜ë™ ê³„ì‚°: Î»1â‰ˆ3.618, v1â‰ˆ[0.526,0.851])
  var ev1 = {x:[0, 0.526*3.618], y:[0, 0.851*3.618]};
  var ev2 = {x:[0, 0.851*1.382], y:[0, -0.526*1.382]};
  
  var traces = [
    {x:cx, y:cy, mode:'lines', name:'ì›ë˜: ë‹¨ìœ„ ì›', line:{color:'#3498db', width:3}},
    {x:ex, y:ey, mode:'lines', name:'ë³€í™˜ í›„: íƒ€ì› (AÃ—ì›)', line:{color:'#e74c3c', width:3}},
    {x:ev1.x, y:ev1.y, mode:'lines+markers', name:'ê³ ìœ ë²¡í„° 1 (Î»â‰ˆ3.62)',
     line:{color:'#f39c12', width:4, dash:'dash'}, marker:{size:[4,10], symbol:['circle','arrow-up']}},
    {x:ev2.x, y:ev2.y, mode:'lines+markers', name:'ê³ ìœ ë²¡í„° 2 (Î»â‰ˆ1.38)',
     line:{color:'#27ae60', width:4, dash:'dash'}, marker:{size:[4,10], symbol:['circle','arrow-up']}}
  ];
  
  var layout = {
    title:{text:'í–‰ë ¬ = ë³€í™˜: ë‹¨ìœ„ ì› â†’ íƒ€ì› (ê³ ìœ ë²¡í„° = ì¥ì¶•/ë‹¨ì¶• ë°©í–¥)', font:{size:14}},
    xaxis:{title:'x', range:[-5,5], zeroline:true, zerolinecolor:'#ccc'},
    yaxis:{title:'y', range:[-5,5], zeroline:true, zerolinecolor:'#ccc', scaleanchor:'x'},
    legend:{x:0.01, y:0.99, font:{size:11}},
    margin:{l:50, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)',
    shapes:[{type:'line',x0:-5,y0:0,x1:5,y1:0,line:{color:'#ddd',width:1}},
            {type:'line',x0:0,y0:-5,x1:0,y1:5,line:{color:'#ddd',width:1}}]
  };
  
  Plotly.newPlot('plot-ch4-transform', traces, layout, {responsive:true});
})();
</script>

<!-- â”€â”€ ë³´ì¶© 4.2+ ì™œ ì´ ìˆœì„œë¡œ ê³±í•˜ëŠ”ê°€ â”€â”€ -->
<div class="info">
<p class="ni"><strong>ğŸ” ë³´ì¶©: "ì™œ í–‰ë ¬ê³±ì€ ì´ ìˆœì„œë¡œ ê³±í•˜ëŠ”ê°€?" â€” ì§ê´€ì  ì´í•´</strong></p>
<p class="ni">í–‰ë ¬ê³±ì˜ ê·œì¹™(Aì˜ í–‰ Ã— Bì˜ ì—´)ì´ ì™œ ì´ë ‡ê²Œ ì •ì˜ë˜ì—ˆëŠ”ì§€ ì˜ì•„í•  ìˆ˜ ìˆë‹¤. ì›ì†Œë³„ ê³±ì²˜ëŸ¼ ê°™ì€ ìœ„ì¹˜ë¼ë¦¬ ê³±í•˜ë©´ ì•ˆ ë˜ëŠ” ê±¸ê¹Œ?</p>
<p class="ni">ë¹„ìœ ë¡œ ì´í•´í•˜ì. ë‹¹ì‹ ì´ 3ê°œ ê³¼ëª©(ìˆ˜í•™, ì˜ì–´, ê³¼í•™)ì˜ ì‹œí—˜ì„ ë´¤ê³ , ê° ê³¼ëª©ì— ê°€ì¤‘ì¹˜ê°€ ë‹¤ë¥´ë‹¤ê³  í•˜ì:</p>
<ul>
<li>ì„±ì : [90, 80, 70] (ìˆ˜í•™ 90ì , ì˜ì–´ 80ì , ê³¼í•™ 70ì )</li>
<li>ê°€ì¤‘ì¹˜: [0.5, 0.3, 0.2] (ìˆ˜í•™ 50%, ì˜ì–´ 30%, ê³¼í•™ 20%)</li>
<li>ê°€ì¤‘ í‰ê·  = 90Ã—0.5 + 80Ã—0.3 + 70Ã—0.2 = 45 + 24 + 14 = 83</li>
</ul>
<p class="ni">ì´ê²ƒì´ ë‚´ì ì´ë‹¤. í–‰ë ¬ê³±ì€ ì´ ë‚´ì ì„ "ì—¬ëŸ¬ í•™ìƒ Ã— ì—¬ëŸ¬ ê°€ì¤‘ì¹˜ ì¡°í•©"ì— ëŒ€í•´ í•œêº¼ë²ˆì— ê³„ì‚°í•˜ëŠ” ê²ƒì´ë‹¤:</p>
</div>

<pre><code><span class="cm"># í–‰ë ¬ê³±ì˜ ì§ê´€: "ì—¬ëŸ¬ ë‚´ì ì„ í•œêº¼ë²ˆì—"</span>
<span class="cm"># 3ëª…ì˜ í•™ìƒ Ã— 3ê³¼ëª© ì„±ì </span>
scores = np.array([
    [<span class="nu">90</span>, <span class="nu">80</span>, <span class="nu">70</span>],  <span class="cm"># í•™ìƒ A</span>
    [<span class="nu">60</span>, <span class="nu">95</span>, <span class="nu">85</span>],  <span class="cm"># í•™ìƒ B</span>
    [<span class="nu">75</span>, <span class="nu">70</span>, <span class="nu">90</span>]   <span class="cm"># í•™ìƒ C</span>
])  <span class="cm"># (3í•™ìƒ Ã— 3ê³¼ëª©)</span>

<span class="cm"># 2ê°€ì§€ ê°€ì¤‘ì¹˜ ì¡°í•©</span>
weights = np.array([
    [<span class="nu">0.5</span>, <span class="nu">0.3</span>, <span class="nu">0.2</span>],  <span class="cm"># ê°€ì¤‘ì¹˜ 1: ìˆ˜í•™ ì¤‘ì‹œ</span>
    [<span class="nu">0.2</span>, <span class="nu">0.5</span>, <span class="nu">0.3</span>]   <span class="cm"># ê°€ì¤‘ì¹˜ 2: ì˜ì–´ ì¤‘ì‹œ</span>
]).T  <span class="cm"># ì „ì¹˜! â†’ (3ê³¼ëª© Ã— 2ê°€ì¤‘ì¹˜)</span>

<span class="cm"># í–‰ë ¬ê³± = ëª¨ë“  (í•™ìƒ, ê°€ì¤‘ì¹˜) ì¡°í•©ì˜ ê°€ì¤‘í‰ê· </span>
result = scores @ weights  <span class="cm"># (3í•™ìƒ Ã— 2ê°€ì¤‘ì¹˜)</span>
<span class="fn">print</span>(<span class="st">"ê°€ì¤‘ í‰ê·  ì ìˆ˜:\n"</span>, result)
<span class="cm"># result[i, j] = ië²ˆì§¸ í•™ìƒì˜ jë²ˆì§¸ ê°€ì¤‘ì¹˜ ì¡°í•© ì ìˆ˜</span>
<span class="cm"># ì´ê²ƒì´ í–‰ë ¬ê³±ì˜ ë³¸ì§ˆ: "ëª¨ë“  ì¡°í•©ì˜ ë‚´ì ì„ í•œ ë²ˆì— ê³„ì‚°"</span>

<span class="cm"># ê¸ˆìœµ ì ìš©: ì—¬ëŸ¬ ë‚ ì˜ ìˆ˜ìµë¥  Ã— ë¹„ì¤‘ = ì—¬ëŸ¬ ë‚ ì˜ í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ </span>
<span class="cm"># R(250ì¼Ã—5ì¢…ëª©) @ w(5ì¢…ëª©Ã—1) = port_ret(250ì¼Ã—1)</span></code></pre>

<h3>4.3 ê¸ˆìœµ ì ìš©: í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚°</h3>
<p>í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚°(ìœ„í—˜ì˜ ì œê³±)ì€ í–‰ë ¬ê³±ìœ¼ë¡œ ì•„ë¦„ë‹µê²Œ í‘œí˜„ëœë‹¤:</p>

<div class="eq">\[ \sigma_p^2 = \mathbf{w}^T \boldsymbol{\Sigma} \mathbf{w} \]</div>

<p>ì´ ê³µì‹ì„ í’€ì–´ì“°ë©´: (1Ã—m) Ã— (mÃ—m) Ã— (mÃ—1) = (1Ã—1), ì¦‰ ìŠ¤ì¹¼ë¼ í•˜ë‚˜ê°€ ë‚˜ì˜¨ë‹¤. ì´ê²ƒì´ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ë¶„ì‚°ì´ë‹¤.</p>

<pre><code><span class="cm"># 3ì¢…ëª© í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° ê³„ì‚°</span>
w = np.array([<span class="nu">0.4</span>, <span class="nu">0.35</span>, <span class="nu">0.25</span>])  <span class="cm"># ë¹„ì¤‘ ë²¡í„°</span>

<span class="cm"># ê³µë¶„ì‚° í–‰ë ¬ (ì—°ê°„í™”)</span>
Sigma = np.array([
    [<span class="nu">0.04</span>,  <span class="nu">0.006</span>, <span class="nu">0.002</span>],   <span class="cm"># ì‚¼ì„± ë¶„ì‚°, ì‚¼ì„±-SK ê³µë¶„ì‚°, ...</span>
    [<span class="nu">0.006</span>, <span class="nu">0.09</span>,  <span class="nu">0.015</span>],   <span class="cm"># SK-ì‚¼ì„± ê³µë¶„ì‚°, SK ë¶„ì‚°, ...</span>
    [<span class="nu">0.002</span>, <span class="nu">0.015</span>, <span class="nu">0.0625</span>]   <span class="cm"># ...</span>
])

<span class="cm"># í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° = w^T @ Sigma @ w</span>
port_var = w @ Sigma @ w
port_vol = np.sqrt(port_var)

<span class="fn">print</span>(<span class="st">f"í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚°:   </span>{port_var:.6f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„±: </span>{port_vol*100:.2f}<span class="st">%"</span>)

<span class="cm"># ë¹„êµ: ê°œë³„ ì¢…ëª© ë³€ë™ì„±</span>
individual_vols = np.sqrt(np.diag(Sigma))
<span class="fn">print</span>(<span class="st">f"\nê°œë³„ ë³€ë™ì„±: </span>{individual_vols*100}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">f"ë‹¨ìˆœ í‰ê· :   </span>{(w @ individual_vols)*100:.2f}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ë¶„ì‚° íš¨ê³¼: í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± < ë‹¨ìˆœ í‰ê·  ë³€ë™ì„±!"</span>)</code></pre>

<div class="ok">
<p class="ni"><strong>ë¶„ì‚° íˆ¬ìì˜ ìˆ˜í•™ì  ì¦ëª…:</strong> í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„±ì´ ê°œë³„ ì¢…ëª© ë³€ë™ì„±ì˜ ê°€ì¤‘ í‰ê· ë³´ë‹¤ ì‘ë‹¤. ì´ê²ƒì€ ì¢…ëª© ê°„ ìƒê´€ê³„ìˆ˜ê°€ 1ë³´ë‹¤ ì‘ê¸°ë§Œ í•˜ë©´ ë°˜ë“œì‹œ ì„±ë¦½í•œë‹¤. ì´ê²ƒì´ "ë¶„ì‚° íˆ¬ìëŠ” ê³µì§œ ì ì‹¬"ì´ë¼ ë¶ˆë¦¬ëŠ” ì´ìœ ë‹¤. í•´ë¦¬ ë§ˆì½”ìœ„ì¸ ëŠ” ì´ ë°œê²¬ìœ¼ë¡œ 1990ë…„ ë…¸ë²¨ ê²½ì œí•™ìƒì„ ë°›ì•˜ë‹¤.</p>
</div>

<h3>4.4 ì—­í–‰ë ¬ (Inverse Matrix)</h3>
<p>ìˆ«ìì—ì„œ 5ì˜ ì—­ìˆ˜ëŠ” 1/5ì´ë‹¤. 5 Ã— (1/5) = 1. í–‰ë ¬ì—ì„œë„ ë¹„ìŠ·í•œ ê°œë…ì´ ìˆë‹¤. í–‰ë ¬ Aì˜ ì—­í–‰ë ¬ \(\mathbf{A}^{-1}\)ì€ ê³±í•˜ë©´ ë‹¨ìœ„í–‰ë ¬ì´ ë˜ëŠ” í–‰ë ¬ì´ë‹¤.</p>

<div class="eq">\[ \mathbf{A} \mathbf{A}^{-1} = \mathbf{A}^{-1} \mathbf{A} = \mathbf{I} \]</div>

<pre><code>A = np.array([[<span class="nu">2</span>, <span class="nu">1</span>],
              [<span class="nu">5</span>, <span class="nu">3</span>]])

<span class="cm"># ì—­í–‰ë ¬ ê³„ì‚°</span>
A_inv = np.linalg.inv(A)
<span class="fn">print</span>(<span class="st">"Aì˜ ì—­í–‰ë ¬:\n"</span>, A_inv)
<span class="cm"># [[ 3. -1.]</span>
<span class="cm">#  [-5.  2.]]</span>

<span class="cm"># ê²€ì¦: A @ A_inv = I (ë‹¨ìœ„í–‰ë ¬)</span>
<span class="fn">print</span>(<span class="st">"A @ A_inv =\n"</span>, np.round(A @ A_inv, <span class="nu">10</span>))
<span class="cm"># [[1. 0.]</span>
<span class="cm">#  [0. 1.]]  â† ë‹¨ìœ„í–‰ë ¬!</span></code></pre>

<p>ì—­í–‰ë ¬ì´ ê¸ˆìœµì—ì„œ ì™œ ì¤‘ìš”í•œê°€? ë§ˆì½”ìœ„ì¸  ìµœì†Œë¶„ì‚° í¬íŠ¸í´ë¦¬ì˜¤ì˜ ë¹„ì¤‘ ê³µì‹ì´ ì—­í–‰ë ¬ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤:</p>

<div class="eq">\[ \mathbf{w}^* = \frac{\boldsymbol{\Sigma}^{-1} \mathbf{1}}{\mathbf{1}^T \boldsymbol{\Sigma}^{-1} \mathbf{1}} \]</div>

<p>ì´ ê³µì‹ì˜ ì˜ë¯¸: ê³µë¶„ì‚° í–‰ë ¬ì˜ ì—­í–‰ë ¬ì— 1ë²¡í„°ë¥¼ ê³±í•˜ë©´ ìµœì†Œë¶„ì‚° í¬íŠ¸í´ë¦¬ì˜¤ì˜ ë¹„ì¤‘ì´ ë‚˜ì˜¨ë‹¤. ê³µë¶„ì‚°ì´ í°(ìœ„í—˜í•œ) ì¢…ëª©ì€ ë¹„ì¤‘ì´ ì¤„ê³ , ê³µë¶„ì‚°ì´ ì‘ì€(ì•ˆì „í•œ) ì¢…ëª©ì€ ë¹„ì¤‘ì´ ëŠ˜ì–´ë‚œë‹¤.</p>

<pre><code><span class="cm"># ìµœì†Œë¶„ì‚° í¬íŠ¸í´ë¦¬ì˜¤ ê³„ì‚°</span>
Sigma_inv = np.linalg.inv(Sigma)
ones = np.ones(<span class="nu">3</span>)

w_minvar = (Sigma_inv @ ones) / (ones @ Sigma_inv @ ones)
<span class="fn">print</span>(<span class="st">f"ìµœì†Œë¶„ì‚° ë¹„ì¤‘: </span>{w_minvar.round(4)}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"ë¹„ì¤‘ í•©: </span>{w_minvar.sum():.4f}<span class="st">"</span>)  <span class="cm"># 1.0</span>

<span class="cm"># ìµœì†Œë¶„ì‚° í¬íŠ¸í´ë¦¬ì˜¤ì˜ ë³€ë™ì„±</span>
minvar_vol = np.sqrt(w_minvar @ Sigma @ w_minvar)
<span class="fn">print</span>(<span class="st">f"ìµœì†Œë¶„ì‚° ë³€ë™ì„±: </span>{minvar_vol*100:.2f}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">f"ë™ì¼ë¹„ì¤‘ ë³€ë™ì„±: </span>{port_vol*100:.2f}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ìµœì†Œë¶„ì‚°ì´ ë” ë‚®ë‹¤!"</span>)</code></pre>

<h3>4.5 í–‰ë ¬ì‹ (Determinant)</h3>
<p>í–‰ë ¬ì‹(determinant)ì€ í–‰ë ¬ì„ í•˜ë‚˜ì˜ ìˆ«ìë¡œ ìš”ì•½í•œ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ "ìš”ì•½"ì´ë¼ê³ ë§Œ í•˜ë©´ ê°ì´ ì•ˆ ì˜¨ë‹¤. í–‰ë ¬ì‹ì˜ ì§„ì§œ ì˜ë¯¸ëŠ” ê¸°í•˜í•™ì ìœ¼ë¡œ ì´í•´í•´ì•¼ í•œë‹¤.</p>

<h4>í–‰ë ¬ì‹ì˜ ê¸°í•˜í•™ì  ì˜ë¯¸ â€” "ë©´ì /ë¶€í”¼ì˜ ë³€í™˜ ë°°ìœ¨"</h4>
<p>2Ã—2 í–‰ë ¬ì„ ë²¡í„°ì— ê³±í•˜ë©´ 2ì°¨ì› ê³µê°„ì´ ë³€í™˜ëœë‹¤. ì´ë•Œ í–‰ë ¬ì‹ì€ "ë³€í™˜ í›„ ë©´ì ì´ ì›ë˜ì˜ ëª‡ ë°°ê°€ ë˜ëŠ”ê°€"ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.</p>

<div style="margin:25px 0;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #ddd">
<p class="ni" style="text-align:center;font-weight:bold;font-size:14px;margin-bottom:15px;color:#2c3e50">í–‰ë ¬ì‹ = ë©´ì  ë³€í™˜ ë°°ìœ¨</p>
<div style="display:flex;gap:20px;justify-content:center;flex-wrap:wrap;font-size:12px">
<div style="text-align:center;background:#fff;padding:15px;border-radius:8px;border:2px solid #3498db;min-width:160px">
<div style="font-weight:bold;color:#3498db;margin-bottom:8px">det(A) = 2</div>
<div style="font-size:28px;margin:8px 0">â–ªï¸ â†’ â¬œ</div>
<div style="color:#555">ë©´ì ì´ 2ë°°ë¡œ í™•ëŒ€</div>
</div>
<div style="text-align:center;background:#fff;padding:15px;border-radius:8px;border:2px solid #e67e22;min-width:160px">
<div style="font-weight:bold;color:#e67e22;margin-bottom:8px">det(A) = 0.5</div>
<div style="font-size:28px;margin:8px 0">â¬œ â†’ â–ªï¸</div>
<div style="color:#555">ë©´ì ì´ ì ˆë°˜ìœ¼ë¡œ ì¶•ì†Œ</div>
</div>
<div style="text-align:center;background:#fff;padding:15px;border-radius:8px;border:2px solid #e74c3c;min-width:160px">
<div style="font-weight:bold;color:#e74c3c;margin-bottom:8px">det(A) = 0</div>
<div style="font-size:28px;margin:8px 0">â¬œ â†’ â”</div>
<div style="color:#e74c3c;font-weight:bold">ë©´ì ì´ 0! (ì°Œê·¸ëŸ¬ì§)</div>
<div style="color:#555;font-size:11px">2ì°¨ì› â†’ 1ì°¨ì›ìœ¼ë¡œ ë¶•ê´´</div>
</div>
</div>
</div>

<p>í–‰ë ¬ì‹ì´ 0ì´ë¼ëŠ” ê²ƒì€ ë³€í™˜ í›„ ê³µê°„ì´ í•œ ì°¨ì› ë‚®ì•„ì§„ë‹¤ëŠ” ëœ»ì´ë‹¤. 2ì°¨ì› í‰ë©´ì´ 1ì°¨ì› ì§ì„ ìœ¼ë¡œ ì°Œê·¸ëŸ¬ì§„ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ì •ë³´ê°€ ì†ì‹¤ë˜ì–´ ì›ë˜ëŒ€ë¡œ ë˜ëŒë¦´ ìˆ˜ ì—†ë‹¤ â€” ê·¸ë˜ì„œ ì—­í–‰ë ¬ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.</p>

<h4>2Ã—2 í–‰ë ¬ì‹ ê³µì‹</h4>
<div class="eq">\[ \det\begin{pmatrix} a & b \\ c & d \end{pmatrix} = ad - bc \]</div>

<p class="ni">ê°„ë‹¨í•˜ë‹¤: ëŒ€ê°ì„  ê³±ì˜ ì°¨ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´:</p>

<div class="def">
<p class="ni"><strong>í–‰ë ¬ì‹ ê³„ì‚° ì˜ˆì‹œ</strong></p>
<ul>
<li>\(\det\begin{pmatrix} 3 & 1 \\ 1 & 3 \end{pmatrix} = 3 \times 3 - 1 \times 1 = 8\) â†’ ë©´ì ì´ 8ë°° í™•ëŒ€, ì—­í–‰ë ¬ ì¡´ì¬</li>
<li>\(\det\begin{pmatrix} 1 & 2 \\ 2 & 4 \end{pmatrix} = 1 \times 4 - 2 \times 2 = 0\) â†’ ë©´ì ì´ 0! ë‘ í–‰ì´ ë¹„ë¡€ê´€ê³„(2í–‰ = 1í–‰ Ã— 2)ì´ë¯€ë¡œ ì •ë³´ê°€ ì¤‘ë³µëœë‹¤</li>
<li>\(\det\begin{pmatrix} 2 & 0 \\ 0 & 3 \end{pmatrix} = 2 \times 3 - 0 \times 0 = 6\) â†’ ëŒ€ê°í–‰ë ¬ì˜ í–‰ë ¬ì‹ = ëŒ€ê° ì›ì†Œì˜ ê³±</li>
</ul>
</div>

<h4>ê¸ˆìœµì—ì„œ í–‰ë ¬ì‹ì´ ì¤‘ìš”í•œ ì´ìœ </h4>
<p>ê³µë¶„ì‚° í–‰ë ¬ì˜ í–‰ë ¬ì‹ì´ 0ì— ê°€ê¹Œìš°ë©´ ë‹¤ì¤‘ê³µì„ ì„±(multicollinearity)ì´ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì‚¼ì„±ì „ìì™€ SKí•˜ì´ë‹‰ìŠ¤ì˜ ìˆ˜ìµë¥ ì´ ê±°ì˜ ë™ì¼í•˜ê²Œ ì›€ì§ì´ë©´, ë‘ ì¢…ëª©ì˜ ê³µë¶„ì‚° í–‰ë ¬ì€ ê±°ì˜ íŠ¹ì´(singular)í•´ì§„ë‹¤. ì´ ìƒíƒœì—ì„œ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ë¥¼ í•˜ë©´ ì—­í–‰ë ¬ ê³„ì‚°ì´ ë¶ˆì•ˆì •í•´ì ¸ì„œ ë¹„í˜„ì‹¤ì ì¸ ë¹„ì¤‘(ì˜ˆ: ì‚¼ì„±ì „ì +500%, SKí•˜ì´ë‹‰ìŠ¤ -400%)ì´ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.</p>

<pre><code><span class="cm"># í–‰ë ¬ì‹ ê³„ì‚°</span>
det_A = np.linalg.det(A)
<span class="fn">print</span>(<span class="st">f"det(A) = </span>{det_A:.0f}<span class="st">"</span>)  <span class="cm"># 8 (â‰  0ì´ë¯€ë¡œ ì—­í–‰ë ¬ ì¡´ì¬)</span>

<span class="cm"># 2Ã—2 í–‰ë ¬ì‹ ì§ì ‘ ê³„ì‚°: ad - bc</span>
manual_det = A[<span class="nu">0</span>,<span class="nu">0</span>]*A[<span class="nu">1</span>,<span class="nu">1</span>] - A[<span class="nu">0</span>,<span class="nu">1</span>]*A[<span class="nu">1</span>,<span class="nu">0</span>]
<span class="fn">print</span>(<span class="st">f"ì§ì ‘ ê³„ì‚°: </span>{manual_det}<span class="st">"</span>)  <span class="cm"># 8 (ì¼ì¹˜!)</span>

<span class="cm"># íŠ¹ì´í–‰ë ¬ ì˜ˆ: ë‘ í–‰ì´ ë¹„ë¡€ê´€ê³„</span>
singular = np.array([[<span class="nu">1</span>, <span class="nu">2</span>],
                      [<span class="nu">2</span>, <span class="nu">4</span>]])  <span class="cm"># 2í–‰ = 1í–‰ Ã— 2</span>
<span class="fn">print</span>(<span class="st">f"\ndet(singular) = </span>{np.linalg.det(singular):.0f}<span class="st">"</span>)  <span class="cm"># 0</span>
<span class="fn">print</span>(<span class="st">f"ì§ì ‘: 1Ã—4 - 2Ã—2 = </span>{1*4 - 2*2}<span class="st">"</span>)  <span class="cm"># 0</span>
<span class="cm"># np.linalg.inv(singular)  # â†’ LinAlgError! (ì—­í–‰ë ¬ ë¶ˆê°€)</span>

<span class="cm"># ê¸ˆìœµ ì˜ˆ: ê³µë¶„ì‚° í–‰ë ¬ì˜ í–‰ë ¬ì‹ìœ¼ë¡œ ë‹¤ì¤‘ê³µì„ ì„± í™•ì¸</span>
<span class="cm"># ìƒê´€ê³„ìˆ˜ê°€ 0.99ì¸ ë‘ ì¢…ëª©</span>
cov_high_corr = np.array([[<span class="nu">0.04</span>, <span class="nu">0.0396</span>],
                           [<span class="nu">0.0396</span>, <span class="nu">0.04</span>]])  <span class="cm"># ìƒê´€ â‰ˆ 0.99</span>
<span class="fn">print</span>(<span class="st">f"\në†’ì€ ìƒê´€ ê³µë¶„ì‚° í–‰ë ¬ì˜ det = </span>{np.linalg.det(cov_high_corr):.8f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ 0ì— ë§¤ìš° ê°€ê¹Œì›€! ì—­í–‰ë ¬ì´ ë¶ˆì•ˆì • â†’ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ì£¼ì˜"</span>)</code></pre>

<div class="warn">
<p class="ni"><strong>í–‰ë ¬ì‹ í•µì‹¬ ì •ë¦¬:</strong></p>
<ul>
<li><strong>det â‰  0:</strong> ì—­í–‰ë ¬ ì¡´ì¬, ì—°ë¦½ë°©ì •ì‹ì— ìœ ì¼í•œ í•´ê°€ ìˆë‹¤</li>
<li><strong>det = 0:</strong> ì—­í–‰ë ¬ ì—†ìŒ(íŠ¹ì´í–‰ë ¬), ì •ë³´ê°€ ì¤‘ë³µë˜ì–´ ì°¨ì›ì´ ë¶•ê´´</li>
<li><strong>|det| > 1:</strong> ë³€í™˜ì´ ê³µê°„ì„ í™•ëŒ€</li>
<li><strong>|det| < 1:</strong> ë³€í™˜ì´ ê³µê°„ì„ ì¶•ì†Œ</li>
<li><strong>det < 0:</strong> ë³€í™˜ì´ ê³µê°„ì„ ë’¤ì§‘ìŒ(ê±°ìš¸ ë°˜ì‚¬)</li>
</ul>
</div>

<div class="info">
<p class="ni"><strong>ì‹¤ë¬´ íŒ:</strong> ì‹¤ì œ ê¸ˆìœµ ë°ì´í„°ì—ì„œ ê³µë¶„ì‚° í–‰ë ¬ì˜ ì—­í–‰ë ¬ì„ êµ¬í•  ë•Œ, ì¢…ëª© ìˆ˜ê°€ ê´€ì¸¡ì¼ ìˆ˜ë³´ë‹¤ ë§ìœ¼ë©´ í–‰ë ¬ì´ íŠ¹ì´(singular)í•´ì ¸ì„œ ì—­í–‰ë ¬ì„ êµ¬í•  ìˆ˜ ì—†ë‹¤. ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì´ ì •ê·œí™”(regularization)ë‚˜ ì¶•ì†Œ ì¶”ì •(shrinkage estimation)ì´ë‹¤. Round 4ì—ì„œ ë‹¤ë£¬ë‹¤.</p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch5: ê³ ìœ ê°’ê³¼ ê³ ìœ ë²¡í„° -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch5">5. ê³ ìœ ê°’ê³¼ ê³ ìœ ë²¡í„° (Eigenvalues &amp; Eigenvectors)</h2>

<h3>5.1 ì§ê´€ì  ì´í•´: "ë³€í•˜ì§€ ì•ŠëŠ” ë°©í–¥"</h3>
<p>ê³ ìœ ê°’/ê³ ìœ ë²¡í„°ëŠ” ì„ í˜•ëŒ€ìˆ˜ì—ì„œ ê°€ì¥ ì–´ë µê²Œ ëŠê»´ì§€ëŠ” ê°œë… ì¤‘ í•˜ë‚˜ë‹¤. í•˜ì§€ë§Œ ì§ê´€ì€ ê°„ë‹¨í•˜ë‹¤.</p>

<p>í–‰ë ¬ì„ "ë³€í™˜(transformation)"ìœ¼ë¡œ ìƒê°í•˜ì. í–‰ë ¬ì— ë²¡í„°ë¥¼ ê³±í•˜ë©´ ê·¸ ë²¡í„°ê°€ íšŒì „í•˜ê±°ë‚˜, ëŠ˜ì–´ë‚˜ê±°ë‚˜, ì°Œê·¸ëŸ¬ì§„ë‹¤. ê·¸ëŸ°ë° ì–´ë–¤ íŠ¹ë³„í•œ ë²¡í„°ëŠ” í–‰ë ¬ì„ ê³±í•´ë„ ë°©í–¥ì´ ë°”ë€Œì§€ ì•Šê³ , í¬ê¸°ë§Œ ë³€í•œë‹¤. ì´ íŠ¹ë³„í•œ ë²¡í„°ê°€ ê³ ìœ ë²¡í„°(eigenvector)ì´ê³ , í¬ê¸°ê°€ ë³€í•˜ëŠ” ë°°ìœ¨ì´ ê³ ìœ ê°’(eigenvalue)ì´ë‹¤.</p>

<!-- ê³ ìœ ê°’/ê³ ìœ ë²¡í„° ì‹œê°ì  ì„¤ëª… (CSS) -->
<div style="margin:25px 0;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #ddd">
<p class="ni" style="text-align:center;font-weight:bold;font-size:14px;margin-bottom:15px;color:#2c3e50">í–‰ë ¬ ë³€í™˜ê³¼ ê³ ìœ ë²¡í„°</p>
<div style="display:flex;align-items:center;justify-content:center;gap:20px;flex-wrap:wrap;font-size:13px">
<div style="text-align:center">
<div style="width:120px;height:120px;border:2px solid #3498db;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;margin:0 auto">
<div style="color:#e74c3c;font-weight:bold;font-size:20px">â†’</div>
<div style="color:#3498db;font-weight:bold;font-size:20px;transform:rotate(45deg);position:absolute">â†’</div>
<div style="color:#27ae60;font-weight:bold;font-size:20px;transform:rotate(-30deg);position:absolute">â†’</div>
</div>
<div style="margin-top:8px;font-weight:bold">ë³€í™˜ ì „</div>
<div style="color:#888;font-size:11px">ì—¬ëŸ¬ ë°©í–¥ì˜ ë²¡í„°ë“¤</div>
</div>
<div style="font-size:28px;color:#e67e22">âŸ¹</div>
<div style="text-align:center;font-size:12px;color:#555">
<div style="font-weight:bold;font-size:14px;color:#e67e22">í–‰ë ¬ Aë¥¼ ê³±í•˜ë©´</div>
<div>ëŒ€ë¶€ë¶„ì˜ ë²¡í„°: ë°©í–¥ ë³€í•¨</div>
<div style="color:#e74c3c;font-weight:bold;margin-top:4px">ê³ ìœ ë²¡í„°: ë°©í–¥ ê·¸ëŒ€ë¡œ!</div>
<div>í¬ê¸°ë§Œ Î»ë°°</div>
</div>
<div style="font-size:28px;color:#e67e22">âŸ¹</div>
<div style="text-align:center">
<div style="width:120px;height:120px;border:2px solid #e74c3c;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;margin:0 auto">
<div style="color:#e74c3c;font-weight:bold;font-size:28px">â†’â†’</div>
<div style="color:#3498db;font-weight:bold;font-size:16px;transform:rotate(70deg);position:absolute">â†—</div>
<div style="color:#27ae60;font-weight:bold;font-size:16px;transform:rotate(10deg);position:absolute">â†’</div>
</div>
<div style="margin-top:8px;font-weight:bold">ë³€í™˜ í›„</div>
<div style="color:#e74c3c;font-size:11px">ë¹¨ê°„ ë²¡í„°: ë°©í–¥ ìœ ì§€, ê¸¸ì´ë§Œ ì¦ê°€</div>
</div>
</div>
</div>

<div class="eq">\[ \mathbf{A}\mathbf{v} = \lambda\mathbf{v} \]</div>

<p>ì´ ì‹ì˜ ì˜ë¯¸: í–‰ë ¬ Aë¥¼ ë²¡í„° vì— ê³±í–ˆë”ë‹ˆ, vì˜ ë°©í–¥ì€ ê·¸ëŒ€ë¡œì´ê³  í¬ê¸°ë§Œ Î»ë°°ê°€ ë˜ì—ˆë‹¤.</p>

<p>ë¹„ìœ ë¥¼ ë“¤ì–´ë³´ì. ê³ ë¬´íŒ ìœ„ì— í™”ì‚´í‘œë¥¼ ì—¬ëŸ¬ ê°œ ê·¸ë ¤ë†“ê³ , ê³ ë¬´íŒì„ ì¡ì•„ë‹¹ê¸´ë‹¤ê³  í•˜ì. ëŒ€ë¶€ë¶„ì˜ í™”ì‚´í‘œëŠ” ë°©í–¥ì´ í‹€ì–´ì§„ë‹¤. í•˜ì§€ë§Œ ì¡ì•„ë‹¹ê¸°ëŠ” ë°©í–¥ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” í™”ì‚´í‘œëŠ” ë°©í–¥ì´ ë°”ë€Œì§€ ì•Šê³  ê¸¸ì´ë§Œ ëŠ˜ì–´ë‚œë‹¤. ì´ í™”ì‚´í‘œê°€ ê³ ìœ ë²¡í„°ë‹¤.</p>

<h3>5.2 ì½”ë“œë¡œ ê³„ì‚°í•˜ê¸°</h3>
<pre><code><span class="cm"># 2Ã—2 í–‰ë ¬ì˜ ê³ ìœ ê°’ ë¶„í•´</span>
A = np.array([[<span class="nu">3</span>, <span class="nu">1</span>],
              [<span class="nu">1</span>, <span class="nu">3</span>]])

eigenvalues, eigenvectors = np.linalg.eig(A)

<span class="fn">print</span>(<span class="st">"ê³ ìœ ê°’:"</span>, eigenvalues)
<span class="cm"># [4. 2.]  â†’ Î»1=4, Î»2=2</span>

<span class="fn">print</span>(<span class="st">"ê³ ìœ ë²¡í„°:\n"</span>, eigenvectors)
<span class="cm"># [[ 0.707  -0.707]   â†’ v1 = [0.707, 0.707] (ëŒ€ê°ì„  ë°©í–¥)</span>
<span class="cm">#  [ 0.707   0.707]]  â†’ v2 = [-0.707, 0.707] (ë°˜ëŒ€ ëŒ€ê°ì„ )</span>

<span class="cm"># ê²€ì¦: A @ v1 = Î»1 * v1 ì¸ê°€?</span>
v1 = eigenvectors[:, <span class="nu">0</span>]  <span class="cm"># ì²« ë²ˆì§¸ ê³ ìœ ë²¡í„°</span>
lam1 = eigenvalues[<span class="nu">0</span>]     <span class="cm"># ì²« ë²ˆì§¸ ê³ ìœ ê°’</span>

<span class="fn">print</span>(<span class="st">f"\nA @ v1     = </span>{A @ v1}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"Î»1 * v1    = </span>{lam1 * v1}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"ê°™ì€ê°€?     </span>{np.allclose(A @ v1, lam1 * v1)}<span class="st">"</span>)  <span class="cm"># True!</span></code></pre>
<div class="code-output"><span class="out-label">Output:</span>
ê³ ìœ ê°’: [4.618 0.382]
ê³ ìœ ë²¡í„°:
[[ 0.851  0.526]
 [ 0.526 -0.851]]

ê²€ì¦: A @ v1 = Î»1 * v1 â†’ True</div>


<h3>5.3 PCAë€ ë¬´ì—‡ì¸ê°€? â€” ì¼ìƒ ë¹„ìœ ë¶€í„°</h3>
<p>PCA(Principal Component Analysis, ì£¼ì„±ë¶„ë¶„ì„)ëŠ” ê³ ìœ ê°’ ë¶„í•´ì˜ ê°€ì¥ ì¤‘ìš”í•œ ì‘ìš©ì´ë‹¤. ì´ë¦„ì´ ì–´ë µì§€ë§Œ ì•„ì´ë””ì–´ëŠ” ê°„ë‹¨í•˜ë‹¤. ë¹„ìœ ë¡œ ì‹œì‘í•˜ì.</p>

<p>ë‹¹ì‹ ì´ ì‚¬ì§„ì‘ê°€ë¼ê³  í•˜ì. 3D ì¡°ê°ìƒì„ 2D ì‚¬ì§„ìœ¼ë¡œ ì°ì–´ì•¼ í•œë‹¤. ì–´ë–¤ ê°ë„ì—ì„œ ì°ì–´ì•¼ ì¡°ê°ìƒì˜ ëª¨ì–‘ì„ ê°€ì¥ ì˜ ë³´ì—¬ì¤„ ìˆ˜ ìˆì„ê¹Œ? ì •ë©´ì—ì„œ ì°ìœ¼ë©´ ê¹Šì´ê°ì´ ì‚¬ë¼ì§€ê³ , ì˜†ì—ì„œ ì°ìœ¼ë©´ ì •ë©´ ë””í…Œì¼ì´ ì‚¬ë¼ì§„ë‹¤. PCAëŠ” "ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”í•˜ëŠ” ìµœì ì˜ ì´¬ì˜ ê°ë„"ë¥¼ ìˆ˜í•™ì ìœ¼ë¡œ ì°¾ì•„ì£¼ëŠ” ê¸°ë²•ì´ë‹¤.</p>

<p>ê¸ˆìœµìœ¼ë¡œ ë°”ê¿”ë³´ì. 50ê°œ ì¢…ëª©ì˜ ìˆ˜ìµë¥  ë°ì´í„°ê°€ ìˆë‹¤. 50ì°¨ì›ì´ë¼ ì¸ê°„ì˜ ë‡Œë¡œëŠ” íŒŒì•…ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. PCAë¥¼ í•˜ë©´ "ì‚¬ì‹¤ ì´ 50ê°œ ì¢…ëª©ì˜ ì›€ì§ì„ì€ 3~5ê°œì˜ ì£¼ìš” ë°©í–¥(ì£¼ì„±ë¶„)ìœ¼ë¡œ ëŒ€ë¶€ë¶„ ì„¤ëª…ëœë‹¤"ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>

<!-- PCA ê°œë… ë‹¤ì´ì–´ê·¸ë¨ (CSS) -->
<div style="margin:25px 0;padding:25px;background:linear-gradient(135deg,#f8f9fa,#e8f4f8);border-radius:8px;border:1px solid #ddd">
<p class="ni" style="text-align:center;font-weight:bold;font-size:15px;margin-bottom:18px;color:#2c3e50">ğŸ“ PCAì˜ í•µì‹¬ ì•„ì´ë””ì–´</p>
<div style="display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;font-size:13px">
<div style="background:#fff;border:2px solid #3498db;border-radius:8px;padding:12px 16px;text-align:center;min-width:120px">
<div style="font-size:24px;margin-bottom:4px">ğŸ“Š</div>
<div style="font-weight:bold;color:#2c3e50">50ê°œ ì¢…ëª©</div>
<div style="color:#888;font-size:11px">50ì°¨ì› ë°ì´í„°</div>
</div>
<div style="font-size:24px;color:#3498db">â†’</div>
<div style="background:#fff;border:2px solid #e67e22;border-radius:8px;padding:12px 16px;text-align:center;min-width:120px">
<div style="font-size:24px;margin-bottom:4px">ğŸ”</div>
<div style="font-weight:bold;color:#2c3e50">PCA ë³€í™˜</div>
<div style="color:#888;font-size:11px">ê³µë¶„ì‚° â†’ ê³ ìœ ê°’ ë¶„í•´</div>
</div>
<div style="font-size:24px;color:#e67e22">â†’</div>
<div style="background:#fff;border:2px solid #27ae60;border-radius:8px;padding:12px 16px;text-align:center;min-width:120px">
<div style="font-size:24px;margin-bottom:4px">âœ¨</div>
<div style="font-weight:bold;color:#2c3e50">3~5ê°œ ì£¼ì„±ë¶„</div>
<div style="color:#888;font-size:11px">ì •ë³´ 90%+ ë³´ì¡´</div>
</div>
</div>
<div style="margin-top:15px;display:flex;justify-content:center;gap:20px;font-size:12px;color:#555;flex-wrap:wrap">
<div>ğŸ”µ PC1 = "ì‹œì¥ ì „ì²´ ë°©í–¥" (ë³´í†µ 40~60%)</div>
<div>ğŸŸ  PC2 = "ì„±ì¥ì£¼ vs ê°€ì¹˜ì£¼" (ë³´í†µ 10~20%)</div>
<div>ğŸŸ¢ PC3 = "ëŒ€í˜•ì£¼ vs ì†Œí˜•ì£¼" (ë³´í†µ 5~10%)</div>
</div>
</div>

<h3>5.4 PCAë¥¼ ë‹¨ê³„ë³„ë¡œ ì´í•´í•˜ê¸°</h3>
<p>PCAì˜ ê³¼ì •ì„ í•˜ë‚˜ì”© ëœ¯ì–´ë³´ì. ìˆ˜í•™ì ìœ¼ë¡œëŠ” ë³µì¡í•˜ì§€ë§Œ, ê° ë‹¨ê³„ì˜ ì˜ë¯¸ë¥¼ ì´í•´í•˜ë©´ ì–´ë µì§€ ì•Šë‹¤.</p>

<!-- PCA ë‹¨ê³„ ë‹¤ì´ì–´ê·¸ë¨ (CSS) -->
<div style="margin:20px 0;font-size:13px">
<div style="display:flex;gap:8px;flex-wrap:wrap">
<div style="flex:1;min-width:180px;background:#e8f4f8;border-left:4px solid #3498db;padding:12px;border-radius:0 6px 6px 0">
<div style="font-weight:bold;color:#2c3e50">Step 1. ë°ì´í„° í‘œì¤€í™”</div>
<div style="color:#555;margin-top:4px">ê° ì¢…ëª©ì˜ ìˆ˜ìµë¥ ì„ í‰ê· =0, í‘œì¤€í¸ì°¨=1ë¡œ ë§ì¶˜ë‹¤. ìŠ¤ì¼€ì¼ì´ ë‹¤ë¥´ë©´ í° ê°’ì´ PCAë¥¼ ì§€ë°°í•˜ê¸° ë•Œë¬¸.</div>
</div>
<div style="flex:1;min-width:180px;background:#fff9e6;border-left:4px solid #f39c12;padding:12px;border-radius:0 6px 6px 0">
<div style="font-weight:bold;color:#2c3e50">Step 2. ê³µë¶„ì‚° í–‰ë ¬ ê³„ì‚°</div>
<div style="color:#555;margin-top:4px">ì¢…ëª© ê°„ "ê°™ì´ ì›€ì§ì´ëŠ” ì •ë„"ë¥¼ í–‰ë ¬ë¡œ ì •ë¦¬. 50ì¢…ëª©ì´ë©´ 50Ã—50 í–‰ë ¬.</div>
</div>
<div style="flex:1;min-width:180px;background:#e8f8e8;border-left:4px solid #27ae60;padding:12px;border-radius:0 6px 6px 0">
<div style="font-weight:bold;color:#2c3e50">Step 3. ê³ ìœ ê°’ ë¶„í•´</div>
<div style="color:#555;margin-top:4px">ê³µë¶„ì‚° í–‰ë ¬ì—ì„œ ê³ ìœ ê°’ê³¼ ê³ ìœ ë²¡í„°ë¥¼ êµ¬í•œë‹¤. ê³ ìœ ë²¡í„° = ì£¼ì„±ë¶„ ë°©í–¥, ê³ ìœ ê°’ = ê·¸ ë°©í–¥ì˜ ì¤‘ìš”ë„.</div>
</div>
<div style="flex:1;min-width:180px;background:#f0e8f8;border-left:4px solid #8e44ad;padding:12px;border-radius:0 6px 6px 0">
<div style="font-weight:bold;color:#2c3e50">Step 4. ì°¨ì› ì¶•ì†Œ</div>
<div style="color:#555;margin-top:4px">ê³ ìœ ê°’ì´ í° ìƒìœ„ kê°œ ì£¼ì„±ë¶„ë§Œ ì„ íƒ. 50ì°¨ì› â†’ 3ì°¨ì›ìœ¼ë¡œ ì••ì¶•í•´ë„ ì •ë³´ ëŒ€ë¶€ë¶„ ë³´ì¡´.</div>
</div>
</div>
</div>

<p>í•µì‹¬ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ: <strong>ê³µë¶„ì‚° í–‰ë ¬ì˜ ê³ ìœ ê°’ ë¶„í•´ê°€ ê³§ PCAë‹¤.</strong> ê°€ì¥ í° ê³ ìœ ê°’ì— ëŒ€ì‘í•˜ëŠ” ê³ ìœ ë²¡í„°ê°€ ë°ì´í„°ì˜ ë¶„ì‚°ì„ ê°€ì¥ ë§ì´ ì„¤ëª…í•˜ëŠ” ë°©í–¥(ì œ1ì£¼ì„±ë¶„)ì´ë‹¤.</p>

<h3>5.5 PCA ì½”ë“œ ì‹¤ìŠµ â€” ìˆ˜ë™ êµ¬í˜„</h3>

<pre><code><span class="cm"># ê³µë¶„ì‚° í–‰ë ¬ì˜ ê³ ìœ ê°’ ë¶„í•´ = PCA (ìˆ˜ë™ êµ¬í˜„)</span>
cov_matrix = np.array([
    [<span class="nu">0.04</span>,  <span class="nu">0.02</span>,  <span class="nu">0.01</span>],
    [<span class="nu">0.02</span>,  <span class="nu">0.09</span>,  <span class="nu">0.03</span>],
    [<span class="nu">0.01</span>,  <span class="nu">0.03</span>,  <span class="nu">0.0625</span>]
])

eigenvalues, eigenvectors = np.linalg.eig(cov_matrix)

<span class="cm"># ê³ ìœ ê°’ì„ í° ìˆœì„œë¡œ ì •ë ¬</span>
idx = eigenvalues.argsort()[::-<span class="nu">1</span>]
eigenvalues = eigenvalues[idx]
eigenvectors = eigenvectors[:, idx]

<span class="cm"># ë¶„ì‚° ì„¤ëª… ë¹„ìœ¨</span>
explained = eigenvalues / eigenvalues.sum() * <span class="nu">100</span>

<span class="fn">print</span>(<span class="st">"=== PCA ê²°ê³¼ ==="</span>)
<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(<span class="fn">len</span>(eigenvalues)):
    <span class="fn">print</span>(<span class="st">f"PC{i+1}: ê³ ìœ ê°’={eigenvalues[i]:.4f}, ì„¤ëª…ë¹„ìœ¨={explained[i]:.1f}%"</span>)

<span class="fn">print</span>(<span class="st">f"\nPC1+PC2 ëˆ„ì : </span>{explained[:2].sum():.1f}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">"â†’ 3ê°œ ì¢…ëª©ì˜ ì›€ì§ì„ì„ 2ê°œ ì£¼ì„±ë¶„ìœ¼ë¡œ ëŒ€ë¶€ë¶„ ì„¤ëª… ê°€ëŠ¥!"</span>)</code></pre>

<h3>5.6 sklearnìœ¼ë¡œ PCA â€” ì‹¤ì „ ì½”ë“œ</h3>
<p>ì‹¤ì „ì—ì„œëŠ” ì§ì ‘ ê³ ìœ ê°’ ë¶„í•´ë¥¼ í•˜ì§€ ì•Šê³  sklearnì˜ PCA í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. í›¨ì”¬ í¸ë¦¬í•˜ê³ , ëŒ€ê·œëª¨ ë°ì´í„°ì—ì„œë„ ì•ˆì •ì ì´ë‹¤.</p>

<pre><code><span class="kw">from</span> sklearn.decomposition <span class="kw">import</span> PCA
<span class="kw">from</span> sklearn.preprocessing <span class="kw">import</span> StandardScaler
<span class="kw">import</span> yfinance <span class="kw">as</span> yf

<span class="cm"># ì‹¤ì œ ì£¼ì‹ ë°ì´í„°ë¡œ PCA</span>
tickers = [<span class="st">"005930.KS"</span>, <span class="st">"000660.KS"</span>, <span class="st">"035420.KS"</span>, <span class="st">"035720.KS"</span>, <span class="st">"373220.KS"</span>]
names = [<span class="st">"ì‚¼ì„±ì „ì"</span>, <span class="st">"SKí•˜ì´ë‹‰ìŠ¤"</span>, <span class="st">"NAVER"</span>, <span class="st">"ì¹´ì¹´ì˜¤"</span>, <span class="st">"LGì—ë„ˆì§€"</span>]

data = yf.download(tickers, period=<span class="st">"2y"</span>)[<span class="st">"Close"</span>]
data.columns = names
returns = data.pct_change().dropna()

<span class="cm"># Step 1: í‘œì¤€í™”</span>
scaler = StandardScaler()
returns_scaled = scaler.fit_transform(returns)

<span class="cm"># Step 2: PCA ì ìš©</span>
pca = PCA()  <span class="cm"># ëª¨ë“  ì£¼ì„±ë¶„ ê³„ì‚°</span>
pc_scores = pca.fit_transform(returns_scaled)

<span class="cm"># ê²°ê³¼ ë¶„ì„</span>
<span class="fn">print</span>(<span class="st">"=== ì‹¤ì œ ì£¼ì‹ ë°ì´í„° PCA ==="</span>)
<span class="fn">print</span>(<span class="st">f"ì£¼ì„±ë¶„ ìˆ˜: </span>{pca.n_components_}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"\në¶„ì‚° ì„¤ëª… ë¹„ìœ¨:"</span>)
<span class="kw">for</span> i, (var, cum) <span class="kw">in</span> <span class="fn">enumerate</span>(<span class="fn">zip</span>(
    pca.explained_variance_ratio_,
    np.cumsum(pca.explained_variance_ratio_)
)):
    <span class="fn">print</span>(<span class="st">f"  PC{i+1}: {var:.1%} (ëˆ„ì : {cum:.1%})"</span>)

<span class="cm"># ì œ1ì£¼ì„±ë¶„ì˜ ë¡œë”© (ê° ì¢…ëª©ì´ PC1ì— ê¸°ì—¬í•˜ëŠ” ì •ë„)</span>
<span class="fn">print</span>(<span class="st">f"\nPC1 ë¡œë”© (= ê° ì¢…ëª©ì˜ ê¸°ì—¬ë„):"</span>)
<span class="kw">for</span> name, loading <span class="kw">in</span> <span class="fn">zip</span>(names, pca.components_[<span class="nu">0</span>]):
    <span class="fn">print</span>(<span class="st">f"  {name}: {loading:.3f}"</span>)
<span class="fn">print</span>(<span class="st">"â†’ ëª¨ë“  ì¢…ëª©ì´ ë¹„ìŠ·í•œ ë¶€í˜¸ = PC1ì€ 'ì‹œì¥ ì „ì²´ ë°©í–¥'!"</span>)</code></pre>

<h3>5.7 ìŠ¤í¬ë¦¬ í”Œë¡¯ â€” ì£¼ì„±ë¶„ì„ ëª‡ ê°œ ì“¸ê¹Œ?</h3>
<p>PCAë¥¼ í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ì§ˆë¬¸: "ì£¼ì„±ë¶„ì„ ëª‡ ê°œ ì„ íƒí•´ì•¼ í•˜ëŠ”ê°€?" ìŠ¤í¬ë¦¬ í”Œë¡¯(scree plot)ì€ ì´ ì§ˆë¬¸ì— ë‹µí•˜ëŠ” ì‹œê°í™” ë„êµ¬ë‹¤. ê° ì£¼ì„±ë¶„ì˜ ë¶„ì‚° ì„¤ëª… ë¹„ìœ¨ì„ ë§‰ëŒ€ê·¸ë˜í”„ë¡œ ê·¸ë¦¬ê³ , ëˆ„ì  ë¹„ìœ¨ì„ êº¾ì€ì„ ìœ¼ë¡œ ê·¸ë¦°ë‹¤. "íŒ”ê¿ˆì¹˜(elbow)" ì§€ì  â€” ê¸°ìš¸ê¸°ê°€ ê¸‰ê²©íˆ ì™„ë§Œí•´ì§€ëŠ” ê³³ â€” ì´ ì ì ˆí•œ ì£¼ì„±ë¶„ ìˆ˜ë‹¤.</p>

<pre><code><span class="cm"># ìŠ¤í¬ë¦¬ í”Œë¡¯ (Scree Plot)</span>
fig, ax1 = plt.subplots(figsize=(<span class="nu">10</span>, <span class="nu">5</span>))

<span class="cm"># ë§‰ëŒ€: ê°œë³„ ì„¤ëª… ë¹„ìœ¨</span>
x = <span class="fn">range</span>(<span class="nu">1</span>, <span class="fn">len</span>(pca.explained_variance_ratio_) + <span class="nu">1</span>)
ax1.bar(x, pca.explained_variance_ratio_ * <span class="nu">100</span>,
        color=<span class="st">"steelblue"</span>, alpha=<span class="nu">0.7</span>, label=<span class="st">"ê°œë³„ ì„¤ëª… ë¹„ìœ¨"</span>)
ax1.set_xlabel(<span class="st">"ì£¼ì„±ë¶„ (PC)"</span>)
ax1.set_ylabel(<span class="st">"ë¶„ì‚° ì„¤ëª… ë¹„ìœ¨ (%)"</span>, color=<span class="st">"steelblue"</span>)
ax1.set_xticks(x)

<span class="cm"># êº¾ì€ì„ : ëˆ„ì  ì„¤ëª… ë¹„ìœ¨</span>
ax2 = ax1.twinx()
cumulative = np.cumsum(pca.explained_variance_ratio_) * <span class="nu">100</span>
ax2.plot(x, cumulative, <span class="st">"ro-"</span>, linewidth=<span class="nu">2</span>, label=<span class="st">"ëˆ„ì  ì„¤ëª… ë¹„ìœ¨"</span>)
ax2.axhline(y=<span class="nu">90</span>, color=<span class="st">"gray"</span>, linestyle=<span class="st">"--"</span>, alpha=<span class="nu">0.5</span>)
ax2.set_ylabel(<span class="st">"ëˆ„ì  ë¹„ìœ¨ (%)"</span>, color=<span class="st">"red"</span>)
ax2.text(<span class="nu">4.5</span>, <span class="nu">91</span>, <span class="st">"90% ê¸°ì¤€ì„ "</span>, fontsize=<span class="nu">10</span>, color=<span class="st">"gray"</span>)

ax1.set_title(<span class="st">"Scree Plot â€” ì£¼ì„±ë¶„ë³„ ë¶„ì‚° ì„¤ëª… ë¹„ìœ¨"</span>, fontsize=<span class="nu">14</span>)
fig.legend(loc=<span class="st">"center right"</span>, bbox_to_anchor=(<span class="nu">0.85</span>, <span class="nu">0.5</span>))
plt.tight_layout()
plt.show()</code></pre>

<h3>5.8 PCAì˜ ê¸ˆìœµ í™œìš© â€” ì™œ ë°°ì›Œì•¼ í•˜ëŠ”ê°€</h3>
<p>PCAê°€ ê¸ˆìœµì—ì„œ ì“°ì´ëŠ” ëŒ€í‘œì ì¸ ìƒí™©ë“¤:</p>

<div style="margin:20px 0;font-size:13px">
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px">
<div style="background:#e8f4f8;padding:15px;border-radius:6px;border-top:3px solid #3498db">
<div style="font-weight:bold;color:#2c3e50;margin-bottom:6px">ğŸ”¹ íŒ©í„° ëª¨ë¸ (R5)</div>
<div style="color:#555">50ê°œ ì¢…ëª©ì˜ ì›€ì§ì„ì„ 3~5ê°œ íŒ©í„°ë¡œ ì„¤ëª…. "ì‹œì¥", "ì‚¬ì´ì¦ˆ", "ë°¸ë¥˜" íŒ©í„°ë¥¼ ë°ì´í„°ì—ì„œ ìë™ ì¶”ì¶œ.</div>
</div>
<div style="background:#fff9e6;padding:15px;border-radius:6px;border-top:3px solid #f39c12">
<div style="font-weight:bold;color:#2c3e50;margin-bottom:6px">ğŸ”¸ ì°¨ì› ì¶•ì†Œ (R5)</div>
<div style="color:#555">100ê°œ í”¼ì²˜ë¥¼ 10ê°œë¡œ ì••ì¶•. ML ëª¨ë¸ì˜ ê³¼ì í•©ì„ ë°©ì§€í•˜ê³  í•™ìŠµ ì†ë„ë¥¼ ë†’ì¸ë‹¤.</div>
</div>
<div style="background:#e8f8e8;padding:15px;border-radius:6px;border-top:3px solid #27ae60">
<div style="font-weight:bold;color:#2c3e50;margin-bottom:6px">ğŸ”¹ ë¦¬ìŠ¤í¬ ëª¨ë¸ (R8)</div>
<div style="color:#555">í¬íŠ¸í´ë¦¬ì˜¤ ìœ„í—˜ì„ ì†Œìˆ˜ì˜ ì£¼ì„±ë¶„ìœ¼ë¡œ ë¶„í•´. "ì´ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ìœ„í—˜ ì¤‘ 60%ëŠ” ì‹œì¥ ë¦¬ìŠ¤í¬".</div>
</div>
<div style="background:#f0e8f8;padding:15px;border-radius:6px;border-top:3px solid #8e44ad">
<div style="font-weight:bold;color:#2c3e50;margin-bottom:6px">ğŸ”¸ ìˆ˜ìµë¥  ê³¡ì„  (R5)</div>
<div style="color:#555">ì±„ê¶Œ ìˆ˜ìµë¥  ê³¡ì„ ì˜ ë³€ë™ì„ 3ê°œ ì£¼ì„±ë¶„(ìˆ˜ì¤€/ê¸°ìš¸ê¸°/ê³¡ë¥ )ìœ¼ë¡œ ì„¤ëª…. ê¸ˆë¦¬ ë¦¬ìŠ¤í¬ ê´€ë¦¬ì˜ í•µì‹¬.</div>
</div>
</div>
</div>

<div class="def">
<p class="ni"><strong>PCA í•µì‹¬ ì •ë¦¬:</strong></p>
<ul>
<li><strong>ë¬´ì—‡:</strong> ê³ ì°¨ì› ë°ì´í„°ë¥¼ ì €ì°¨ì›ìœ¼ë¡œ ì••ì¶•í•˜ë˜, ì •ë³´ ì†ì‹¤ì„ ìµœì†Œí™”í•˜ëŠ” ê¸°ë²•</li>
<li><strong>ì–´ë–»ê²Œ:</strong> ê³µë¶„ì‚° í–‰ë ¬ì˜ ê³ ìœ ê°’ ë¶„í•´ â†’ í° ê³ ìœ ê°’ì˜ ê³ ìœ ë²¡í„° = ì£¼ì„±ë¶„</li>
<li><strong>ì™œ:</strong> 50ê°œ ì¢…ëª©ì„ 3~5ê°œ íŒ©í„°ë¡œ ìš”ì•½, ê³¼ì í•© ë°©ì§€, ì‹œê°í™” ê°€ëŠ¥</li>
<li><strong>ì–¸ì œ:</strong> í”¼ì²˜ê°€ ë„ˆë¬´ ë§ì„ ë•Œ, ì¢…ëª© ê°„ êµ¬ì¡°ë¥¼ íŒŒì•…í•˜ê³  ì‹¶ì„ ë•Œ</li>
</ul>
<p class="ni">Round 5ì—ì„œ PCAë¥¼ ë³¸ê²©ì ìœ¼ë¡œ ë‹¤ë£¨ë©°, t-SNEì™€ í•¨ê»˜ ì°¨ì› ì¶•ì†Œì™€ íŒ©í„° ëª¨ë¸ì— í™œìš©í•œë‹¤.</p>
</div>

<!-- â•â•â• Plotly: Ch.5 PCA ì‹œê°í™” â€” 2D ë°ì´í„°ì˜ ì£¼ì„±ë¶„ â•â•â• -->
<div id="plot-ch5-pca" style="width:100%;height:500px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ í˜¸ë²„ë¡œ ê° ë°ì´í„° í¬ì¸íŠ¸ í™•ì¸. ë¹¨ê°„ í™”ì‚´í‘œ(PC1)ê°€ ë°ì´í„° ë¶„ì‚°ì„ ê°€ì¥ ë§ì´ ì„¤ëª…í•˜ëŠ” ë°©í–¥ì…ë‹ˆë‹¤.</p>
<script>
(function(){
  // ìƒê´€ê´€ê³„ ìˆëŠ” 2D ë°ì´í„° ìƒì„± (ì‹œë“œ ê³ ì •)
  function mulberry32(a){return function(){a|=0;a=a+0x6D2B79F5|0;var t=Math.imul(a^a>>>15,1|a);t=t+Math.imul(t^t>>>7,61|t)^t;return((t^t>>>14)>>>0)/4294967296;}}
  var rng = mulberry32(42);
  function randn(){var u=0,v=0;while(u===0)u=rng();while(v===0)v=rng();return Math.sqrt(-2*Math.log(u))*Math.cos(2*Math.PI*v);}
  
  var N=150, px=[], py=[];
  for(var i=0;i<N;i++){
    var x1=randn()*2, x2=0.7*x1+randn()*1.2;
    px.push(x1); py.push(x2);
  }
  
  // ìˆ˜ë™ PCA: í‰ê·  ë¹¼ê¸°
  var mx=0,my=0;
  for(var i=0;i<N;i++){mx+=px[i];my+=py[i];}
  mx/=N; my/=N;
  var cx=[],cy=[];
  for(var i=0;i<N;i++){cx.push(px[i]-mx);cy.push(py[i]-my);}
  
  // ê³µë¶„ì‚° ê³„ì‚°
  var cxx=0,cyy=0,cxy=0;
  for(var i=0;i<N;i++){cxx+=cx[i]*cx[i];cyy+=cy[i]*cy[i];cxy+=cx[i]*cy[i];}
  cxx/=(N-1);cyy/=(N-1);cxy/=(N-1);
  
  // 2x2 ê³ ìœ ê°’ ë¶„í•´
  var tr=cxx+cyy, det=cxx*cyy-cxy*cxy;
  var l1=(tr+Math.sqrt(tr*tr-4*det))/2;
  var l2=(tr-Math.sqrt(tr*tr-4*det))/2;
  var vx1=cxy, vy1=l1-cxx;
  var len1=Math.sqrt(vx1*vx1+vy1*vy1);
  vx1/=len1; vy1/=len1;
  var vx2=cxy, vy2=l2-cxx;
  var len2=Math.sqrt(vx2*vx2+vy2*vy2);
  vx2/=len2; vy2/=len2;
  
  var sc = 3; // í™”ì‚´í‘œ ìŠ¤ì¼€ì¼
  var traces = [
    {x:px, y:py, mode:'markers', name:'ë°ì´í„° (N=150)',
     marker:{size:6, color:'#3498db', opacity:0.6}},
    // PC1 í™”ì‚´í‘œ
    {x:[mx-vx1*sc, mx+vx1*sc], y:[my-vy1*sc, my+vy1*sc],
     mode:'lines', name:'PC1 (ì„¤ëª…ë¹„ìœ¨: '+(l1/(l1+l2)*100).toFixed(1)+'%)',
     line:{color:'#e74c3c', width:4}},
    // PC2 í™”ì‚´í‘œ
    {x:[mx-vx2*sc*0.6, mx+vx2*sc*0.6], y:[my-vy2*sc*0.6, my+vy2*sc*0.6],
     mode:'lines', name:'PC2 (ì„¤ëª…ë¹„ìœ¨: '+(l2/(l1+l2)*100).toFixed(1)+'%)',
     line:{color:'#f39c12', width:3, dash:'dash'}}
  ];
  
  var layout = {
    title:{text:'PCA: ë°ì´í„°ì˜ ì£¼ì„±ë¶„ ë°©í–¥ (ê³ ìœ ë²¡í„° = ë¶„ì‚° ìµœëŒ€ ë°©í–¥)', font:{size:14}},
    xaxis:{title:'Feature 1', zeroline:true, zerolinecolor:'#ddd'},
    yaxis:{title:'Feature 2', zeroline:true, zerolinecolor:'#ddd', scaleanchor:'x'},
    legend:{x:0.01, y:0.99, font:{size:11}},
    margin:{l:50, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)'
  };
  
  Plotly.newPlot('plot-ch5-pca', traces, layout, {responsive:true});
})();
</script>

<!-- old PCA code replaced by expanded 5.5~5.8 above -->

<h3>5.9 ì–‘ì •ì¹˜ í–‰ë ¬ (Positive Definite)</h3>
<p>ê³µë¶„ì‚° í–‰ë ¬ì€ ë°˜ë“œì‹œ ì–‘ë°˜ì •ì¹˜(positive semi-definite)ì—¬ì•¼ í•œë‹¤. ì´ê²ƒì€ "ëª¨ë“  ê³ ìœ ê°’ì´ 0 ì´ìƒ"ì´ë¼ëŠ” ëœ»ì´ë‹¤. ì™œ ê·¸ë˜ì•¼ í• ê¹Œ?</p>

<p>í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° \(\sigma_p^2 = \mathbf{w}^T \boldsymbol{\Sigma} \mathbf{w}\)ëŠ” "ë¶„ì‚°"ì´ë¯€ë¡œ í•­ìƒ 0 ì´ìƒì´ì–´ì•¼ í•œë‹¤. ë§Œì•½ ê³µë¶„ì‚° í–‰ë ¬ì˜ ê³ ìœ ê°’ ì¤‘ ìŒìˆ˜ê°€ ìˆìœ¼ë©´, íŠ¹ì • ë¹„ì¤‘ ì¡°í•©ì—ì„œ ë¶„ì‚°ì´ ìŒìˆ˜ê°€ ë˜ëŠ” ëª¨ìˆœì´ ë°œìƒí•œë‹¤.</p>

<pre><code><span class="cm"># ì–‘ì •ì¹˜ í™•ì¸: ëª¨ë“  ê³ ìœ ê°’ > 0?</span>
<span class="fn">print</span>(<span class="st">f"ê³ ìœ ê°’: </span>{eigenvalues}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"ëª¨ë‘ ì–‘ìˆ˜? </span>{np.all(eigenvalues > 0)}<span class="st">"</span>)  <span class="cm"># True â†’ ì–‘ì •ì¹˜!</span>

<span class="cm"># ì–´ë–¤ ë¹„ì¤‘ì´ë“  ë¶„ì‚°ì€ í•­ìƒ ì–‘ìˆ˜</span>
<span class="kw">for</span> _ <span class="kw">in</span> <span class="fn">range</span>(<span class="nu">5</span>):
    w_random = np.random.randn(<span class="nu">3</span>)
    w_random /= w_random.sum()
    var = w_random @ cov_matrix @ w_random
    <span class="fn">print</span>(<span class="st">f"  w={w_random.round(3)}, var={var:.6f} (>0? </span>{var > 0}<span class="st">)"</span>)</code></pre>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch6: í™•ë¥ ë¶„í¬ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch6">6. í™•ë¥ ë¶„í¬</h2>

<h3>6.1 í™•ë¥ ë¶„í¬ë€?</h3>
<p>í™•ë¥ ë¶„í¬ëŠ” "ì–´ë–¤ ì‚¬ê±´ì´ ì¼ì–´ë‚  í™•ë¥ ì´ ì–´ë–»ê²Œ ë¶„í¬ë˜ì–´ ìˆëŠ”ê°€"ë¥¼ ìˆ˜í•™ì ìœ¼ë¡œ í‘œí˜„í•œ ê²ƒì´ë‹¤. ì£¼ì‚¬ìœ„ë¥¼ ë˜ì§€ë©´ 1~6ì´ ê°ê° 1/6 í™•ë¥ ë¡œ ë‚˜ì˜¨ë‹¤. ì´ê²ƒì´ ê· ì¼ë¶„í¬(uniform distribution)ë‹¤.</p>

<p>ê¸ˆìœµì—ì„œ í™•ë¥ ë¶„í¬ê°€ ì¤‘ìš”í•œ ì´ìœ : ì£¼ê°€ ìˆ˜ìµë¥ ì´ ì–´ë–¤ ë¶„í¬ë¥¼ ë”°ë¥´ëŠ”ì§€ ì•Œë©´, ë¯¸ë˜ ìˆ˜ìµë¥ ì˜ ë²”ìœ„ë¥¼ ì˜ˆì¸¡í•˜ê³ , ìœ„í—˜(VaR)ì„ ê³„ì‚°í•˜ê³ , ì˜µì…˜ ê°€ê²©ì„ ë§¤ê¸¸ ìˆ˜ ìˆë‹¤.</p>

<!-- í™•ë¥ ë¶„í¬ ë¹„êµ ë‹¤ì´ì–´ê·¸ë¨ (CSS) -->
<div style="margin:25px 0;padding:25px;background:linear-gradient(135deg,#f8f9fa,#eef2f7);border-radius:10px;border:1px solid #ccc">
<p class="ni" style="text-align:center;font-weight:bold;font-size:15px;margin-bottom:18px;color:#2c3e50">ğŸ“Š ê¸ˆìœµì—ì„œ ë§Œë‚˜ëŠ” ì£¼ìš” í™•ë¥ ë¶„í¬</p>
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;font-size:12px">
<div style="background:#fff;padding:15px;border-radius:8px;border-left:4px solid #3498db;box-shadow:0 1px 3px rgba(0,0,0,0.1)">
<div style="font-weight:bold;color:#3498db;font-size:14px;margin-bottom:6px">ğŸ”” ì •ê·œë¶„í¬</div>
<div style="text-align:center;font-size:24px;margin:8px 0">âˆ©</div>
<div style="color:#555">ì¢… ëª¨ì–‘, ì¢Œìš° ëŒ€ì¹­</div>
<div style="margin-top:6px;font-size:11px;color:#888">íŒŒë¼ë¯¸í„°: Î¼(í‰ê· ), Ïƒ(í‘œì¤€í¸ì°¨)</div>
<div style="margin-top:6px;padding:4px 8px;background:#e8f4f8;border-radius:4px;font-size:11px">ğŸ’° ìˆ˜ìµë¥  ëª¨ë¸ë§ì˜ ê¸°ë³¸ ê°€ì •</div>
</div>
<div style="background:#fff;padding:15px;border-radius:8px;border-left:4px solid #e67e22;box-shadow:0 1px 3px rgba(0,0,0,0.1)">
<div style="font-weight:bold;color:#e67e22;font-size:14px;margin-bottom:6px">ğŸ“ˆ ë¡œê·¸ì •ê·œë¶„í¬</div>
<div style="text-align:center;font-size:24px;margin:8px 0">âŒ’</div>
<div style="color:#555">ì–‘ìˆ˜ë§Œ, ì˜¤ë¥¸ìª½ ê¼¬ë¦¬ ê¸´ í˜•íƒœ</div>
<div style="margin-top:6px;font-size:11px;color:#888">íŒŒë¼ë¯¸í„°: Î¼, Ïƒ (ë¡œê·¸ ìŠ¤ì¼€ì¼)</div>
<div style="margin-top:6px;padding:4px 8px;background:#fff9e6;border-radius:4px;font-size:11px">ğŸ’° ì£¼ê°€ ìì²´ì˜ ë¶„í¬ (GBM)</div>
</div>
<div style="background:#fff;padding:15px;border-radius:8px;border-left:4px solid #e74c3c;box-shadow:0 1px 3px rgba(0,0,0,0.1)">
<div style="font-weight:bold;color:#e74c3c;font-size:14px;margin-bottom:6px">ğŸ˜ t-ë¶„í¬</div>
<div style="text-align:center;font-size:24px;margin:8px 0">â‹‚</div>
<div style="color:#555">ì •ê·œë¶„í¬ë³´ë‹¤ ê¼¬ë¦¬ê°€ ë‘êº¼ì›€</div>
<div style="margin-top:6px;font-size:11px;color:#888">íŒŒë¼ë¯¸í„°: Î¼, Ïƒ, Î½(ììœ ë„)</div>
<div style="margin-top:6px;padding:4px 8px;background:#fde8e8;border-radius:4px;font-size:11px">ğŸ’° íŒ»í…Œì¼ ë°˜ì˜ VaR ê³„ì‚°</div>
</div>
<div style="background:#fff;padding:15px;border-radius:8px;border-left:4px solid #27ae60;box-shadow:0 1px 3px rgba(0,0,0,0.1)">
<div style="font-weight:bold;color:#27ae60;font-size:14px;margin-bottom:6px">âš¡ í¬ì•„ì†¡ë¶„í¬</div>
<div style="text-align:center;font-size:24px;margin:8px 0">â–â–â–â–</div>
<div style="color:#555">ì´ì‚°í˜•, ì‚¬ê±´ ë°œìƒ íšŸìˆ˜</div>
<div style="margin-top:6px;font-size:11px;color:#888">íŒŒë¼ë¯¸í„°: Î»(í‰ê·  ë°œìƒë¥ )</div>
<div style="margin-top:6px;padding:4px 8px;background:#e8f8e8;border-radius:4px;font-size:11px">ğŸ’° HFT ì£¼ë¬¸ ë„ì°© ëª¨ë¸ë§</div>
</div>
</div>
<div style="margin-top:15px;text-align:center;font-size:12px;color:#666">
<span style="display:inline-block;margin:0 12px">ì •ê·œë¶„í¬ â†’ <strong>ìˆ˜ìµë¥ </strong></span>
<span style="display:inline-block;margin:0 12px">ë¡œê·¸ì •ê·œ â†’ <strong>ì£¼ê°€</strong></span>
<span style="display:inline-block;margin:0 12px">t-ë¶„í¬ â†’ <strong>ìœ„ê¸° ì‹œ ìˆ˜ìµë¥ </strong></span>
<span style="display:inline-block;margin:0 12px">í¬ì•„ì†¡ â†’ <strong>ì£¼ë¬¸ ë¹ˆë„</strong></span>
</div>
</div>

<h3>6.2 ì •ê·œë¶„í¬ (Normal Distribution) â€” ì¢… ëª¨ì–‘ì˜ ê³¡ì„ </h3>
<p>ì •ê·œë¶„í¬(ê°€ìš°ì‹œì•ˆ ë¶„í¬)ëŠ” í†µê³„í•™ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶„í¬ë‹¤. í‚¤, ëª¸ë¬´ê²Œ, IQ, ì¸¡ì • ì˜¤ì°¨ ë“± ìì—°í˜„ìƒì˜ ë§ì€ ê²ƒì´ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤. ê¸ˆìœµì—ì„œëŠ” ì£¼ê°€ ìˆ˜ìµë¥ ì´ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤ê³  ê°€ì •í•˜ëŠ” ê²ƒì´ ë§ì€ ëª¨ë¸ì˜ ì¶œë°œì ì´ë‹¤.</p>

<p>ì •ê·œë¶„í¬ëŠ” ë‘ ê°œì˜ íŒŒë¼ë¯¸í„°ë¡œ ì™„ì „íˆ ê²°ì •ëœë‹¤:</p>
<ul>
<li><strong>í‰ê·  (Î¼, mu):</strong> ë¶„í¬ì˜ ì¤‘ì‹¬. ì¢… ëª¨ì–‘ì˜ ê¼­ëŒ€ê¸° ìœ„ì¹˜</li>
<li><strong>í‘œì¤€í¸ì°¨ (Ïƒ, sigma):</strong> ë¶„í¬ì˜ í¼ì§ ì •ë„. í´ìˆ˜ë¡ ë„“ê²Œ í¼ì§„ë‹¤</li>
</ul>

<div class="eq">\[ f(x) = \frac{1}{\sigma\sqrt{2\pi}} \exp\left(-\frac{(x-\mu)^2}{2\sigma^2}\right) \]</div>

<p>ì´ ê³µì‹ì„ ì™¸ìš¸ í•„ìš”ëŠ” ì—†ë‹¤. ì¤‘ìš”í•œ ê²ƒì€ "68-95-99.7 ê·œì¹™"ì´ë‹¤:</p>
<ul>
<li>ë°ì´í„°ì˜ 68%ê°€ Î¼ Â± 1Ïƒ ì•ˆì— ìˆë‹¤</li>
<li>ë°ì´í„°ì˜ 95%ê°€ Î¼ Â± 2Ïƒ ì•ˆì— ìˆë‹¤</li>
<li>ë°ì´í„°ì˜ 99.7%ê°€ Î¼ Â± 3Ïƒ ì•ˆì— ìˆë‹¤</li>
</ul>

<!-- â”€â”€ ë³´ì¶© 6.2+ 68-95-99.7 â†’ VaR ì—°ê²° â”€â”€ -->
<div class="def">
<p class="ni"><strong>ğŸ” ë³´ì¶©: 68-95-99.7 ê·œì¹™ì´ ê¸ˆìœµì—ì„œ ì™œ ì¤‘ìš”í•œê°€ â€” VaR ì—°ê²°</strong></p>
<p class="ni">ì´ ê·œì¹™ì€ ë‹¨ìˆœí•œ í†µê³„ ìƒì‹ì´ ì•„ë‹ˆë‹¤. ê¸ˆìœµ ë¦¬ìŠ¤í¬ ê´€ë¦¬ì˜ í•µì‹¬ ë„êµ¬ì¸ VaR(Value at Risk)ì˜ ê¸°ì´ˆë‹¤.</p>
<p class="ni">VaRëŠ” "ìµœì•…ì˜ ê²½ìš° ì–¼ë§ˆë‚˜ ìƒì„ ìˆ˜ ìˆëŠ”ê°€"ë¥¼ í™•ë¥ ì ìœ¼ë¡œ ë‹µí•˜ëŠ” ì§€í‘œë‹¤. ì˜ˆë¥¼ ë“¤ì–´:</p>
<ul>
<li>í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜: 1ì–µ ì›</li>
<li>ì¼ê°„ í‰ê·  ìˆ˜ìµë¥  Î¼ = 0.05%, ì¼ê°„ í‘œì¤€í¸ì°¨ Ïƒ = 1.5%</li>
<li><strong>95% VaR</strong> = Î¼ - 1.645Ïƒ = 0.05% - 1.645Ã—1.5% â‰ˆ -2.42%</li>
<li>â†’ "ë‚´ì¼ í•˜ë£¨ ë™ì•ˆ 95% í™•ë¥ ë¡œ ìµœëŒ€ 242ë§Œ ì›ê¹Œì§€ ìƒì„ ìˆ˜ ìˆë‹¤"</li>
<li><strong>99% VaR</strong> = Î¼ - 2.326Ïƒ â‰ˆ -3.44% â†’ ìµœëŒ€ 344ë§Œ ì› ì†ì‹¤</li>
</ul>
<p class="ni">ì—¬ê¸°ì„œ 1.645ì™€ 2.326ì€ ì •ê·œë¶„í¬ì˜ ë¶„ìœ„ìˆ˜(quantile)ë‹¤. 68-95-99.7 ê·œì¹™ì—ì„œ 95%ê°€ Â±2Ïƒ ì•ˆì— ìˆë‹¤ëŠ” ê²ƒì€, í•œìª½ ê¼¬ë¦¬(í•˜ìœ„ 2.5%)ê°€ -2Ïƒ ë°–ì— ìˆë‹¤ëŠ” ëœ»ì´ë‹¤. VaRëŠ” ì´ í•œìª½ ê¼¬ë¦¬ë¥¼ ì •ë°€í•˜ê²Œ ê³„ì‚°í•œ ê²ƒì´ë‹¤.</p>
</div>

<pre><code><span class="cm"># VaR ê³„ì‚° ì˜ˆì œ: 68-95-99.7 ê·œì¹™ì˜ ì‹¤ì „ ì ìš©</span>
portfolio_value = <span class="nu">100_000_000</span>  <span class="cm"># 1ì–µ ì›</span>
mu_daily = <span class="nu">0.0005</span>   <span class="cm"># ì¼ê°„ í‰ê·  ìˆ˜ìµë¥  0.05%</span>
sigma_daily = <span class="nu">0.015</span>  <span class="cm"># ì¼ê°„ í‘œì¤€í¸ì°¨ 1.5%</span>

<span class="cm"># ì •ê·œë¶„í¬ ê°€ì • VaR</span>
<span class="kw">from</span> scipy <span class="kw">import</span> stats

var_95 = mu_daily - stats.norm.ppf(<span class="nu">0.95</span>) * sigma_daily
var_99 = mu_daily - stats.norm.ppf(<span class="nu">0.99</span>) * sigma_daily

<span class="fn">print</span>(<span class="st">"=== VaR (ì •ê·œë¶„í¬ ê°€ì •) ==="</span>)
<span class="fn">print</span>(<span class="st">f"95% VaR: </span>{var_95*100:.2f}<span class="st">% = </span>{portfolio_value * abs(var_95):,.0f}<span class="st">ì› ì†ì‹¤"</span>)
<span class="fn">print</span>(<span class="st">f"99% VaR: </span>{var_99*100:.2f}<span class="st">% = </span>{portfolio_value * abs(var_99):,.0f}<span class="st">ì› ì†ì‹¤"</span>)
<span class="fn">print</span>(<span class="st">f"\nâ†’ 'ë‚´ì¼ 95% í™•ë¥ ë¡œ ìµœëŒ€ </span>{portfolio_value * abs(var_95):,.0f}<span class="st">ì›ê¹Œì§€ ìƒì„ ìˆ˜ ìˆë‹¤'"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì´ê²ƒì´ ì€í–‰/í€ë“œê°€ ë§¤ì¼ ë³´ê³ í•˜ëŠ” ë¦¬ìŠ¤í¬ ì§€í‘œ!"</span>)</code></pre>

<pre><code><span class="kw">import</span> matplotlib.pyplot <span class="kw">as</span> plt
<span class="kw">from</span> scipy <span class="kw">import</span> stats

<span class="cm"># ì •ê·œë¶„í¬ ì‹œë®¬ë ˆì´ì…˜: ì¼ê°„ ìˆ˜ìµë¥ </span>
mu = <span class="nu">0.0005</span>    <span class="cm"># ì¼ê°„ í‰ê·  ìˆ˜ìµë¥  0.05%</span>
sigma = <span class="nu">0.015</span>  <span class="cm"># ì¼ê°„ í‘œì¤€í¸ì°¨ 1.5%</span>

<span class="cm"># 1000ì¼ ìˆ˜ìµë¥  ì‹œë®¬ë ˆì´ì…˜</span>
np.random.seed(<span class="nu">42</span>)
sim_returns = np.random.normal(mu, sigma, <span class="nu">1000</span>)

<span class="fn">print</span>(<span class="st">"=== ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ==="</span>)
<span class="fn">print</span>(<span class="st">f"í‰ê· :     </span>{sim_returns.mean()*100:.3f}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">f"í‘œì¤€í¸ì°¨: </span>{sim_returns.std()*100:.3f}<span class="st">%"</span>)

<span class="cm"># 68-95-99.7 ê·œì¹™ ê²€ì¦</span>
within_1s = np.sum(np.abs(sim_returns - mu) < sigma) / <span class="fn">len</span>(sim_returns)
within_2s = np.sum(np.abs(sim_returns - mu) < <span class="nu">2</span>*sigma) / <span class="fn">len</span>(sim_returns)
within_3s = np.sum(np.abs(sim_returns - mu) < <span class="nu">3</span>*sigma) / <span class="fn">len</span>(sim_returns)
<span class="fn">print</span>(<span class="st">f"\n1Ïƒ ì´ë‚´: </span>{within_1s:.1%}<span class="st"> (ì´ë¡ : 68.3%)"</span>)
<span class="fn">print</span>(<span class="st">f"2Ïƒ ì´ë‚´: </span>{within_2s:.1%}<span class="st"> (ì´ë¡ : 95.4%)"</span>)
<span class="fn">print</span>(<span class="st">f"3Ïƒ ì´ë‚´: </span>{within_3s:.1%}<span class="st"> (ì´ë¡ : 99.7%)"</span>)

<span class="cm"># ì‹œê°í™”</span>
fig, (ax1, ax2) = plt.subplots(<span class="nu">1</span>, <span class="nu">2</span>, figsize=(<span class="nu">14</span>, <span class="nu">5</span>))

<span class="cm"># íˆìŠ¤í† ê·¸ë¨ + ì´ë¡ ì  PDF</span>
ax1.hist(sim_returns*<span class="nu">100</span>, bins=<span class="nu">50</span>, density=<span class="kw">True</span>, alpha=<span class="nu">0.7</span>,
         color=<span class="st">'steelblue'</span>, edgecolor=<span class="st">'white'</span>, label=<span class="st">'Simulated'</span>)
x = np.linspace(-<span class="nu">5</span>, <span class="nu">5</span>, <span class="nu">200</span>)
ax1.plot(x, stats.norm.pdf(x, mu*<span class="nu">100</span>, sigma*<span class="nu">100</span>), <span class="st">'r-'</span>,
         linewidth=<span class="nu">2</span>, label=<span class="st">'Theoretical PDF'</span>)
ax1.axvline(mu*<span class="nu">100</span>, color=<span class="st">'black'</span>, linestyle=<span class="st">'--'</span>, alpha=<span class="nu">0.5</span>, label=<span class="st">'Î¼'</span>)
ax1.set_title(<span class="st">"Normal Distribution of Daily Returns"</span>, fontsize=<span class="nu">13</span>)
ax1.set_xlabel(<span class="st">"Daily Return (%)"</span>)
ax1.set_ylabel(<span class="st">"Density"</span>)
ax1.legend()

<span class="cm"># QQ Plot: ì •ê·œì„± ê²€ì •</span>
stats.probplot(sim_returns, dist=<span class="st">"norm"</span>, plot=ax2)
ax2.set_title(<span class="st">"QQ Plot (Normal)"</span>, fontsize=<span class="nu">13</span>)
plt.tight_layout()
plt.show()</code></pre>

<div class="info">
<p class="ni"><strong>QQ Plot ì½ëŠ” ë²•:</strong> ì ë“¤ì´ ë¹¨ê°„ ì§ì„  ìœ„ì— ë†“ì´ë©´ ì •ê·œë¶„í¬ë¥¼ ì˜ ë”°ë¥´ëŠ” ê²ƒì´ë‹¤. ì–‘ ëì—ì„œ ì§ì„ ì„ ë²—ì–´ë‚˜ë©´ íŒ»í…Œì¼(fat tail)ì´ ì¡´ì¬í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ì‹¤ì œ ê¸ˆìœµ ë°ì´í„°ëŠ” ê±°ì˜ í•­ìƒ ì–‘ ëì—ì„œ ë²—ì–´ë‚œë‹¤.</p>
</div>

<h3>6.3 ì™œë„ì™€ ì²¨ë„: ì •ê·œë¶„í¬ì˜ í•œê³„</h3>
<p>ì •ê·œë¶„í¬ëŠ” í‰ê· ê³¼ í‘œì¤€í¸ì°¨ë§Œìœ¼ë¡œ ì™„ì „íˆ ê¸°ìˆ ëœë‹¤. í•˜ì§€ë§Œ ì‹¤ì œ ê¸ˆìœµ ìˆ˜ìµë¥ ì€ ì •ê·œë¶„í¬ì™€ ë‹¤ë¥¸ ë‘ ê°€ì§€ íŠ¹ì„±ì„ ë³´ì¸ë‹¤:</p>

<ul>
<li><strong>ì™œë„ (Skewness):</strong> ë¶„í¬ê°€ ì¢Œìš° ëŒ€ì¹­ì¸ê°€? ìŒì˜ ì™œë„ = ì™¼ìª½ ê¼¬ë¦¬ê°€ ê¸¸ë‹¤ = í° ì†ì‹¤ì´ í° ì´ìµë³´ë‹¤ ìì£¼ ë°œìƒ</li>
<li><strong>ì²¨ë„ (Kurtosis):</strong> ê¼¬ë¦¬ê°€ ì–¼ë§ˆë‚˜ ë‘êº¼ìš´ê°€? ì–‘ì˜ ì´ˆê³¼ì²¨ë„ = ê·¹ë‹¨ì  ì‚¬ê±´ì´ ì •ê·œë¶„í¬ ì˜ˆì¸¡ë³´ë‹¤ ìì£¼ ë°œìƒ</li>
</ul>

<pre><code><span class="cm"># ì™œë„ì™€ ì²¨ë„ ê³„ì‚°</span>
<span class="fn">print</span>(<span class="st">f"ì™œë„ (Skewness): </span>{stats.skew(sim_returns):.3f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"  â†’ 0ì— ê°€ê¹Œìš°ë©´ ëŒ€ì¹­, ìŒìˆ˜ë©´ ì™¼ìª½ ê¼¬ë¦¬ê°€ ê¹€"</span>)

<span class="fn">print</span>(<span class="st">f"ì²¨ë„ (Kurtosis): </span>{stats.kurtosis(sim_returns):.3f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"  â†’ 0ì´ë©´ ì •ê·œë¶„í¬, ì–‘ìˆ˜ë©´ íŒ»í…Œì¼ ì¡´ì¬"</span>)</code></pre>

<h3>6.4 ë¡œê·¸ì •ê·œë¶„í¬ì™€ GBM</h3>
<p>ì£¼ê°€ ìì²´ëŠ” ìŒìˆ˜ê°€ ë  ìˆ˜ ì—†ë‹¤. ì‚¼ì„±ì „ì ì£¼ê°€ê°€ -50,000ì›ì´ ë  ìˆ˜ëŠ” ì—†ì§€ ì•Šì€ê°€? ê·¸ë˜ì„œ ì£¼ê°€ëŠ” ì •ê·œë¶„í¬ê°€ ì•„ë‹ˆë¼ ë¡œê·¸ì •ê·œë¶„í¬(log-normal distribution)ë¥¼ ë”°ë¥¸ë‹¤ê³  ê°€ì •í•œë‹¤. ì´ê²ƒì€ "ë¡œê·¸ ìˆ˜ìµë¥ ì´ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤"ëŠ” ê²ƒê³¼ ê°™ì€ ë§ì´ë‹¤.</p>

<div class="eq">\[ \ln\left(\frac{S_t}{S_{t-1}}\right) \sim N(\mu, \sigma^2) \quad \Leftrightarrow \quad S_t \sim \text{LogNormal} \]</div>

<p>ì´ ê°€ì •ì—ì„œ ì¶œë°œí•˜ëŠ” ê²ƒì´ GBM(Geometric Brownian Motion, ê¸°í•˜ ë¸Œë¼ìš´ ìš´ë™)ì´ë‹¤. GBMì€ ì£¼ê°€ì˜ ì›€ì§ì„ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ëª¨ë¸ì´ë©°, Black-Scholes ì˜µì…˜ ê°€ê²© ëª¨ë¸ì˜ ê¸°ë°˜ì´ë‹¤.</p>

<pre><code><span class="cm"># GBM ì‹œë®¬ë ˆì´ì…˜: ì£¼ê°€ ê²½ë¡œ ìƒì„±</span>
S0 = <span class="nu">70000</span>       <span class="cm"># ì´ˆê¸° ì£¼ê°€ (ì‚¼ì„±ì „ì ì•½ 7ë§Œì›)</span>
mu_ann = <span class="nu">0.10</span>    <span class="cm"># ì—°ê°„ ê¸°ëŒ€ìˆ˜ìµë¥  10%</span>
sigma_ann = <span class="nu">0.30</span>  <span class="cm"># ì—°ê°„ ë³€ë™ì„± 30%</span>
T = <span class="nu">1</span>             <span class="cm"># 1ë…„</span>
dt = <span class="nu">1</span>/<span class="nu">252</span>        <span class="cm"># ì¼ê°„ ì‹œê°„ ê°„ê²©</span>
N = <span class="nu">252</span>           <span class="cm"># ê±°ë˜ì¼ ìˆ˜</span>
n_paths = <span class="nu">5</span>      <span class="cm"># ì‹œë®¬ë ˆì´ì…˜ ê²½ë¡œ ìˆ˜</span>

np.random.seed(<span class="nu">42</span>)
fig, axes = plt.subplots(<span class="nu">1</span>, <span class="nu">2</span>, figsize=(<span class="nu">14</span>, <span class="nu">5</span>))

<span class="cm"># ì—¬ëŸ¬ ê²½ë¡œ ì‹œë®¬ë ˆì´ì…˜</span>
<span class="kw">for</span> path <span class="kw">in</span> <span class="fn">range</span>(n_paths):
    Z = np.random.normal(<span class="nu">0</span>, <span class="nu">1</span>, N)
    prices = np.zeros(N + <span class="nu">1</span>)
    prices[<span class="nu">0</span>] = S0
    
    <span class="kw">for</span> t <span class="kw">in</span> <span class="fn">range</span>(N):
        prices[t+<span class="nu">1</span>] = prices[t] * np.exp(
            (mu_ann - <span class="nu">0.5</span>*sigma_ann**<span class="nu">2</span>)*dt + sigma_ann*np.sqrt(dt)*Z[t]
        )
    
    axes[<span class="nu">0</span>].plot(prices, linewidth=<span class="nu">1</span>, alpha=<span class="nu">0.8</span>)

axes[<span class="nu">0</span>].axhline(y=S0, color=<span class="st">'black'</span>, linestyle=<span class="st">'--'</span>, alpha=<span class="nu">0.3</span>)
axes[<span class="nu">0</span>].set_title(<span class="st">"GBM Simulated Stock Prices"</span>, fontsize=<span class="nu">13</span>)
axes[<span class="nu">0</span>].set_xlabel(<span class="st">"Trading Days"</span>)
axes[<span class="nu">0</span>].set_ylabel(<span class="st">"Price (KRW)"</span>)
axes[<span class="nu">0</span>].grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)

<span class="cm"># 1000ê°œ ê²½ë¡œì˜ ìµœì¢… ê°€ê²© ë¶„í¬</span>
final_prices = []
<span class="kw">for</span> _ <span class="kw">in</span> <span class="fn">range</span>(<span class="nu">1000</span>):
    Z = np.random.normal(<span class="nu">0</span>, <span class="nu">1</span>, N)
    S = S0
    <span class="kw">for</span> t <span class="kw">in</span> <span class="fn">range</span>(N):
        S = S * np.exp((mu_ann - <span class="nu">0.5</span>*sigma_ann**<span class="nu">2</span>)*dt + sigma_ann*np.sqrt(dt)*Z[t])
    final_prices.append(S)

axes[<span class="nu">1</span>].hist(final_prices, bins=<span class="nu">50</span>, density=<span class="kw">True</span>, alpha=<span class="nu">0.7</span>,
             color=<span class="st">'steelblue'</span>, edgecolor=<span class="st">'white'</span>)
axes[<span class="nu">1</span>].axvline(x=S0, color=<span class="st">'red'</span>, linestyle=<span class="st">'--'</span>, label=<span class="st">f'Initial: {S0:,}'</span>)
axes[<span class="nu">1</span>].axvline(x=np.mean(final_prices), color=<span class="st">'green'</span>, linestyle=<span class="st">'--'</span>,
               label=<span class="st">f'Mean: {np.mean(final_prices):,.0f}'</span>)
axes[<span class="nu">1</span>].set_title(<span class="st">"Distribution of Final Prices (1Y)"</span>, fontsize=<span class="nu">13</span>)
axes[<span class="nu">1</span>].set_xlabel(<span class="st">"Price (KRW)"</span>)
axes[<span class="nu">1</span>].legend()
plt.tight_layout()
plt.show()</code></pre>

<div class="eq">\[ dS = \mu S \, dt + \sigma S \, dW_t \quad \text{(GBM í™•ë¥ ë¯¸ë¶„ë°©ì •ì‹)} \]</div>

<div class="info">
<p class="ni"><strong>GBMì˜ ì˜ë¯¸:</strong> ì£¼ê°€ì˜ ë³€í™”(dS)ëŠ” ë‘ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœë‹¤. (1) ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì¶”ì„¸(Î¼S dt) â€” í‰ê· ì ìœ¼ë¡œ ì—° 10% ìƒìŠ¹, (2) ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ëœë¤ ì¶©ê²©(ÏƒS dW) â€” ë³€ë™ì„±ì— ë¹„ë¡€í•˜ëŠ” ë…¸ì´ì¦ˆ. ì´ ëª¨ë¸ì€ Round 8ì—ì„œ Convex Optimizationê³¼ ê²°í•©í•˜ì—¬ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ì— í™œìš©ëœë‹¤.</p>
</div>

<h3>6.5 íŒ»í…Œì¼ (Fat Tails) â€” ì •ê·œë¶„í¬ì˜ ìœ„í—˜í•œ ì°©ê°</h3>
<p>ì‹¤ì œ ê¸ˆìœµ ìˆ˜ìµë¥ ì€ ì •ê·œë¶„í¬ë³´ë‹¤ ê¼¬ë¦¬ê°€ ë‘ê»ë‹¤. ì´ê²ƒì„ íŒ»í…Œì¼(fat tails)ì´ë¼ í•œë‹¤. ë¬´ìŠ¨ ëœ»ì¸ê°€?</p>

<p>ì •ê·œë¶„í¬ì— ë”°ë¥´ë©´ ì¼ê°„ ìˆ˜ìµë¥ ì´ -10%ë¥¼ ë„˜ëŠ” ì‚¬ê±´ì€ ìˆ˜ì‹­ì–µ ë…„ì— í•œ ë²ˆ ì¼ì–´ë‚˜ì•¼ í•œë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ëª‡ ë…„ì— í•œ ë²ˆì”© ì¼ì–´ë‚œë‹¤. 2008ë…„ ê¸ˆìœµìœ„ê¸°, 2020ë…„ ì½”ë¡œë‚˜ í­ë½, 2022ë…„ ë£¨ë‚˜ ì‚¬íƒœ ë“±. ì •ê·œë¶„í¬ë¥¼ ë§¹ì‹ í•˜ë©´ ìœ„í—˜ì„ ê³¼ì†Œí‰ê°€í•˜ê²Œ ëœë‹¤.</p>

<pre><code><span class="kw">import</span> yfinance <span class="kw">as</span> yf

<span class="cm"># ì‹¤ì œ ë¹„íŠ¸ì½”ì¸ ë°ì´í„°ë¡œ íŒ»í…Œì¼ í™•ì¸</span>
btc = yf.download(<span class="st">"BTC-USD"</span>, start=<span class="st">"2020-01-01"</span>, end=<span class="st">"2025-01-01"</span>)
btc_ret = btc[<span class="st">"Close"</span>].pct_change().dropna()

<span class="fn">print</span>(<span class="st">"=== ë¹„íŠ¸ì½”ì¸ ìˆ˜ìµë¥  í†µê³„ ==="</span>)
<span class="fn">print</span>(<span class="st">f"í‰ê· :     </span>{btc_ret.mean()*100:.3f}<span class="st">%/ì¼"</span>)
<span class="fn">print</span>(<span class="st">f"í‘œì¤€í¸ì°¨: </span>{btc_ret.std()*100:.3f}<span class="st">%/ì¼"</span>)
<span class="fn">print</span>(<span class="st">f"ì™œë„:     </span>{btc_ret.skew():.3f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"ì²¨ë„:     </span>{btc_ret.kurtosis():.3f}<span class="st"> (ì •ê·œë¶„í¬=0)"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì²¨ë„ê°€ 0ë³´ë‹¤ í›¨ì”¬ í¬ë‹¤ = íŒ»í…Œì¼ ì¡´ì¬!"</span>)

<span class="cm"># ê·¹ë‹¨ì  ì‚¬ê±´ ë¹ˆë„</span>
n_3sigma = (np.abs(btc_ret) > <span class="nu">3</span> * btc_ret.std()).sum()
<span class="fn">print</span>(<span class="st">f"\n3Ïƒ ì´ˆê³¼ ì‚¬ê±´: </span>{n_3sigma}<span class="st">íšŒ"</span>)
<span class="fn">print</span>(<span class="st">f"ì •ê·œë¶„í¬ ì˜ˆì¸¡: </span>{len(btc_ret) * 0.003:.1f}<span class="st">íšŒ"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì‹¤ì œê°€ ì •ê·œë¶„í¬ ì˜ˆì¸¡ë³´ë‹¤ í›¨ì”¬ ë§ë‹¤!"</span>)</code></pre>

<div class="warn">
<p class="ni"><strong>ì‹¤ë¬´ì  êµí›ˆ:</strong> VaR(Value at Risk)ë¥¼ ì •ê·œë¶„í¬ ê°€ì •ìœ¼ë¡œ ê³„ì‚°í•˜ë©´ ìœ„í—˜ì„ ê³¼ì†Œí‰ê°€í•œë‹¤. ì‹¤ë¬´ì—ì„œëŠ” t-ë¶„í¬, ì—­ì‚¬ì  ì‹œë®¬ë ˆì´ì…˜, ë˜ëŠ” Extreme Value Theoryë¥¼ ì‚¬ìš©í•œë‹¤. HFTì—ì„œëŠ” ì´ íŒ»í…Œì¼ ë¦¬ìŠ¤í¬ê°€ íŠ¹íˆ ì¤‘ìš”í•˜ë‹¤ â€” ë°€ë¦¬ì´ˆ ë‹¨ìœ„ë¡œ ê±°ë˜í•˜ë©´ ê·¹ë‹¨ì  ì‚¬ê±´ì— ë…¸ì¶œë  í™•ë¥ ì´ ë†’ì•„ì§€ê¸° ë•Œë¬¸ì´ë‹¤.</p>
</div>

<div class="tc">Table 3. ì£¼ìš” í™•ë¥ ë¶„í¬ì™€ ê¸ˆìœµ í™œìš©</div>

<!-- â•â•â• Plotly: Ch.6 ì •ê·œë¶„í¬ vs t-ë¶„í¬ + GBM ì‹œë®¬ë ˆì´ì…˜ â•â•â• -->
<div id="plot-ch6-dist" style="width:100%;height:460px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ ë²”ë¡€ í´ë¦­ìœ¼ë¡œ ë¶„í¬ on/off. ê¼¬ë¦¬ ë¶€ë¶„(Â±3Ïƒ ì´ìƒ)ì—ì„œ t-ë¶„í¬ê°€ ì •ê·œë¶„í¬ë³´ë‹¤ í™•ë¥ ì´ ë†’ì€ ê²ƒì„ í™•ì¸í•˜ì„¸ìš”.</p>

<div id="plot-ch6-gbm" style="width:100%;height:460px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ í˜¸ë²„ë¡œ ê° ê²½ë¡œì˜ ê°€ê²© í™•ì¸. ê°™ì€ íŒŒë¼ë¯¸í„°ì—ì„œë„ ê²½ë¡œë§ˆë‹¤ ê²°ê³¼ê°€ í¬ê²Œ ë‹¤ë¦…ë‹ˆë‹¤ (ë¶ˆí™•ì‹¤ì„±!).</p>
<script>
(function(){
  // (1) ì •ê·œë¶„í¬ vs t-ë¶„í¬ ë¹„êµ
  function normPdf(x, mu, sig){
    return Math.exp(-0.5*Math.pow((x-mu)/sig,2))/(sig*Math.sqrt(2*Math.PI));
  }
  // t-ë¶„í¬ PDF ê·¼ì‚¬ (Stirling)
  function tPdf(x, df){
    var g1 = 1, g2 = 1;
    // gamma((df+1)/2) / gamma(df/2) ê·¼ì‚¬
    var a = (df+1)/2, b = df/2;
    // ê°„ë‹¨í•œ ë¹„ìœ¨ ê·¼ì‚¬
    var coeff = 1/(Math.sqrt(df*Math.PI));
    // Beta function ê·¼ì‚¬
    for(var k=0; k<20; k++){
      coeff *= (a+k-1)/(b+k-1) * (k>0?1:1);
    }
    // ì§ì ‘ ê³„ì‚°
    return (1/Math.sqrt(df*Math.PI)) * 
           (Math.exp(lgamma((df+1)/2) - lgamma(df/2))) *
           Math.pow(1+x*x/df, -(df+1)/2);
  }
  function lgamma(z){
    // Lanczos approximation
    var g=7, c=[0.99999999999980993,676.5203681218851,-1259.1392167224028,
    771.32342877765313,-176.61502916214059,12.507343278686905,
    -0.13857109526572012,9.9843695780195716e-6,1.5056327351493116e-7];
    if(z<0.5) return Math.log(Math.PI/Math.sin(Math.PI*z))-lgamma(1-z);
    z-=1; var x=c[0];
    for(var i=1;i<g+2;i++) x+=c[i]/(z+i);
    var t=z+g+0.5;
    return 0.5*Math.log(2*Math.PI)+(z+0.5)*Math.log(t)-t+Math.log(x);
  }
  
  var xArr=[], yNorm=[], yT3=[], yT5=[], yT30=[];
  for(var i=-50;i<=50;i++){
    var x=i*0.1;
    xArr.push(x);
    yNorm.push(normPdf(x,0,1));
    yT3.push(tPdf(x,3));
    yT5.push(tPdf(x,5));
    yT30.push(tPdf(x,30));
  }
  
  Plotly.newPlot('plot-ch6-dist', [
    {x:xArr, y:yNorm, mode:'lines', name:'ì •ê·œë¶„í¬ (N(0,1))', line:{color:'#3498db', width:3}},
    {x:xArr, y:yT3, mode:'lines', name:'t-ë¶„í¬ (Î½=3) â€” íŒ»í…Œì¼', line:{color:'#e74c3c', width:2, dash:'dash'}},
    {x:xArr, y:yT5, mode:'lines', name:'t-ë¶„í¬ (Î½=5)', line:{color:'#f39c12', width:2, dash:'dot'}},
    {x:xArr, y:yT30, mode:'lines', name:'t-ë¶„í¬ (Î½=30) â‰ˆ ì •ê·œ', line:{color:'#27ae60', width:2, dash:'dashdot'}}
  ], {
    title:{text:'ì •ê·œë¶„í¬ vs t-ë¶„í¬: ê¼¬ë¦¬ ë‘ê»˜ ë¹„êµ (Î½â†“ â†’ íŒ»í…Œì¼â†‘)', font:{size:14}},
    xaxis:{title:'x (í‘œì¤€í¸ì°¨ ë‹¨ìœ„)', range:[-5,5]},
    yaxis:{title:'í™•ë¥ ë°€ë„ f(x)', range:[0,0.45]},
    legend:{x:0.6, y:0.95, font:{size:11}},
    margin:{l:60, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)',
    shapes:[{type:'rect',x0:-1,x1:1,y0:0,y1:0.45,fillcolor:'rgba(52,152,219,0.05)',line:{width:0}},
            {type:'line',x0:-3,y0:0,x1:-3,y1:0.01,line:{color:'#e74c3c',width:1,dash:'dot'}},
            {type:'line',x0:3,y0:0,x1:3,y1:0.01,line:{color:'#e74c3c',width:1,dash:'dot'}}],
    annotations:[{x:0,y:0.42,text:'68% ì˜ì—­ (Â±1Ïƒ)',showarrow:false,font:{size:10,color:'#3498db'}},
                 {x:3.5,y:0.015,text:'íŒ»í…Œì¼ ì˜ì—­',showarrow:false,font:{size:10,color:'#e74c3c'}}]
  }, {responsive:true});
  
  // (2) GBM ì‹œë®¬ë ˆì´ì…˜
  function mulberry32(a){return function(){a|=0;a=a+0x6D2B79F5|0;var t=Math.imul(a^a>>>15,1|a);t=t+Math.imul(t^t>>>7,61|t)^t;return((t^t>>>14)>>>0)/4294967296;}}
  function boxMuller(rng){var u=0,v=0;while(u===0)u=rng();while(v===0)v=rng();return Math.sqrt(-2*Math.log(u))*Math.cos(2*Math.PI*v);}
  
  var S0=70000, mu=0.10, sig=0.30, dt=1/252, nDays=252, nPaths=8;
  var colors = ['#3498db','#e74c3c','#27ae60','#f39c12','#8e44ad','#1abc9c','#e67e22','#2c3e50'];
  var gbmTraces = [];
  
  for(var p=0; p<nPaths; p++){
    var rng = mulberry32(42+p*17);
    var prices = [S0], days = [0];
    var S = S0;
    for(var d=1; d<=nDays; d++){
      var Z = boxMuller(rng);
      S = S * Math.exp((mu-0.5*sig*sig)*dt + sig*Math.sqrt(dt)*Z);
      prices.push(Math.round(S));
      days.push(d);
    }
    gbmTraces.push({
      x:days, y:prices, mode:'lines', name:'ê²½ë¡œ '+(p+1)+' (ìµœì¢…: â‚©'+prices[nDays].toLocaleString()+')',
      line:{color:colors[p], width:1.5}, opacity:0.8
    });
  }
  
  gbmTraces.push({
    x:[0,252], y:[S0,S0], mode:'lines', name:'ì´ˆê¸°ê°€ê²© â‚©70,000',
    line:{color:'black', width:2, dash:'dash'}, showlegend:true
  });
  
  Plotly.newPlot('plot-ch6-gbm', gbmTraces, {
    title:{text:'GBM ì‹œë®¬ë ˆì´ì…˜: ì‚¼ì„±ì „ì 1ë…„ ì£¼ê°€ ê²½ë¡œ (Î¼=10%, Ïƒ=30%)', font:{size:14}},
    xaxis:{title:'ê±°ë˜ì¼'},
    yaxis:{title:'ì£¼ê°€ (ì›)', tickformat:','},
    legend:{x:0.01, y:0.99, font:{size:10}},
    margin:{l:80, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)'
  }, {responsive:true});
})();
</script>
<table>
<tr><th>ë¶„í¬</th><th>íŒŒë¼ë¯¸í„°</th><th>íŠ¹ì§•</th><th>ê¸ˆìœµ í™œìš©</th></tr>
<tr><td>ì •ê·œë¶„í¬</td><td>Î¼, Ïƒ</td><td>ì¢… ëª¨ì–‘, ëŒ€ì¹­</td><td>ìˆ˜ìµë¥  ëª¨ë¸ë§ (ê¸°ë³¸ ê°€ì •)</td></tr>
<tr><td>ë¡œê·¸ì •ê·œë¶„í¬</td><td>Î¼, Ïƒ</td><td>ì–‘ìˆ˜ë§Œ, ìš°í¸í–¥</td><td>ì£¼ê°€ ëª¨ë¸ë§ (GBM)</td></tr>
<tr><td>t-ë¶„í¬</td><td>Î¼, Ïƒ, Î½(ììœ ë„)</td><td>íŒ»í…Œì¼</td><td>VaR ê³„ì‚°, ë¡œë²„ìŠ¤íŠ¸ ì¶”ì •</td></tr>
<tr><td>ê· ì¼ë¶„í¬</td><td>a, b</td><td>ëª¨ë“  ê°’ ë™ì¼ í™•ë¥ </td><td>ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜</td></tr>
<tr><td>í¬ì•„ì†¡ë¶„í¬</td><td>Î»</td><td>ì´ì‚°, ì‚¬ê±´ íšŸìˆ˜</td><td>ì£¼ë¬¸ ë„ì°© ëª¨ë¸ë§ (HFT)</td></tr>
<tr><td>ì§€ìˆ˜ë¶„í¬</td><td>Î»</td><td>ëŒ€ê¸° ì‹œê°„</td><td>ì£¼ë¬¸ ê°„ ì‹œê°„ ê°„ê²© (HFT)</td></tr>
</table>

<!-- â”€â”€ ë³´ì¶© 6.5+ t-ë¶„í¬ ì‹¬í™” ì½”ë“œ â”€â”€ -->
<h3>6.6 t-ë¶„í¬ ì‹¬í™” â€” íŒ»í…Œì¼ì„ ìˆ˜í•™ì ìœ¼ë¡œ ë‹¤ë£¨ê¸°</h3>
<p>t-ë¶„í¬ëŠ” ì •ê·œë¶„í¬ì™€ ë¹„ìŠ·í•˜ê²Œ ìƒê²¼ì§€ë§Œ ê¼¬ë¦¬ê°€ ë” ë‘ê»ë‹¤. ììœ ë„(Î½, degrees of freedom) íŒŒë¼ë¯¸í„°ê°€ ê¼¬ë¦¬ì˜ ë‘ê»˜ë¥¼ ê²°ì •í•œë‹¤. Î½ê°€ ì‘ì„ìˆ˜ë¡ ê¼¬ë¦¬ê°€ ë‘ê»ê³ , Î½ â†’ âˆì´ë©´ ì •ê·œë¶„í¬ì™€ ê°™ì•„ì§„ë‹¤.</p>

<p>ì™œ t-ë¶„í¬ê°€ ê¸ˆìœµì—ì„œ ì¤‘ìš”í•œê°€? ì‹¤ì œ ìˆ˜ìµë¥  ë°ì´í„°ì— ì •ê·œë¶„í¬ë¥¼ ì”Œìš°ë©´ ê·¹ë‹¨ì  ì†ì‹¤ì˜ í™•ë¥ ì„ ê³¼ì†Œí‰ê°€í•œë‹¤. t-ë¶„í¬ë¥¼ ì‚¬ìš©í•˜ë©´ íŒ»í…Œì¼ì„ ë°˜ì˜í•˜ì—¬ ë” ë³´ìˆ˜ì ì¸(ì•ˆì „í•œ) ë¦¬ìŠ¤í¬ ì¶”ì •ì´ ê°€ëŠ¥í•˜ë‹¤.</p>

<pre><code><span class="kw">from</span> scipy <span class="kw">import</span> stats

<span class="cm"># ì •ê·œë¶„í¬ vs t-ë¶„í¬ ë¹„êµ</span>
x = np.linspace(-<span class="nu">5</span>, <span class="nu">5</span>, <span class="nu">300</span>)

fig, (ax1, ax2) = plt.subplots(<span class="nu">1</span>, <span class="nu">2</span>, figsize=(<span class="nu">14</span>, <span class="nu">5</span>))

<span class="cm"># (a) PDF ë¹„êµ: ê¼¬ë¦¬ ë¶€ë¶„ì— ì£¼ëª©</span>
ax1.plot(x, stats.norm.pdf(x), <span class="st">'b-'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'ì •ê·œë¶„í¬'</span>)
ax1.plot(x, stats.t.pdf(x, df=<span class="nu">3</span>), <span class="st">'r--'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'t-ë¶„í¬ (Î½=3)'</span>)
ax1.plot(x, stats.t.pdf(x, df=<span class="nu">5</span>), <span class="st">'g-.'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'t-ë¶„í¬ (Î½=5)'</span>)
ax1.plot(x, stats.t.pdf(x, df=<span class="nu">30</span>), <span class="st">'m:'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'t-ë¶„í¬ (Î½=30)'</span>)
ax1.set_title(<span class="st">"ì •ê·œë¶„í¬ vs t-ë¶„í¬ (ì „ì²´)"</span>)
ax1.legend(); ax1.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)

<span class="cm"># (b) ê¼¬ë¦¬ ë¶€ë¶„ í™•ëŒ€ â€” ì°¨ì´ê°€ ê·¹ì ìœ¼ë¡œ ë³´ì¸ë‹¤</span>
x_tail = np.linspace(<span class="nu">3</span>, <span class="nu">6</span>, <span class="nu">100</span>)
ax2.plot(x_tail, stats.norm.pdf(x_tail), <span class="st">'b-'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'ì •ê·œë¶„í¬'</span>)
ax2.plot(x_tail, stats.t.pdf(x_tail, df=<span class="nu">3</span>), <span class="st">'r--'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'t-ë¶„í¬ (Î½=3)'</span>)
ax2.plot(x_tail, stats.t.pdf(x_tail, df=<span class="nu">5</span>), <span class="st">'g-.'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'t-ë¶„í¬ (Î½=5)'</span>)
ax2.set_title(<span class="st">"ê¼¬ë¦¬ ë¶€ë¶„ í™•ëŒ€ (3Ïƒ~6Ïƒ)"</span>)
ax2.legend(); ax2.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
ax2.set_yscale(<span class="st">'log'</span>)  <span class="cm"># ë¡œê·¸ ìŠ¤ì¼€ì¼ë¡œ ì°¨ì´ë¥¼ ëª…í™•íˆ</span>

plt.tight_layout()
plt.show()

<span class="cm"># VaR ë¹„êµ: ì •ê·œë¶„í¬ vs t-ë¶„í¬</span>
<span class="fn">print</span>(<span class="st">"=== 99% VaR ë¹„êµ (Ïƒ=1 ê¸°ì¤€) ==="</span>)
<span class="fn">print</span>(<span class="st">f"ì •ê·œë¶„í¬:     </span>{stats.norm.ppf(0.01):.3f}<span class="st">Ïƒ"</span>)
<span class="fn">print</span>(<span class="st">f"t-ë¶„í¬(Î½=5): </span>{stats.t.ppf(0.01, df=5):.3f}<span class="st">Ïƒ"</span>)
<span class="fn">print</span>(<span class="st">f"t-ë¶„í¬(Î½=3): </span>{stats.t.ppf(0.01, df=3):.3f}<span class="st">Ïƒ"</span>)
<span class="fn">print</span>(<span class="st">f"\nâ†’ t-ë¶„í¬(Î½=3)ì˜ 99% VaRì´ ì •ê·œë¶„í¬ë³´ë‹¤ ì•½ 1.3ë°° í¬ë‹¤!"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì •ê·œë¶„í¬ë¥¼ ì“°ë©´ ìœ„í—˜ì„ ê³¼ì†Œí‰ê°€í•˜ê²Œ ëœë‹¤."</span>)</code></pre>

<div class="warn">
<p class="ni"><strong>ì‹¤ì „ íŒ:</strong> ì‹¤ì œ ê¸ˆìœµ ìˆ˜ìµë¥ ì˜ ììœ ë„ë¥¼ ì¶”ì •í•˜ë©´ ë³´í†µ Î½ = 3~8 ì •ë„ê°€ ë‚˜ì˜¨ë‹¤. ì´ê²ƒì€ ì •ê·œë¶„í¬(Î½=âˆ)ì™€ ìƒë‹¹íˆ ë‹¤ë¥´ë‹¤. ë§ì€ í€€íŠ¸ í€ë“œì—ì„œ VaR ê³„ì‚° ì‹œ t-ë¶„í¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì—­ì‚¬ì  ì‹œë®¬ë ˆì´ì…˜(ë¶„í¬ ê°€ì • ì—†ì´ ì‹¤ì œ ë°ì´í„° ì‚¬ìš©)ì„ ë³‘í–‰í•œë‹¤.</p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch7: ê³µë¶„ì‚°ê³¼ ìƒê´€ê³„ìˆ˜ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch7">7. ê³µë¶„ì‚°ê³¼ ìƒê´€ê³„ìˆ˜</h2>

<!-- ìƒê´€ê´€ê³„ ì‹œê°ì  ë‹¤ì´ì–´ê·¸ë¨ (CSS) -->
<div style="margin:25px 0;padding:25px;background:linear-gradient(135deg,#f8f9fa,#f0f4f8);border-radius:10px;border:1px solid #ccc">
<p class="ni" style="text-align:center;font-weight:bold;font-size:15px;margin-bottom:18px;color:#2c3e50">ğŸ”— ìƒê´€ê´€ê³„ì˜ ì„¸ ê°€ì§€ ìœ í˜•</p>
<div style="display:flex;justify-content:center;gap:20px;flex-wrap:wrap;font-size:12px">
<div style="text-align:center;min-width:160px">
<div style="width:130px;height:100px;margin:0 auto;position:relative;background:#fff;border:1px solid #ddd;border-radius:6px;overflow:hidden">
<div style="position:absolute;bottom:10px;left:10px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:25px;left:25px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:40px;left:40px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:55px;left:55px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:65px;left:70px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:75px;left:85px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:85px;left:100px;width:4px;height:4px;background:#3498db;border-radius:50%"></div>
<div style="position:absolute;bottom:5px;left:5px;width:110px;height:1px;background:#3498db;transform:rotate(-40deg);transform-origin:left bottom;opacity:0.4"></div>
</div>
<div style="font-weight:bold;color:#3498db;margin-top:8px">ì–‘ì˜ ìƒê´€ (Ï â‰ˆ +0.8)</div>
<div style="color:#555;font-size:11px">ì‚¼ì„±ì „ì â†‘ â†’ SKí•˜ì´ë‹‰ìŠ¤ â†‘</div>
<div style="color:#888;font-size:11px">ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì„</div>
</div>
<div style="text-align:center;min-width:160px">
<div style="width:130px;height:100px;margin:0 auto;position:relative;background:#fff;border:1px solid #ddd;border-radius:6px;overflow:hidden">
<div style="position:absolute;bottom:80px;left:10px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:70px;left:25px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:55px;left:45px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:40px;left:60px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:25px;left:75px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:15px;left:90px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:10px;left:105px;width:4px;height:4px;background:#e74c3c;border-radius:50%"></div>
<div style="position:absolute;bottom:85px;left:5px;width:110px;height:1px;background:#e74c3c;transform:rotate(40deg);transform-origin:left top;opacity:0.4"></div>
</div>
<div style="font-weight:bold;color:#e74c3c;margin-top:8px">ìŒì˜ ìƒê´€ (Ï â‰ˆ -0.5)</div>
<div style="color:#555;font-size:11px">ì£¼ì‹ â†‘ â†’ ì±„ê¶Œ â†“</div>
<div style="color:#888;font-size:11px">ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì„</div>
</div>
<div style="text-align:center;min-width:160px">
<div style="width:130px;height:100px;margin:0 auto;position:relative;background:#fff;border:1px solid #ddd;border-radius:6px;overflow:hidden">
<div style="position:absolute;bottom:30px;left:15px;width:4px;height:4px;background:#888;border-radius:50%"></div>
<div style="position:absolute;bottom:60px;left:25px;width:4px;height:4px;background:#888;border-radius:50%"></div>
<div style="position:absolute;bottom:45px;left:45px;width:4px;height:4px;background:#888;border-radius:50%"></div>
<div style="position:absolute;bottom:70px;left:55px;width:4px;height:4px;background:#888;border-radius:50%"></div>
<div style="position:absolute;bottom:20px;left:70px;width:4px;height:4px;background:#888;border-radius:50%"></div>
<div style="position:absolute;bottom:55px;left:85px;width:4px;height:4px;background:#888;border-radius:50%"></div>
<div style="position:absolute;bottom:35px;left:100px;width:4px;height:4px;background:#888;border-radius:50%"></div>
</div>
<div style="font-weight:bold;color:#888;margin-top:8px">ë¬´ìƒê´€ (Ï â‰ˆ 0)</div>
<div style="color:#555;font-size:11px">ì£¼ì‹ â†‘ â†’ ì›ìì¬ ???</div>
<div style="color:#888;font-size:11px">ê´€ê³„ ì—†ì´ ê°ì ì›€ì§ì„</div>
</div>
</div>
<div style="margin-top:15px;text-align:center;font-size:12px;color:#555;background:#fff;padding:8px;border-radius:6px">
ğŸ’¡ <strong>í¬íŠ¸í´ë¦¬ì˜¤ í•µì‹¬:</strong> ìŒì˜ ìƒê´€ ìì‚°ì„ ì„ìœ¼ë©´ â†’ ë¶„ì‚° íš¨ê³¼ ê·¹ëŒ€í™” â†’ ìœ„í—˜ ê°ì†Œ!
</div>
</div>

<h3>7.1 ê³µë¶„ì‚°ì´ë€? â€” "ê°™ì´ ì›€ì§ì´ëŠ” ì •ë„"</h3>
<p>ê³µë¶„ì‚°(covariance)ì€ ë‘ ë³€ìˆ˜ê°€ í•¨ê»˜ ì›€ì§ì´ëŠ” ì •ë„ë¥¼ ì¸¡ì •í•œë‹¤. ì‚¼ì„±ì „ìê°€ ì˜¤ë¥¼ ë•Œ SKí•˜ì´ë‹‰ìŠ¤ë„ ê°™ì´ ì˜¤ë¥´ëŠ” ê²½í–¥ì´ ìˆë‹¤ë©´, ë‘ ì¢…ëª©ì˜ ê³µë¶„ì‚°ì€ ì–‘ìˆ˜ë‹¤. ì‚¼ì„±ì „ìê°€ ì˜¤ë¥¼ ë•Œ ê¸ˆ ê°€ê²©ì´ ë‚´ë¦¬ëŠ” ê²½í–¥ì´ ìˆë‹¤ë©´, ê³µë¶„ì‚°ì€ ìŒìˆ˜ë‹¤.</p>

<p>ë¹„ìœ ë¥¼ ë“¤ì–´ë³´ì. ë‘ ì‚¬ëŒì´ ê°™ì´ ê±·ëŠ”ë‹¤ê³  í•˜ì. í•œ ì‚¬ëŒì´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ë©´ ë‹¤ë¥¸ ì‚¬ëŒë„ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ë©´ ì–‘ì˜ ê³µë¶„ì‚°, ë°˜ëŒ€ë¡œ ê°€ë©´ ìŒì˜ ê³µë¶„ì‚°, ì•„ë¬´ ê´€ê³„ ì—†ì´ ê°ì ê±¸ìœ¼ë©´ ê³µë¶„ì‚°ì´ 0ì— ê°€ê¹ë‹¤.</p>

<div class="eq">\[ \text{Cov}(X, Y) = \frac{1}{n-1}\sum_{i=1}^{n}(X_i - \bar{X})(Y_i - \bar{Y}) \]</div>

<p>ì´ ê³µì‹ì˜ ì§ê´€: ê° ë°ì´í„° í¬ì¸íŠ¸ì—ì„œ Xê°€ í‰ê· ë³´ë‹¤ ë†’ì„ ë•Œ Yë„ í‰ê· ë³´ë‹¤ ë†’ìœ¼ë©´ ì–‘ìˆ˜ ê¸°ì—¬, Xê°€ ë†’ì„ ë•Œ Yê°€ ë‚®ìœ¼ë©´ ìŒìˆ˜ ê¸°ì—¬. ì´ê²ƒì„ ì „ë¶€ ë”í•œ ê²ƒì´ ê³µë¶„ì‚°ì´ë‹¤.</p>

<pre><code><span class="cm"># ê³µë¶„ì‚° ì§ì ‘ ê³„ì‚°í•´ë³´ê¸°</span>
np.random.seed(<span class="nu">42</span>)

<span class="cm"># ì–‘ì˜ ìƒê´€: ì‚¼ì„± ì˜¤ë¥´ë©´ SKë„ ì˜¤ë¥´ëŠ” ê²½í–¥</span>
samsung = np.random.normal(<span class="nu">0.05</span>, <span class="nu">2.0</span>, <span class="nu">252</span>)
sk = <span class="nu">0.7</span> * samsung + np.random.normal(<span class="nu">0</span>, <span class="nu">1.5</span>, <span class="nu">252</span>)

<span class="cm"># ìˆ˜ë™ ê³„ì‚°</span>
mean_s = samsung.mean()
mean_sk = sk.mean()
cov_manual = np.sum((samsung - mean_s) * (sk - mean_sk)) / (<span class="fn">len</span>(samsung) - <span class="nu">1</span>)
<span class="fn">print</span>(<span class="st">f"ìˆ˜ë™ ê³„ì‚° ê³µë¶„ì‚°: </span>{cov_manual:.4f}<span class="st">"</span>)

<span class="cm"># NumPy ê³„ì‚°</span>
cov_numpy = np.cov(samsung, sk)[<span class="nu">0</span>, <span class="nu">1</span>]
<span class="fn">print</span>(<span class="st">f"NumPy ê³µë¶„ì‚°:    </span>{cov_numpy:.4f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì–‘ìˆ˜ = ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì´ëŠ” ê²½í–¥!"</span>)</code></pre>

<h3>7.2 ìƒê´€ê³„ìˆ˜ â€” ê³µë¶„ì‚°ì˜ í‘œì¤€í™”</h3>
<p>ê³µë¶„ì‚°ì˜ ë¬¸ì œì : ë‹¨ìœ„ì— ì˜ì¡´í•œë‹¤. ìˆ˜ìµë¥ (%)ë¡œ ê³„ì‚°í•œ ê³µë¶„ì‚°ê³¼ ê°€ê²©(ì›)ìœ¼ë¡œ ê³„ì‚°í•œ ê³µë¶„ì‚°ì€ í¬ê¸°ê°€ ì™„ì „íˆ ë‹¤ë¥´ë‹¤. ë¹„êµê°€ ì–´ë µë‹¤.</p>

<p>ì´ ë¬¸ì œë¥¼ í•´ê²°í•œ ê²ƒì´ ìƒê´€ê³„ìˆ˜(correlation coefficient)ë‹¤. ê³µë¶„ì‚°ì„ ê° ë³€ìˆ˜ì˜ í‘œì¤€í¸ì°¨ë¡œ ë‚˜ëˆ„ì–´ -1ì—ì„œ 1 ì‚¬ì´ë¡œ í‘œì¤€í™”í•œ ê²ƒì´ë‹¤.</p>

<div class="eq">\[ \rho_{XY} = \frac{\text{Cov}(X, Y)}{\sigma_X \cdot \sigma_Y} \quad (-1 \leq \rho \leq 1) \]</div>

<pre><code><span class="cm"># ìƒê´€ê³„ìˆ˜ ê³„ì‚°</span>
corr_manual = cov_numpy / (samsung.std(ddof=<span class="nu">1</span>) * sk.std(ddof=<span class="nu">1</span>))
corr_numpy = np.corrcoef(samsung, sk)[<span class="nu">0</span>, <span class="nu">1</span>]

<span class="fn">print</span>(<span class="st">f"ìˆ˜ë™ ê³„ì‚°: </span>{corr_manual:.4f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"NumPy:    </span>{corr_numpy:.4f}<span class="st">"</span>)

<span class="cm"># ì‹œê°í™”: ì‚°ì ë„ë¡œ ìƒê´€ê´€ê³„ í™•ì¸</span>
fig, axes = plt.subplots(<span class="nu">1</span>, <span class="nu">3</span>, figsize=(<span class="nu">15</span>, <span class="nu">4</span>))

<span class="cm"># ì–‘ì˜ ìƒê´€</span>
axes[<span class="nu">0</span>].scatter(samsung, sk, s=<span class="nu">10</span>, alpha=<span class="nu">0.5</span>, color=<span class="st">'steelblue'</span>)
axes[<span class="nu">0</span>].set_title(<span class="st">f"Positive Corr (Ï={corr_numpy:.2f})"</span>)
axes[<span class="nu">0</span>].set_xlabel(<span class="st">"Samsung Return"</span>)
axes[<span class="nu">0</span>].set_ylabel(<span class="st">"SK Return"</span>)

<span class="cm"># ìŒì˜ ìƒê´€: ì£¼ì‹ vs ì±„ê¶Œ</span>
bond = -<span class="nu">0.3</span> * samsung + np.random.normal(<span class="nu">0</span>, <span class="nu">1.0</span>, <span class="nu">252</span>)
corr_neg = np.corrcoef(samsung, bond)[<span class="nu">0</span>, <span class="nu">1</span>]
axes[<span class="nu">1</span>].scatter(samsung, bond, s=<span class="nu">10</span>, alpha=<span class="nu">0.5</span>, color=<span class="st">'coral'</span>)
axes[<span class="nu">1</span>].set_title(<span class="st">f"Negative Corr (Ï={corr_neg:.2f})"</span>)
axes[<span class="nu">1</span>].set_xlabel(<span class="st">"Samsung Return"</span>)
axes[<span class="nu">1</span>].set_ylabel(<span class="st">"Bond Return"</span>)

<span class="cm"># ë¬´ìƒê´€</span>
random_asset = np.random.normal(<span class="nu">0</span>, <span class="nu">1.5</span>, <span class="nu">252</span>)
corr_zero = np.corrcoef(samsung, random_asset)[<span class="nu">0</span>, <span class="nu">1</span>]
axes[<span class="nu">2</span>].scatter(samsung, random_asset, s=<span class="nu">10</span>, alpha=<span class="nu">0.5</span>, color=<span class="st">'gray'</span>)
axes[<span class="nu">2</span>].set_title(<span class="st">f"No Corr (Ï={corr_zero:.2f})"</span>)
axes[<span class="nu">2</span>].set_xlabel(<span class="st">"Samsung Return"</span>)
axes[<span class="nu">2</span>].set_ylabel(<span class="st">"Random Asset"</span>)

<span class="kw">for</span> ax <span class="kw">in</span> axes:
    ax.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
plt.tight_layout()
plt.show()</code></pre>

<div class="tc">Table 4. ìƒê´€ê³„ìˆ˜ í•´ì„ ê°€ì´ë“œ</div>
<table>
<tr><th>ë²”ìœ„</th><th>í•´ì„</th><th>ì˜ˆì‹œ</th><th>í¬íŠ¸í´ë¦¬ì˜¤ íš¨ê³¼</th></tr>
<tr><td>\(0.7 \leq \rho \leq 1\)</td><td>ê°•í•œ ì–‘ì˜ ìƒê´€</td><td>ì‚¼ì„±-SKí•˜ì´ë‹‰ìŠ¤</td><td>ë¶„ì‚° íš¨ê³¼ ì•½í•¨</td></tr>
<tr><td>\(0.3 \leq \rho < 0.7\)</td><td>ì¤‘ê°„ ì–‘ì˜ ìƒê´€</td><td>ì‚¼ì„±-NAVER</td><td>ì–´ëŠ ì •ë„ ë¶„ì‚° íš¨ê³¼</td></tr>
<tr><td>\(-0.3 < \rho < 0.3\)</td><td>ì•½í•œ ìƒê´€ / ë¬´ìƒê´€</td><td>ì£¼ì‹-ì›ìì¬</td><td>ì¢‹ì€ ë¶„ì‚° íš¨ê³¼</td></tr>
<tr><td>\(-0.7 \leq \rho \leq -0.3\)</td><td>ì¤‘ê°„ ìŒì˜ ìƒê´€</td><td>ì£¼ì‹-ì±„ê¶Œ</td><td>ê°•í•œ ë¶„ì‚° íš¨ê³¼</td></tr>
<tr><td>\(-1 \leq \rho < -0.7\)</td><td>ê°•í•œ ìŒì˜ ìƒê´€</td><td>ë¡±-ìˆ í¬ì§€ì…˜</td><td>í—¤ì§€ ê°€ëŠ¥</td></tr>
</table>

<h3>7.3 ê³µë¶„ì‚° í–‰ë ¬ â€” ëª¨ë“  ìŒì˜ ê³µë¶„ì‚°ì„ í•œ ë²ˆì—</h3>
<p>ì¢…ëª©ì´ mê°œ ìˆìœ¼ë©´ ê³µë¶„ì‚° ìŒì€ mÃ—mê°œë‹¤. ì´ê²ƒì„ í•˜ë‚˜ì˜ í–‰ë ¬ë¡œ ì •ë¦¬í•œ ê²ƒì´ ê³µë¶„ì‚° í–‰ë ¬ì´ë‹¤. ëŒ€ê°ì„ ì—ëŠ” ê° ì¢…ëª©ì˜ ë¶„ì‚°(ìê¸° ìì‹ ê³¼ì˜ ê³µë¶„ì‚°), ë¹„ëŒ€ê°ì„ ì—ëŠ” ì¢…ëª© ê°„ ê³µë¶„ì‚°ì´ ë“¤ì–´ê°„ë‹¤.</p>

<div class="eq">\[ \boldsymbol{\Sigma} = \begin{bmatrix} \sigma_1^2 & \text{Cov}(1,2) & \cdots & \text{Cov}(1,m) \\ \text{Cov}(2,1) & \sigma_2^2 & \cdots & \text{Cov}(2,m) \\ \vdots & \vdots & \ddots & \vdots \\ \text{Cov}(m,1) & \text{Cov}(m,2) & \cdots & \sigma_m^2 \end{bmatrix} \]</div>

<p>ê³µë¶„ì‚° í–‰ë ¬ì˜ ì¤‘ìš”í•œ ì„±ì§ˆ:</p>
<ul>
<li><strong>ëŒ€ì¹­:</strong> Cov(X,Y) = Cov(Y,X)ì´ë¯€ë¡œ \(\boldsymbol{\Sigma}^T = \boldsymbol{\Sigma}\)</li>
<li><strong>ì–‘ë°˜ì •ì¹˜:</strong> ëª¨ë“  ê³ ìœ ê°’ â‰¥ 0 (í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚°ì´ í•­ìƒ â‰¥ 0ì´ ë˜ë ¤ë©´)</li>
<li><strong>ëŒ€ê°ì„  = ë¶„ì‚°:</strong> \(\Sigma_{ii} = \sigma_i^2\)</li>
</ul>

<pre><code><span class="cm"># 4ì¢…ëª© ê³µë¶„ì‚° í–‰ë ¬ ê³„ì‚°</span>
np.random.seed(<span class="nu">42</span>)
n_days = <span class="nu">252</span>

<span class="cm"># ìƒê´€ê´€ê³„ê°€ ìˆëŠ” 4ì¢…ëª© ìˆ˜ìµë¥  ìƒì„±</span>
true_cov = np.array([
    [<span class="nu">4.0</span>, <span class="nu">2.0</span>, <span class="nu">1.0</span>, <span class="nu">0.5</span>],
    [<span class="nu">2.0</span>, <span class="nu">3.0</span>, <span class="nu">1.5</span>, <span class="nu">0.8</span>],
    [<span class="nu">1.0</span>, <span class="nu">1.5</span>, <span class="nu">5.0</span>, <span class="nu">0.3</span>],
    [<span class="nu">0.5</span>, <span class="nu">0.8</span>, <span class="nu">0.3</span>, <span class="nu">2.0</span>]
])

returns_4 = np.random.multivariate_normal(
    mean=[<span class="nu">0.05</span>, <span class="nu">0.03</span>, <span class="nu">0.04</span>, <span class="nu">0.02</span>],
    cov=true_cov,
    size=n_days
)
names_4 = [<span class="st">"Stock A"</span>, <span class="st">"Stock B"</span>, <span class="st">"Stock C"</span>, <span class="st">"Stock D"</span>]

<span class="cm"># í‘œë³¸ ê³µë¶„ì‚° í–‰ë ¬</span>
sample_cov = np.cov(returns_4.T)
sample_corr = np.corrcoef(returns_4.T)

<span class="fn">print</span>(<span class="st">"=== ê³µë¶„ì‚° í–‰ë ¬ ==="</span>)
<span class="fn">print</span>(np.round(sample_cov, <span class="nu">3</span>))

<span class="fn">print</span>(<span class="st">"\n=== ìƒê´€í–‰ë ¬ ==="</span>)
<span class="fn">print</span>(np.round(sample_corr, <span class="nu">3</span>))

<span class="fn">print</span>(<span class="st">"\nëŒ€ì¹­ í™•ì¸:"</span>, np.allclose(sample_cov, sample_cov.T))
<span class="fn">print</span>(<span class="st">"ì–‘ì •ì¹˜ í™•ì¸:"</span>, np.all(np.linalg.eigvals(sample_cov) > <span class="nu">0</span>))</code></pre>

<div class="ok">
<p class="ni"><strong>í•µì‹¬ ì •ë¦¬:</strong> ê³µë¶„ì‚° í–‰ë ¬ì€ í¬íŠ¸í´ë¦¬ì˜¤ ì´ë¡ ì˜ ì‹¬ì¥ì´ë‹¤. ì´ í–‰ë ¬ í•˜ë‚˜ë¡œ (1) í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° ê³„ì‚°, (2) ìµœì†Œë¶„ì‚° í¬íŠ¸í´ë¦¬ì˜¤ ë„ì¶œ, (3) íš¨ìœ¨ì  í”„ë¡ í‹°ì–´ ê·¸ë¦¬ê¸°, (4) PCAë¡œ íŒ©í„° ì¶”ì¶œì´ ëª¨ë‘ ê°€ëŠ¥í•˜ë‹¤. Round 8ì—ì„œ Convex Optimizationìœ¼ë¡œ ì´ í–‰ë ¬ì„ í™œìš©í•œ ìµœì  í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ êµ¬í•œë‹¤.</p>
</div>

<!-- â•â•â• Plotly: Ch.7 ìƒê´€ê³„ìˆ˜ë³„ ì‚°ì ë„ + í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± â•â•â• -->
<div id="plot-ch7-corr" style="width:100%;height:460px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ ë²”ë¡€ í´ë¦­ìœ¼ë¡œ ìƒê´€ê³„ìˆ˜ë³„ ì‚°ì ë„ on/off. Ïê°€ ìŒìˆ˜ì¼ìˆ˜ë¡ ì ë“¤ì´ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ í¼ì§‘ë‹ˆë‹¤.</p>

<div id="plot-ch7-diveff" style="width:100%;height:420px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ í˜¸ë²„ë¡œ ì •í™•í•œ ê°’ í™•ì¸. ìƒê´€ê³„ìˆ˜ê°€ ë‚®ì„ìˆ˜ë¡ í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„±ì´ ê°ì†Œí•©ë‹ˆë‹¤ (ë¶„ì‚° íš¨ê³¼!).</p>
<script>
(function(){
  // (1) ìƒê´€ê³„ìˆ˜ë³„ ì‚°ì ë„
  function mulberry32(a){return function(){a|=0;a=a+0x6D2B79F5|0;var t=Math.imul(a^a>>>15,1|a);t=t+Math.imul(t^t>>>7,61|t)^t;return((t^t>>>14)>>>0)/4294967296;}}
  function boxMuller(rng){var u=0,v=0;while(u===0)u=rng();while(v===0)v=rng();return Math.sqrt(-2*Math.log(u))*Math.cos(2*Math.PI*v);}
  
  var rhos = [0.9, 0.5, 0.0, -0.5, -0.9];
  var colors = ['#e74c3c','#f39c12','#888888','#3498db','#8e44ad'];
  var labels = ['Ï=+0.9 (ê°•í•œ ì–‘)','Ï=+0.5 (ì¤‘ê°„ ì–‘)','Ï=0 (ë¬´ìƒê´€)','Ï=-0.5 (ì¤‘ê°„ ìŒ)','Ï=-0.9 (ê°•í•œ ìŒ)'];
  var corrTraces = [];
  
  for(var r=0; r<rhos.length; r++){
    var rng = mulberry32(100+r*31);
    var xs=[], ys=[];
    for(var i=0;i<80;i++){
      var z1=boxMuller(rng), z2=boxMuller(rng);
      xs.push(z1);
      ys.push(rhos[r]*z1 + Math.sqrt(1-rhos[r]*rhos[r])*z2);
    }
    corrTraces.push({
      x:xs, y:ys, mode:'markers', name:labels[r],
      marker:{size:5, color:colors[r], opacity:0.7},
      visible: (r===0||r===2||r===4) ? true : 'legendonly'
    });
  }
  
  Plotly.newPlot('plot-ch7-corr', corrTraces, {
    title:{text:'ìƒê´€ê³„ìˆ˜(Ï)ì— ë”°ë¥¸ ì‚°ì ë„ íŒ¨í„´', font:{size:14}},
    xaxis:{title:'ì¢…ëª© A ìˆ˜ìµë¥ ', range:[-4,4]},
    yaxis:{title:'ì¢…ëª© B ìˆ˜ìµë¥ ', range:[-4,4], scaleanchor:'x'},
    legend:{x:0.01, y:0.99, font:{size:11}},
    margin:{l:60, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)'
  }, {responsive:true});
  
  // (2) ìƒê´€ê³„ìˆ˜ vs í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„±
  var rhoRange=[], portVols=[];
  var sigA=0.20, sigB=0.30, wA=0.5, wB=0.5;
  for(var rho=-100; rho<=100; rho++){
    var r = rho/100;
    rhoRange.push(r);
    var covAB = r*sigA*sigB;
    var pVar = wA*wA*sigA*sigA + wB*wB*sigB*sigB + 2*wA*wB*covAB;
    portVols.push(Math.sqrt(pVar)*100);
  }
  
  // ê°œë³„ ê°€ì¤‘í‰ê·  ë³€ë™ì„± (ìƒí•œì„ )
  var simpleAvg = (wA*sigA + wB*sigB)*100;
  
  Plotly.newPlot('plot-ch7-diveff', [
    {x:rhoRange, y:portVols, mode:'lines', name:'í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± (50:50)',
     line:{color:'#e74c3c', width:3}, fill:'tozeroy', fillcolor:'rgba(231,76,60,0.1)'},
    {x:[-1,1], y:[simpleAvg,simpleAvg], mode:'lines', name:'ë‹¨ìˆœ ê°€ì¤‘í‰ê·  ë³€ë™ì„± ('+simpleAvg.toFixed(1)+'%)',
     line:{color:'#3498db', width:2, dash:'dash'}},
    {x:[0], y:[Math.sqrt(wA*wA*sigA*sigA+wB*wB*sigB*sigB)*100], mode:'markers',
     name:'Ï=0ì¼ ë•Œ', marker:{size:12, color:'#27ae60', symbol:'star'}},
    {x:[-1], y:[Math.abs(wA*sigA-wB*sigB)*100], mode:'markers',
     name:'Ï=-1 (ì™„ë²½ í—¤ì§€)', marker:{size:12, color:'#8e44ad', symbol:'diamond'}}
  ], {
    title:{text:'ìƒê´€ê³„ìˆ˜(Ï) vs í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± â€” ë¶„ì‚° íˆ¬ìì˜ ìˆ˜í•™ì  ì¦ëª…', font:{size:14}},
    xaxis:{title:'ìƒê´€ê³„ìˆ˜ (Ï)', range:[-1.05,1.05]},
    yaxis:{title:'í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± (%)', range:[0,28]},
    legend:{x:0.5, y:0.95, font:{size:11}},
    margin:{l:60, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)',
    annotations:[{x:0.5,y:simpleAvg+1,text:'â†‘ ë¶„ì‚° íš¨ê³¼ ì—†ìŒ (Ï=1)',showarrow:false,font:{size:10,color:'#3498db'}},
                 {x:-0.5,y:10,text:'ë¶„ì‚° íš¨ê³¼ â†“',showarrow:true,ax:0,ay:-30,font:{size:11,color:'#e74c3c'}}]
  }, {responsive:true});
})();
</script>

<!-- â”€â”€ ë³´ì¶© 7.3+ ê³µë¶„ì‚° í–‰ë ¬ â†’ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚° step-by-step â”€â”€ -->
<div class="def">
<p class="ni"><strong>ğŸ” ë³´ì¶©: ê³µë¶„ì‚° í–‰ë ¬ â†’ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚°, ì‘ì€ ìˆ«ìë¡œ í•œ ê±¸ìŒì”©</strong></p>
<p class="ni">ê³µì‹ \(\sigma_p^2 = \mathbf{w}^T \boldsymbol{\Sigma} \mathbf{w}\)ê°€ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ê³„ì‚°ë˜ëŠ”ì§€, 2ì¢…ëª© ì˜ˆì œë¡œ í•œ ë‹¨ê³„ì”© í’€ì–´ë³´ì.</p>
</div>

<pre><code><span class="cm"># 2ì¢…ëª© í¬íŠ¸í´ë¦¬ì˜¤: ì‚¼ì„±(60%), SK(40%)</span>
<span class="cm"># ì‚¼ì„± ì—°ê°„ ë³€ë™ì„± = 20%, SK ì—°ê°„ ë³€ë™ì„± = 30%</span>
<span class="cm"># ìƒê´€ê³„ìˆ˜ Ï = 0.6</span>

w = np.array([<span class="nu">0.6</span>, <span class="nu">0.4</span>])  <span class="cm"># ë¹„ì¤‘ ë²¡í„°</span>

<span class="cm"># ê³µë¶„ì‚° í–‰ë ¬ êµ¬ì„±</span>
<span class="cm"># Î£[0,0] = Ïƒ_ì‚¼ì„±Â² = 0.20Â² = 0.04</span>
<span class="cm"># Î£[1,1] = Ïƒ_SKÂ² = 0.30Â² = 0.09</span>
<span class="cm"># Î£[0,1] = Î£[1,0] = Ï Ã— Ïƒ_ì‚¼ì„± Ã— Ïƒ_SK = 0.6 Ã— 0.20 Ã— 0.30 = 0.036</span>
Sigma = np.array([
    [<span class="nu">0.04</span>,  <span class="nu">0.036</span>],
    [<span class="nu">0.036</span>, <span class="nu">0.09</span>]
])

<span class="cm"># Step 1: Î£ @ w (ê³µë¶„ì‚° í–‰ë ¬ Ã— ë¹„ì¤‘)</span>
step1 = Sigma @ w
<span class="fn">print</span>(<span class="st">"Step 1: Î£ @ w ="</span>, step1)
<span class="cm"># [0.04Ã—0.6 + 0.036Ã—0.4, 0.036Ã—0.6 + 0.09Ã—0.4]</span>
<span class="cm"># = [0.024 + 0.0144, 0.0216 + 0.036]</span>
<span class="cm"># = [0.0384, 0.0576]</span>
<span class="cm"># ì˜ë¯¸: ê° ì¢…ëª©ì´ í¬íŠ¸í´ë¦¬ì˜¤ ìœ„í—˜ì— ê¸°ì—¬í•˜ëŠ” ì •ë„</span>

<span class="cm"># Step 2: w^T @ (Î£ @ w) = í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì‚°</span>
port_var = w @ step1
<span class="fn">print</span>(<span class="st">f"Step 2: w^T @ (Î£@w) = </span>{port_var:.6f}<span class="st">"</span>)
<span class="cm"># = 0.6Ã—0.0384 + 0.4Ã—0.0576 = 0.02304 + 0.02304 = 0.04608</span>

port_vol = np.sqrt(port_var)
<span class="fn">print</span>(<span class="st">f"\ní¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± = âˆš{port_var:.5f} = </span>{port_vol*100:.2f}<span class="st">%"</span>)

<span class="cm"># ë¹„êµ: ë‹¨ìˆœ ê°€ì¤‘ í‰ê·  ë³€ë™ì„±</span>
simple_avg = <span class="nu">0.6</span> * <span class="nu">0.20</span> + <span class="nu">0.4</span> * <span class="nu">0.30</span>
<span class="fn">print</span>(<span class="st">f"ë‹¨ìˆœ ê°€ì¤‘ í‰ê·  ë³€ë™ì„± = </span>{simple_avg*100:.2f}<span class="st">%"</span>)
<span class="fn">print</span>(<span class="st">f"ë¶„ì‚° íš¨ê³¼ = </span>{(simple_avg - port_vol)*100:.2f}<span class="st">%p ê°ì†Œ!"</span>)
<span class="fn">print</span>(<span class="st">f"\nâ†’ ìƒê´€ê³„ìˆ˜ê°€ 1ë³´ë‹¤ ì‘ê¸°ë§Œ í•˜ë©´ ë¶„ì‚° íš¨ê³¼ê°€ ë°œìƒí•œë‹¤."</span>)
<span class="fn">print</span>(<span class="st">f"â†’ Ï=0.6ì´ë©´ </span>{(simple_avg - port_vol)*100:.2f}<span class="st">%p, Ï=0ì´ë©´ ë” í° íš¨ê³¼!"</span>)

<span class="cm"># ìƒê´€ê³„ìˆ˜ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± ë¹„êµ</span>
<span class="fn">print</span>(<span class="st">"\n=== ìƒê´€ê³„ìˆ˜ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„± ==="</span>)
<span class="kw">for</span> rho <span class="kw">in</span> [<span class="nu">1.0</span>, <span class="nu">0.6</span>, <span class="nu">0.3</span>, <span class="nu">0.0</span>, -<span class="nu">0.3</span>, -<span class="nu">0.6</span>, -<span class="nu">1.0</span>]:
    cov_val = rho * <span class="nu">0.20</span> * <span class="nu">0.30</span>
    S = np.array([[<span class="nu">0.04</span>, cov_val], [cov_val, <span class="nu">0.09</span>]])
    pv = np.sqrt(w @ S @ w)
    <span class="fn">print</span>(<span class="st">f"  Ï={rho:+.1f} â†’ ë³€ë™ì„±={pv*100:.2f}%"</span>)
<span class="fn">print</span>(<span class="st">"â†’ Ï=-1ì´ë©´ ë³€ë™ì„±ì„ 0%ê¹Œì§€ ì¤„ì¼ ìˆ˜ ìˆë‹¤ (ì™„ë²½í•œ í—¤ì§€)!"</span>)</code></pre>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch8: ë² ì´ì¦ˆ ì •ë¦¬ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch8">8. ë² ì´ì¦ˆ ì •ë¦¬</h2>

<!-- ë² ì´ì¦ˆ ì—…ë°ì´íŠ¸ í”Œë¡œìš°ì°¨íŠ¸ (CSS) -->
<div style="margin:25px 0;padding:25px;background:linear-gradient(135deg,#f8f9fa,#f5f0fa);border-radius:10px;border:1px solid #ccc">
<p class="ni" style="text-align:center;font-weight:bold;font-size:15px;margin-bottom:18px;color:#2c3e50">ğŸ”„ ë² ì´ì¦ˆ ì—…ë°ì´íŠ¸: ì‹œê·¸ë„ì´ ìŒ“ì¼ìˆ˜ë¡ í™•ì‹ ì´ ê°•í•´ì§„ë‹¤</p>
<div style="display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap;font-size:12px">
<div style="background:#fff;border:2px solid #8e44ad;border-radius:8px;padding:12px 16px;text-align:center;min-width:110px">
<div style="font-size:11px;color:#888;margin-bottom:4px">ì‚¬ì „í™•ë¥ </div>
<div style="font-size:22px;font-weight:bold;color:#8e44ad">52%</div>
<div style="font-size:11px;color:#555">P(ìƒìŠ¹)</div>
</div>
<div style="text-align:center">
<div style="font-size:18px;color:#e67e22">â†’</div>
<div style="font-size:10px;color:#e67e22;font-weight:bold">RSI&lt;30<br>ì‹œê·¸ë„</div>
</div>
<div style="background:#fff;border:2px solid #e67e22;border-radius:8px;padding:12px 16px;text-align:center;min-width:110px">
<div style="font-size:11px;color:#888;margin-bottom:4px">1ì°¨ ì—…ë°ì´íŠ¸</div>
<div style="font-size:22px;font-weight:bold;color:#e67e22">76%</div>
<div style="font-size:11px;color:#555">P(ìƒìŠ¹|RSI)</div>
</div>
<div style="text-align:center">
<div style="font-size:18px;color:#27ae60">â†’</div>
<div style="font-size:10px;color:#27ae60;font-weight:bold">ê±°ë˜ëŸ‰<br>ê¸‰ì¦</div>
</div>
<div style="background:#fff;border:2px solid #27ae60;border-radius:8px;padding:12px 16px;text-align:center;min-width:110px">
<div style="font-size:11px;color:#888;margin-bottom:4px">2ì°¨ ì—…ë°ì´íŠ¸</div>
<div style="font-size:22px;font-weight:bold;color:#27ae60">91%</div>
<div style="font-size:11px;color:#555">P(ìƒìŠ¹|RSI,Vol)</div>
</div>
<div style="text-align:center">
<div style="font-size:18px;color:#e74c3c">â†’</div>
<div style="font-size:10px;color:#e74c3c;font-weight:bold">MACD<br>ê³¨ë“ í¬ë¡œìŠ¤</div>
</div>
<div style="background:#fff;border:2px solid #e74c3c;border-radius:8px;padding:12px 16px;text-align:center;min-width:110px">
<div style="font-size:11px;color:#888;margin-bottom:4px">3ì°¨ ì—…ë°ì´íŠ¸</div>
<div style="font-size:22px;font-weight:bold;color:#e74c3c">96%</div>
<div style="font-size:11px;color:#555">P(ìƒìŠ¹|all)</div>
</div>
</div>
<div style="margin-top:15px;text-align:center;font-size:12px;color:#555;background:#fff;padding:8px;border-radius:6px">
ğŸ“Œ <strong>í•µì‹¬:</strong> ì‚¬í›„í™•ë¥ (posterior) = ë‹¤ìŒ ì‹œê·¸ë„ì˜ ì‚¬ì „í™•ë¥ (prior)ì´ ëœë‹¤ â†’ ìˆœì°¨ì  ì—…ë°ì´íŠ¸!
</div>
</div>

<h3>8.1 ì¡°ê±´ë¶€ í™•ë¥ : "~ì¼ ë•Œ ~í•  í™•ë¥ "</h3>
<p>ì¡°ê±´ë¶€ í™•ë¥ ì€ "ì–´ë–¤ ì‚¬ê±´ì´ ì´ë¯¸ ì¼ì–´ë‚¬ì„ ë•Œ, ë‹¤ë¥¸ ì‚¬ê±´ì´ ì¼ì–´ë‚  í™•ë¥ "ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ "ë¹„ê°€ ì˜¬ ë•Œ ìš°ì‚°ì„ ê°€ì ¸ì˜¬ í™•ë¥ "ì€ ì¡°ê±´ë¶€ í™•ë¥ ì´ë‹¤.</p>

<p>ê¸ˆìœµì—ì„œì˜ ì˜ˆ: "RSIê°€ 30 ì´í•˜ì¼ ë•Œ ë‹¤ìŒ ë‚  ì£¼ê°€ê°€ ì˜¤ë¥¼ í™•ë¥ ì€?" ì´ê²ƒì´ ì¡°ê±´ë¶€ í™•ë¥ ì´ë‹¤.</p>

<div class="eq">\[ P(A|B) = \frac{P(A \cap B)}{P(B)} \]</div>

<p>P(A|B)ëŠ” "Bê°€ ì¼ì–´ë‚¬ì„ ë•Œ Aê°€ ì¼ì–´ë‚  í™•ë¥ "ì´ë‹¤. ì„¸ë¡œ ë§‰ëŒ€(|)ëŠ” "~ê°€ ì£¼ì–´ì¡Œì„ ë•Œ"ë¡œ ì½ëŠ”ë‹¤.</p>

<h3>8.2 ë² ì´ì¦ˆ ì •ë¦¬: ë¯¿ìŒì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³µì‹</h3>
<p>ë² ì´ì¦ˆ ì •ë¦¬ëŠ” ìƒˆë¡œìš´ ì¦ê±°(ë°ì´í„°)ê°€ ì£¼ì–´ì¡Œì„ ë•Œ ê¸°ì¡´ì˜ ë¯¿ìŒ(ì‚¬ì „í™•ë¥ )ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ë²•ì´ë‹¤. í€€íŠ¸ íŠ¸ë ˆì´ë”©ì—ì„œ ì‹œì¥ ìƒíƒœë¥¼ ì¶”ì •í•˜ê±°ë‚˜, ì‹œê·¸ë„ì˜ ì •í™•ë„ë¥¼ í‰ê°€í•  ë•Œ í•µì‹¬ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.</p>

<!-- â”€â”€ ë³´ì¶© 8.1+ ë² ì´ì¦ˆ vs ë¹ˆë„ì£¼ì˜ ë¹„êµ â”€â”€ -->
<div class="info">
<p class="ni"><strong>ğŸ” ë³´ì¶©: ë² ì´ì¦ˆ vs ë¹ˆë„ì£¼ì˜ â€” ë‘ ê°€ì§€ ì„¸ê³„ê´€</strong></p>
<p class="ni">í†µê³„í•™ì—ëŠ” ë‘ ê°€ì§€ í° í•™íŒŒê°€ ìˆë‹¤. ì´ ì°¨ì´ë¥¼ ì´í•´í•˜ë©´ ë² ì´ì¦ˆ ì •ë¦¬ì˜ ì˜ë¯¸ê°€ ë” ê¹Šì–´ì§„ë‹¤.</p>
<p class="ni"><strong>ë¹ˆë„ì£¼ì˜ (Frequentist):</strong> "í™•ë¥  = ë°˜ë³µ ì‹¤í—˜ì—ì„œì˜ ë¹ˆë„". ë™ì „ì„ 1000ë²ˆ ë˜ì ¸ì„œ ì•ë©´ì´ 510ë²ˆ ë‚˜ì˜¤ë©´ P(ì•ë©´) â‰ˆ 0.51. ë°ì´í„°ë§Œ ë³´ê³  íŒë‹¨í•œë‹¤. ì‚¬ì „ ì§€ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>
<p class="ni"><strong>ë² ì´ì¦ˆì£¼ì˜ (Bayesian):</strong> "í™•ë¥  = ë¯¿ìŒì˜ ì •ë„". ë™ì „ì„ ë˜ì§€ê¸° ì „ì—ë„ "ê³µì •í•œ ë™ì „ì´ë©´ P(ì•ë©´) â‰ˆ 0.5ì¼ ê²ƒì´ë‹¤"ë¼ëŠ” ì‚¬ì „ ë¯¿ìŒì´ ìˆë‹¤. ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ë©´ ì´ ë¯¿ìŒì„ ì—…ë°ì´íŠ¸í•œë‹¤.</p>
<p class="ni">ê¸ˆìœµì—ì„œì˜ ì°¨ì´:</p>
<ul>
<li><strong>ë¹ˆë„ì£¼ì˜:</strong> "ê³¼ê±° 10ë…„ê°„ RSI&lt;30 í›„ ìƒìŠ¹ í™•ë¥ ì´ 65%ì˜€ë‹¤" â†’ ë¯¸ë˜ì—ë„ 65%ë¼ê³  ê°€ì •</li>
<li><strong>ë² ì´ì¦ˆì£¼ì˜:</strong> "RSI&lt;30 í›„ ìƒìŠ¹ í™•ë¥ ì´ 65%ë¼ëŠ” ì‚¬ì „ ë¯¿ìŒì´ ìˆë‹¤. ìµœê·¼ 3ê°œì›” ë°ì´í„°ë¥¼ ë³´ë‹ˆ 70%ì˜€ë‹¤. ì—…ë°ì´íŠ¸í•˜ë©´ ì•½ 67%ë‹¤" â†’ ìƒˆ ë°ì´í„°ì— ì ì‘</li>
</ul>
<p class="ni">HFTì—ì„œ ë² ì´ì¦ˆê°€ ê°•ë ¥í•œ ì´ìœ : ì‹œì¥ í™˜ê²½ì€ ê³„ì† ë³€í•œë‹¤. ë¹ˆë„ì£¼ì˜ëŠ” ê³¼ê±° ì „ì²´ë¥¼ ë™ì¼í•˜ê²Œ ì·¨ê¸‰í•˜ì§€ë§Œ, ë² ì´ì¦ˆëŠ” ìµœê·¼ ë°ì´í„°ì— ë” ê°€ì¤‘ì¹˜ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤. ì‹œì¥ ë ˆì§(ìƒìŠ¹ì¥/í•˜ë½ì¥/íš¡ë³´ì¥)ì´ ë°”ë€Œë©´ ì‚¬ì „í™•ë¥ ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ë¹ ë¥´ê²Œ ì ì‘í•  ìˆ˜ ìˆë‹¤.</p>
</div>

<div class="eq">\[ P(A|B) = \frac{P(B|A) \cdot P(A)}{P(B)} \]</div>

<p>ê° í•­ì˜ ì˜ë¯¸:</p>
<ul>
<li><strong>P(A):</strong> ì‚¬ì „í™•ë¥  (prior) â€” ë°ì´í„°ë¥¼ ë³´ê¸° ì „ì˜ ë¯¿ìŒ</li>
<li><strong>P(B|A):</strong> ìš°ë„ (likelihood) â€” Aê°€ ì°¸ì¼ ë•Œ Bê°€ ê´€ì¸¡ë  í™•ë¥ </li>
<li><strong>P(B):</strong> ì¦ê±° (evidence) â€” Bê°€ ê´€ì¸¡ë  ì „ì²´ í™•ë¥ </li>
<li><strong>P(A|B):</strong> ì‚¬í›„í™•ë¥  (posterior) â€” ë°ì´í„°ë¥¼ ë³¸ í›„ ì—…ë°ì´íŠ¸ëœ ë¯¿ìŒ</li>
</ul>

<h3>8.3 íŠ¸ë ˆì´ë”© ì‹œê·¸ë„ ì˜ˆì œ</h3>
<p>êµ¬ì²´ì ì¸ ì˜ˆë¥¼ ë“¤ì–´ë³´ì. RSI(Relative Strength Index)ê°€ 30 ì´í•˜ë¡œ ë–¨ì–´ì§€ë©´ "ê³¼ë§¤ë„" ì‹œê·¸ë„ì´ë‹¤. ì´ ì‹œê·¸ë„ì´ ì‹¤ì œë¡œ ì–¼ë§ˆë‚˜ ì •í™•í•œì§€ ë² ì´ì¦ˆ ì •ë¦¬ë¡œ ê³„ì‚°í•´ë³´ì.</p>

<pre><code><span class="cm"># ë² ì´ì¦ˆ ì •ë¦¬: RSI ê³¼ë§¤ë„ ì‹œê·¸ë„ì˜ ì •í™•ë„</span>
<span class="cm">#</span>
<span class="cm"># ì•Œë ¤ì§„ ì •ë³´:</span>
<span class="cm"># P(ìƒìŠ¹) = 0.52          â†’ ì „ì²´ ë‚  ì¤‘ 52%ê°€ ìƒìŠ¹ì¼</span>
<span class="cm"># P(RSI&lt;30 | ìƒìŠ¹) = 0.15 â†’ ìƒìŠ¹ì¼ ì¤‘ 15%ì—ì„œ RSI&lt;30</span>
<span class="cm"># P(RSI&lt;30 | í•˜ë½) = 0.05 â†’ í•˜ë½ì¼ ì¤‘ 5%ì—ì„œ RSI&lt;30</span>
<span class="cm">#</span>
<span class="cm"># êµ¬í•˜ê³  ì‹¶ì€ ê²ƒ:</span>
<span class="cm"># P(ìƒìŠ¹ | RSI&lt;30) = ?    â†’ RSI&lt;30ì¼ ë•Œ ìƒìŠ¹í•  í™•ë¥ </span>

p_up = <span class="nu">0.52</span>
p_down = <span class="nu">1</span> - p_up  <span class="cm"># 0.48</span>
p_rsi_given_up = <span class="nu">0.15</span>
p_rsi_given_down = <span class="nu">0.05</span>

<span class="cm"># P(RSI&lt;30) = P(RSI&lt;30|ìƒìŠ¹)Ã—P(ìƒìŠ¹) + P(RSI&lt;30|í•˜ë½)Ã—P(í•˜ë½)</span>
p_rsi = p_rsi_given_up * p_up + p_rsi_given_down * p_down
<span class="fn">print</span>(<span class="st">f"P(RSI&lt;30) = </span>{p_rsi:.4f}<span class="st">"</span>)  <span class="cm"># 0.102</span>

<span class="cm"># ë² ì´ì¦ˆ ì •ë¦¬ ì ìš©</span>
p_up_given_rsi = (p_rsi_given_up * p_up) / p_rsi
<span class="fn">print</span>(<span class="st">f"\nP(ìƒìŠ¹ | RSI&lt;30) = </span>{p_up_given_rsi:.1%}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"P(ìƒìŠ¹)          = </span>{p_up:.1%}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"\nâ†’ RSI&lt;30 ì‹œê·¸ë„ì´ ëœ¨ë©´ ìƒìŠ¹ í™•ë¥ ì´ 52%ì—ì„œ </span>{p_up_given_rsi:.1%}<span class="st">ë¡œ ìƒìŠ¹!"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì‹œê·¸ë„ì´ ìœ ìš©í•˜ë‹¤ëŠ” ì˜ë¯¸"</span>)</code></pre>

<div class="info">
<p class="ni"><strong>ë² ì´ì¦ˆ ì •ë¦¬ì˜ íŠ¸ë ˆì´ë”© í™œìš©:</strong></p>
<ul>
<li>ì—¬ëŸ¬ ì‹œê·¸ë„ì„ ìˆœì°¨ì ìœ¼ë¡œ ì ìš©í•˜ì—¬ í™•ë¥ ì„ ê³„ì† ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤</li>
<li>RSI + MACD + ê±°ë˜ëŸ‰ ì‹œê·¸ë„ì„ ê²°í•©í•˜ë©´ ë” ì •í™•í•œ ì˜ˆì¸¡ì´ ê°€ëŠ¥</li>
<li>MLAT Ch.10ì—ì„œ ë² ì´ì§€ì•ˆ MLì„ ë³¸ê²©ì ìœ¼ë¡œ ë‹¤ë£¬ë‹¤</li>
<li>HFTì—ì„œëŠ” ì£¼ë¬¸ íë¦„(order flow) ë°ì´í„°ë¥¼ ë² ì´ì¦ˆ ì—…ë°ì´íŠ¸ë¡œ ì‹¤ì‹œê°„ ë¶„ì„í•œë‹¤</li>
</ul>
</div>

<!-- â•â•â• Plotly: Ch.8 ë² ì´ì¦ˆ ìˆœì°¨ ì—…ë°ì´íŠ¸ ì‹œê°í™” â•â•â• -->
<div id="plot-ch8-bayes" style="width:100%;height:460px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ í˜¸ë²„ë¡œ ê° ë‹¨ê³„ì˜ í™•ë¥  í™•ì¸. ì‹œê·¸ë„ì´ ìŒ“ì¼ìˆ˜ë¡ ì‚¬í›„í™•ë¥ ì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</p>
<script>
(function(){
  // ë² ì´ì¦ˆ ìˆœì°¨ ì—…ë°ì´íŠ¸: ì‚¬ì „í™•ë¥  â†’ RSI â†’ ê±°ë˜ëŸ‰ â†’ MACD
  var prior = 0.52;
  
  // ì‹œê·¸ë„ 1: RSI < 30
  var p_rsi_up = 0.15, p_rsi_down = 0.05;
  var p_rsi = p_rsi_up*prior + p_rsi_down*(1-prior);
  var post1 = (p_rsi_up*prior)/p_rsi;
  
  // ì‹œê·¸ë„ 2: ê±°ë˜ëŸ‰ ê¸‰ì¦
  var p_vol_up = 0.30, p_vol_down = 0.10;
  var p_vol = p_vol_up*post1 + p_vol_down*(1-post1);
  var post2 = (p_vol_up*post1)/p_vol;
  
  // ì‹œê·¸ë„ 3: MACD ê³¨ë“ í¬ë¡œìŠ¤
  var p_macd_up = 0.25, p_macd_down = 0.08;
  var p_macd = p_macd_up*post2 + p_macd_down*(1-post2);
  var post3 = (p_macd_up*post2)/p_macd;
  
  var stages = ['ì‚¬ì „í™•ë¥ <br>(ê¸°ë³¸)', 'RSI < 30<br>ì‹œê·¸ë„ í›„', '+ ê±°ë˜ëŸ‰ ê¸‰ì¦<br>ì‹œê·¸ë„ í›„', '+ MACD ê³¨ë“ í¬ë¡œìŠ¤<br>ì‹œê·¸ë„ í›„'];
  var probs = [prior, post1, post2, post3];
  var probsPct = probs.map(function(p){return (p*100).toFixed(1);});
  var barColors = ['#95a5a6', '#3498db', '#e67e22', '#e74c3c'];
  
  Plotly.newPlot('plot-ch8-bayes', [
    {x: stages, y: probs.map(function(p){return p*100;}),
     type:'bar', marker:{color:barColors, line:{color:'#2c3e50', width:1.5}},
     text: probsPct.map(function(p){return p+'%';}),
     textposition:'outside', textfont:{size:16, color:'#2c3e50'},
     hovertemplate:'%{x}<br>P(ìƒìŠ¹) = %{y:.1f}%<extra></extra>'},
    // 50% ê¸°ì¤€ì„ 
    {x:[stages[0], stages[3]], y:[50,50], mode:'lines',
     line:{color:'#aaa', width:2, dash:'dash'}, name:'50% (ë™ì „ ë˜ì§€ê¸°)', showlegend:true}
  ], {
    title:{text:'ë² ì´ì¦ˆ ìˆœì°¨ ì—…ë°ì´íŠ¸: ì‹œê·¸ë„ì´ ìŒ“ì¼ìˆ˜ë¡ í™•ì‹  â†‘', font:{size:14}},
    yaxis:{title:'P(ìƒìŠ¹) %', range:[0,105]},
    xaxis:{title:''},
    showlegend:true, legend:{x:0.6, y:0.3, font:{size:11}},
    margin:{l:60, r:20, t:50, b:80},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)',
    annotations:[
      {x:stages[0], y:prior*100+6, text:'Prior', showarrow:false, font:{size:10, color:'#95a5a6'}},
      {x:stages[3], y:post3*100+6, text:'Posterior', showarrow:false, font:{size:10, color:'#e74c3c'}}
    ]
  }, {responsive:true});
})();
</script>

<h3>8.4 ë‹¤ì¤‘ ì‹œê·¸ë„ ê²°í•©</h3>
<pre><code><span class="cm"># ì‹œê·¸ë„ 2ê°œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì ìš©</span>
<span class="cm"># 1ë‹¨ê³„: RSI&lt;30 â†’ P(ìƒìŠ¹) ì—…ë°ì´íŠ¸</span>
prior = p_up  <span class="cm"># 0.52</span>
posterior_1 = p_up_given_rsi  <span class="cm"># ~76.5%</span>

<span class="cm"># 2ë‹¨ê³„: ê±°ë˜ëŸ‰ ê¸‰ì¦ ì‹œê·¸ë„ ì¶”ê°€</span>
<span class="cm"># P(ê±°ë˜ëŸ‰ê¸‰ì¦ | ìƒìŠ¹) = 0.30</span>
<span class="cm"># P(ê±°ë˜ëŸ‰ê¸‰ì¦ | í•˜ë½) = 0.10</span>
p_vol_given_up = <span class="nu">0.30</span>
p_vol_given_down = <span class="nu">0.10</span>

<span class="cm"># ì´ì „ ì‚¬í›„í™•ë¥ ì„ ìƒˆë¡œìš´ ì‚¬ì „í™•ë¥ ë¡œ ì‚¬ìš©</span>
p_vol = p_vol_given_up * posterior_1 + p_vol_given_down * (<span class="nu">1</span> - posterior_1)
posterior_2 = (p_vol_given_up * posterior_1) / p_vol

<span class="fn">print</span>(<span class="st">"=== ìˆœì°¨ì  ë² ì´ì¦ˆ ì—…ë°ì´íŠ¸ ==="</span>)
<span class="fn">print</span>(<span class="st">f"ì‚¬ì „í™•ë¥ :              </span>{prior:.1%}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"RSI&lt;30 í›„:            </span>{posterior_1:.1%}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"RSI&lt;30 + ê±°ë˜ëŸ‰ê¸‰ì¦ í›„: </span>{posterior_2:.1%}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"\nâ†’ ì‹œê·¸ë„ì´ ìŒ“ì¼ìˆ˜ë¡ í™•ì‹ ì´ ê°•í•´ì§„ë‹¤!"</span>)</code></pre>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch9: ë¯¸ì ë¶„ ì—ì„¼ìŠ¤ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch9">9. ë¯¸ì ë¶„ ì—ì„¼ìŠ¤ (ë”¥ëŸ¬ë‹ ì¤€ë¹„)</h2>

<!-- ê²½ì‚¬í•˜ê°•ë²• ê°œë… ë‹¤ì´ì–´ê·¸ë¨ (CSS) -->
<div style="margin:25px 0;padding:25px;background:linear-gradient(135deg,#f8f9fa,#f0f8f0);border-radius:10px;border:1px solid #ccc">
<p class="ni" style="text-align:center;font-weight:bold;font-size:15px;margin-bottom:18px;color:#2c3e50">â›°ï¸ ê²½ì‚¬í•˜ê°•ë²•: ì‚°ì—ì„œ ë‚´ë ¤ì˜¤ëŠ” ë°©ë²•</p>
<div style="display:flex;align-items:center;justify-content:center;gap:15px;flex-wrap:wrap;font-size:12px">
<div style="text-align:center;min-width:140px">
<div style="width:140px;height:90px;background:linear-gradient(180deg,#e74c3c 0%,#f39c12 30%,#f1c40f 50%,#2ecc71 80%,#27ae60 100%);border-radius:50% 50% 10px 10px;display:flex;align-items:flex-start;justify-content:center;padding-top:8px;position:relative">
<div style="color:white;font-weight:bold;font-size:11px">ë†’ì€ ì†ì‹¤</div>
<div style="position:absolute;bottom:8px;color:white;font-weight:bold;font-size:11px">ë‚®ì€ ì†ì‹¤ âœ“</div>
<div style="position:absolute;top:20px;left:30px;font-size:16px">ğŸƒ</div>
<div style="position:absolute;top:35px;left:55px;font-size:10px;color:white">â†˜</div>
<div style="position:absolute;top:50px;left:75px;font-size:10px;color:white">â†˜</div>
<div style="position:absolute;bottom:15px;left:85px;font-size:14px">ğŸ¯</div>
</div>
<div style="margin-top:6px;font-weight:bold;color:#2c3e50">ì†ì‹¤ í•¨ìˆ˜ì˜ ì§€í˜•</div>
</div>
<div style="min-width:200px;max-width:300px">
<div style="background:#fff;padding:12px;border-radius:6px;border:1px solid #ddd">
<div style="font-weight:bold;color:#2c3e50;margin-bottom:8px">ê²½ì‚¬í•˜ê°•ë²• 3ë‹¨ê³„:</div>
<div style="display:flex;align-items:center;gap:6px;margin-bottom:6px">
<div style="background:#3498db;color:#fff;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;flex-shrink:0">1</div>
<div style="color:#555">í˜„ì¬ ìœ„ì¹˜ì—ì„œ <strong>ê·¸ë˜ë””ì–¸íŠ¸</strong> ê³„ì‚°</div>
</div>
<div style="display:flex;align-items:center;gap:6px;margin-bottom:6px">
<div style="background:#e67e22;color:#fff;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;flex-shrink:0">2</div>
<div style="color:#555"><strong>ë°˜ëŒ€ ë°©í–¥</strong>ìœ¼ë¡œ ì´ë™ (-âˆ‡f)</div>
</div>
<div style="display:flex;align-items:center;gap:6px">
<div style="background:#27ae60;color:#fff;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;flex-shrink:0">3</div>
<div style="color:#555"><strong>í•™ìŠµë¥ (Î±)</strong>ë§Œí¼ ì´ë™ í›„ ë°˜ë³µ</div>
</div>
</div>
<div style="margin-top:8px;background:#fff9e6;padding:8px;border-radius:4px;font-size:11px;color:#555">
<strong>ë”¥ëŸ¬ë‹ ì—°ê²°:</strong> ì‹ ê²½ë§ì˜ ê°€ì¤‘ì¹˜ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •ì´ ë°”ë¡œ ê²½ì‚¬í•˜ê°•ë²•. ì†ì‹¤í•¨ìˆ˜ì˜ ìµœì†Ÿê°’ = ìµœì ì˜ ëª¨ë¸!
</div>
</div>
</div>
</div>

<h3>9.1 ë¯¸ë¶„ì´ë€? â€” "ë³€í™”ìœ¨"</h3>
<p>ë¯¸ë¶„ì€ "í•¨ìˆ˜ê°€ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê²Œ ë³€í•˜ëŠ”ê°€"ë¥¼ ì¸¡ì •í•œë‹¤. ìë™ì°¨ì˜ ì†ë„ê³„ë¥¼ ìƒê°í•˜ë©´ ëœë‹¤. ìœ„ì¹˜ê°€ ì‹œê°„ì— ë”°ë¼ ë³€í•˜ëŠ” í•¨ìˆ˜ë¼ë©´, ë¯¸ë¶„ì€ ê·¸ ìˆœê°„ì˜ ì†ë„ë‹¤.</p>

<p>ê¸ˆìœµì—ì„œ ë¯¸ë¶„ì˜ ì˜ë¯¸: ì£¼ê°€ê°€ ì‹œê°„ì— ë”°ë¼ ë³€í•˜ëŠ” í•¨ìˆ˜ë¼ë©´, ë¯¸ë¶„ì€ "ì§€ê¸ˆ ì´ ìˆœê°„ ì£¼ê°€ê°€ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê²Œ ì˜¤ë¥´ê³  ìˆëŠ”ê°€"ë‹¤. ì˜µì…˜ì˜ ë¸íƒ€(Î”)ê°€ ë°”ë¡œ ì˜µì…˜ ê°€ê²©ì„ ê¸°ì´ˆìì‚° ê°€ê²©ìœ¼ë¡œ ë¯¸ë¶„í•œ ê²ƒì´ë‹¤.</p>

<div class="eq">\[ f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \]</div>

<pre><code><span class="cm"># ë¯¸ë¶„ì˜ ì§ê´€: f(x) = x^2ì˜ ë¯¸ë¶„ì€ f'(x) = 2x</span>
<span class="cm"># x=3ì—ì„œì˜ ë¯¸ë¶„ê°’ = 6 â†’ "x=3ì—ì„œ xê°€ 1 ì¦ê°€í•˜ë©´ fëŠ” ì•½ 6 ì¦ê°€"</span>

<span class="kw">def</span> <span class="fn">f</span>(x):
    <span class="kw">return</span> x**<span class="nu">2</span>

<span class="cm"># ìˆ˜ì¹˜ ë¯¸ë¶„ (numerical differentiation)</span>
x = <span class="nu">3.0</span>
h = <span class="nu">1e-7</span>
numerical_deriv = (f(x + h) - f(x - h)) / (<span class="nu">2</span> * h)
<span class="fn">print</span>(<span class="st">f"f(x) = x^2 at x=3"</span>)
<span class="fn">print</span>(<span class="st">f"í•´ì„ì  ë¯¸ë¶„: 2*3 = 6"</span>)
<span class="fn">print</span>(<span class="st">f"ìˆ˜ì¹˜ì  ë¯¸ë¶„: </span>{numerical_deriv:.6f}<span class="st">"</span>)

<span class="cm"># ì‹œê°í™”: ì ‘ì„ ì˜ ê¸°ìš¸ê¸° = ë¯¸ë¶„ê°’</span>
x_range = np.linspace(-<span class="nu">1</span>, <span class="nu">5</span>, <span class="nu">100</span>)
plt.figure(figsize=(<span class="nu">8</span>, <span class="nu">5</span>))
plt.plot(x_range, f(x_range), <span class="st">'b-'</span>, linewidth=<span class="nu">2</span>, label=<span class="st">'f(x) = xÂ²'</span>)

<span class="cm"># x=3ì—ì„œì˜ ì ‘ì„ </span>
tangent = <span class="nu">6</span> * (x_range - <span class="nu">3</span>) + <span class="nu">9</span>  <span class="cm"># y - f(3) = f'(3)(x - 3)</span>
plt.plot(x_range, tangent, <span class="st">'r--'</span>, linewidth=<span class="nu">1.5</span>, label=<span class="st">"Tangent at x=3 (slope=6)"</span>)
plt.scatter([<span class="nu">3</span>], [<span class="nu">9</span>], color=<span class="st">'red'</span>, s=<span class="nu">100</span>, zorder=<span class="nu">5</span>)

plt.ylim(-<span class="nu">2</span>, <span class="nu">25</span>)
plt.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
plt.legend(fontsize=<span class="nu">11</span>)
plt.title(<span class="st">"Derivative = Slope of Tangent Line"</span>, fontsize=<span class="nu">13</span>)
plt.show()</code></pre>

<h3>9.2 í¸ë¯¸ë¶„ê³¼ ê·¸ë˜ë””ì–¸íŠ¸ â€” ë‹¤ë³€ìˆ˜ í•¨ìˆ˜ì˜ ë¯¸ë¶„</h3>
<p>ë³€ìˆ˜ê°€ ì—¬ëŸ¬ ê°œì¸ í•¨ìˆ˜ì—ì„œëŠ” "ê° ë³€ìˆ˜ì— ëŒ€í•´ ë”°ë¡œë”°ë¡œ ë¯¸ë¶„"í•œë‹¤. ì´ê²ƒì´ í¸ë¯¸ë¶„(partial derivative)ì´ë‹¤. ëª¨ë“  í¸ë¯¸ë¶„ì„ ë²¡í„°ë¡œ ëª¨ì€ ê²ƒì´ ê·¸ë˜ë””ì–¸íŠ¸(gradient)ë‹¤.</p>

<div class="eq">\[ \nabla f = \begin{bmatrix} \frac{\partial f}{\partial x_1} \\ \frac{\partial f}{\partial x_2} \\ \vdots \\ \frac{\partial f}{\partial x_n} \end{bmatrix} \quad \text{(ê·¸ë˜ë””ì–¸íŠ¸ ë²¡í„°)} \]</div>

<p>ê·¸ë˜ë””ì–¸íŠ¸ì˜ ì§ê´€: ì‚° ìœ„ì— ì„œ ìˆë‹¤ê³  í•˜ì. ê·¸ë˜ë””ì–¸íŠ¸ëŠ” "ê°€ì¥ ê°€íŒŒë¥´ê²Œ ì˜¬ë¼ê°€ëŠ” ë°©í–¥"ì„ ê°€ë¦¬í‚¤ëŠ” í™”ì‚´í‘œë‹¤. ë°˜ëŒ€ ë°©í–¥(-âˆ‡f)ì€ "ê°€ì¥ ê°€íŒŒë¥´ê²Œ ë‚´ë ¤ê°€ëŠ” ë°©í–¥"ì´ë‹¤.</p>

<pre><code><span class="cm"># f(x, y) = x^2 + 2y^2</span>
<span class="cm"># âˆ‚f/âˆ‚x = 2x,  âˆ‚f/âˆ‚y = 4y</span>
<span class="cm"># âˆ‡f = [2x, 4y]</span>

<span class="kw">def</span> <span class="fn">f_2d</span>(x, y):
    <span class="kw">return</span> x**<span class="nu">2</span> + <span class="nu">2</span>*y**<span class="nu">2</span>

<span class="kw">def</span> <span class="fn">gradient_f</span>(x, y):
    <span class="kw">return</span> np.array([<span class="nu">2</span>*x, <span class="nu">4</span>*y])

<span class="cm"># (3, 2)ì—ì„œì˜ ê·¸ë˜ë””ì–¸íŠ¸</span>
grad = gradient_f(<span class="nu">3</span>, <span class="nu">2</span>)
<span class="fn">print</span>(<span class="st">f"f(3, 2) = </span>{f_2d(3, 2)}<span class="st">"</span>)       <span class="cm"># 17</span>
<span class="fn">print</span>(<span class="st">f"âˆ‡f(3, 2) = </span>{grad}<span class="st">"</span>)              <span class="cm"># [6, 8]</span>
<span class="fn">print</span>(<span class="st">f"â†’ x ë°©í–¥ìœ¼ë¡œ 6ë§Œí¼, y ë°©í–¥ìœ¼ë¡œ 8ë§Œí¼ ì¦ê°€í•˜ëŠ” ë°©í–¥ì´ ê°€ì¥ ê°€íŒŒë¥´ë‹¤"</span>)</code></pre>

<h3>9.3 ê²½ì‚¬í•˜ê°•ë²• (Gradient Descent) â€” ë”¥ëŸ¬ë‹ì˜ í•™ìŠµ ì›ë¦¬</h3>
<p>ê²½ì‚¬í•˜ê°•ë²•ì€ ê·¸ë˜ë””ì–¸íŠ¸ì˜ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì¡°ê¸ˆì”© ì´ë™í•˜ì—¬ í•¨ìˆ˜ì˜ ìµœì†Ÿê°’ì„ ì°¾ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. ë”¥ëŸ¬ë‹ì˜ í•™ìŠµ ê³¼ì •ì´ ë°”ë¡œ ì´ê²ƒì´ë‹¤: ì†ì‹¤í•¨ìˆ˜(loss function)ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ê°€ì¤‘ì¹˜ë¥¼ ì¡°ê¸ˆì”© ì—…ë°ì´íŠ¸í•œë‹¤.</p>

<div class="eq">\[ \mathbf{x}_{t+1} = \mathbf{x}_t - \alpha \nabla f(\mathbf{x}_t) \]</div>

<p>ì—¬ê¸°ì„œ Î±(ì•ŒíŒŒ)ëŠ” í•™ìŠµë¥ (learning rate)ì´ë‹¤. í•œ ë²ˆì— ì–¼ë§ˆë‚˜ í¬ê²Œ ì´ë™í• ì§€ë¥¼ ê²°ì •í•œë‹¤.</p>

<pre><code><span class="cm"># ê²½ì‚¬í•˜ê°•ë²•ìœ¼ë¡œ f(x,y) = x^2 + 2y^2ì˜ ìµœì†Ÿê°’ ì°¾ê¸°</span>
x, y = <span class="nu">5.0</span>, <span class="nu">5.0</span>  <span class="cm"># ì‹œì‘ì </span>
lr = <span class="nu">0.1</span>           <span class="cm"># í•™ìŠµë¥ </span>
history = [(x, y, f_2d(x, y))]

<span class="fn">print</span>(<span class="st">"=== ê²½ì‚¬í•˜ê°•ë²• ì§„í–‰ ==="</span>)
<span class="fn">print</span>(<span class="st">f"{'Step':>4} {'x':>8} {'y':>8} {'f(x,y)':>10} {'|grad|':>8}"</span>)
<span class="fn">print</span>(<span class="st">"-"</span> * <span class="nu">42</span>)

<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(<span class="nu">30</span>):
    grad = gradient_f(x, y)
    x -= lr * grad[<span class="nu">0</span>]
    y -= lr * grad[<span class="nu">1</span>]
    history.append((x, y, f_2d(x, y)))
    
    <span class="kw">if</span> i % <span class="nu">5</span> == <span class="nu">0</span>:
        <span class="fn">print</span>(<span class="st">f"</span>{i:4d} {x:8.4f} {y:8.4f} {f_2d(x,y):10.6f} {np.linalg.norm(grad):8.4f}<span class="st">"</span>)

<span class="fn">print</span>(<span class="st">f"\nìµœì¢…: x={x:.6f}, y={y:.6f}, f={f_2d(x,y):.8f}"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ (0, 0)ìœ¼ë¡œ ìˆ˜ë ´! ì´ê²ƒì´ ìµœì†Ÿê°’."</span>)

<span class="cm"># ê²½ì‚¬í•˜ê°•ë²• ê²½ë¡œ ì‹œê°í™”</span>
fig, (ax1, ax2) = plt.subplots(<span class="nu">1</span>, <span class="nu">2</span>, figsize=(<span class="nu">14</span>, <span class="nu">5</span>))

<span class="cm"># ë“±ê³ ì„  + ê²½ë¡œ</span>
xx, yy = np.meshgrid(np.linspace(-<span class="nu">6</span>, <span class="nu">6</span>, <span class="nu">100</span>), np.linspace(-<span class="nu">6</span>, <span class="nu">6</span>, <span class="nu">100</span>))
zz = xx**<span class="nu">2</span> + <span class="nu">2</span>*yy**<span class="nu">2</span>
ax1.contour(xx, yy, zz, levels=<span class="nu">20</span>, cmap=<span class="st">'viridis'</span>, alpha=<span class="nu">0.6</span>)

hx = [h[<span class="nu">0</span>] <span class="kw">for</span> h <span class="kw">in</span> history]
hy = [h[<span class="nu">1</span>] <span class="kw">for</span> h <span class="kw">in</span> history]
ax1.plot(hx, hy, <span class="st">'ro-'</span>, markersize=<span class="nu">3</span>, linewidth=<span class="nu">1</span>)
ax1.plot(hx[<span class="nu">0</span>], hy[<span class="nu">0</span>], <span class="st">'r*'</span>, markersize=<span class="nu">15</span>, label=<span class="st">'Start'</span>)
ax1.plot(<span class="nu">0</span>, <span class="nu">0</span>, <span class="st">'g*'</span>, markersize=<span class="nu">15</span>, label=<span class="st">'Minimum'</span>)
ax1.set_title(<span class="st">"Gradient Descent Path"</span>, fontsize=<span class="nu">13</span>)
ax1.legend()
ax1.set_xlabel(<span class="st">"x"</span>); ax1.set_ylabel(<span class="st">"y"</span>)

<span class="cm"># ì†ì‹¤ ê³¡ì„ </span>
losses = [h[<span class="nu">2</span>] <span class="kw">for</span> h <span class="kw">in</span> history]
ax2.plot(losses, <span class="st">'b-'</span>, linewidth=<span class="nu">2</span>)
ax2.set_title(<span class="st">"Loss Curve"</span>, fontsize=<span class="nu">13</span>)
ax2.set_xlabel(<span class="st">"Step"</span>); ax2.set_ylabel(<span class="st">"f(x, y)"</span>)
ax2.set_yscale(<span class="st">'log'</span>)
ax2.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
plt.tight_layout()
plt.show()</code></pre>

<div class="warn">
<p class="ni"><strong>í•™ìŠµë¥ (Learning Rate)ì˜ ì¤‘ìš”ì„±:</strong></p>
<ul>
<li><strong>ë„ˆë¬´ í¬ë©´:</strong> ìµœì†Ÿê°’ì„ ì§€ë‚˜ì³ì„œ ë°œì‚°í•œë‹¤ (overshooting)</li>
<li><strong>ë„ˆë¬´ ì‘ìœ¼ë©´:</strong> ìˆ˜ë ´ì´ ë„ˆë¬´ ëŠë¦¬ë‹¤ (í•™ìŠµ ì‹œê°„ ë‚­ë¹„)</li>
<li><strong>ì ì ˆí•˜ë©´:</strong> ë¹ ë¥´ê³  ì•ˆì •ì ìœ¼ë¡œ ìˆ˜ë ´í•œë‹¤</li>
</ul>
<p class="ni">ë”¥ëŸ¬ë‹ì—ì„œ í•™ìŠµë¥  íŠœë‹ì€ ê°€ì¥ ì¤‘ìš”í•œ í•˜ì´í¼íŒŒë¼ë¯¸í„° ì¡°ì • ì¤‘ í•˜ë‚˜ë‹¤. Round 7ì—ì„œ ìì„¸íˆ ë‹¤ë£¬ë‹¤.</p>
</div>

<!-- â”€â”€ ë³´ì¶© 9.3+ í•™ìŠµë¥  ë¹„êµ ì‹œê°í™” â”€â”€ -->
<h4>9.3.1 í•™ìŠµë¥  ë¹„êµ ì‹¤í—˜ â€” ëˆˆìœ¼ë¡œ í™•ì¸í•˜ê¸°</h4>
<p>í•™ìŠµë¥ ì´ ë„ˆë¬´ í¬ë©´, ë„ˆë¬´ ì‘ìœ¼ë©´, ì ì ˆí•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ì§ì ‘ ì‹¤í—˜í•´ë³´ì.</p>

<pre><code><span class="cm"># í•™ìŠµë¥  ë¹„êµ: ë„ˆë¬´ í° / ì ì ˆí•œ / ë„ˆë¬´ ì‘ì€</span>
learning_rates = {
    <span class="st">"ë„ˆë¬´ í¼ (Î±=0.5)"</span>: <span class="nu">0.5</span>,
    <span class="st">"ì ì ˆí•¨ (Î±=0.1)"</span>: <span class="nu">0.1</span>,
    <span class="st">"ë„ˆë¬´ ì‘ìŒ (Î±=0.005)"</span>: <span class="nu">0.005</span>
}
colors = [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]

fig, axes = plt.subplots(<span class="nu">1</span>, <span class="nu">3</span>, figsize=(<span class="nu">16</span>, <span class="nu">5</span>))

<span class="kw">for</span> idx, (name, lr) <span class="kw">in</span> <span class="fn">enumerate</span>(learning_rates.items()):
    x, y = <span class="nu">5.0</span>, <span class="nu">5.0</span>
    path_x, path_y, losses = [x], [y], [f_2d(x, y)]
    
    <span class="kw">for</span> _ <span class="kw">in</span> <span class="fn">range</span>(<span class="nu">50</span>):
        grad = gradient_f(x, y)
        x -= lr * grad[<span class="nu">0</span>]
        y -= lr * grad[<span class="nu">1</span>]
        path_x.append(x)
        path_y.append(y)
        losses.append(f_2d(x, y))
    
    <span class="cm"># ë“±ê³ ì„  + ê²½ë¡œ</span>
    xx, yy = np.meshgrid(np.linspace(-<span class="nu">7</span>, <span class="nu">7</span>, <span class="nu">80</span>), np.linspace(-<span class="nu">7</span>, <span class="nu">7</span>, <span class="nu">80</span>))
    zz = xx**<span class="nu">2</span> + <span class="nu">2</span>*yy**<span class="nu">2</span>
    axes[idx].contour(xx, yy, zz, levels=<span class="nu">15</span>, cmap=<span class="st">'viridis'</span>, alpha=<span class="nu">0.5</span>)
    axes[idx].plot(path_x, path_y, <span class="st">'o-'</span>, color=colors[idx], markersize=<span class="nu">3</span>, linewidth=<span class="nu">1</span>)
    axes[idx].plot(path_x[<span class="nu">0</span>], path_y[<span class="nu">0</span>], <span class="st">'*'</span>, color=colors[idx], markersize=<span class="nu">15</span>)
    axes[idx].set_title(name, fontsize=<span class="nu">12</span>, color=colors[idx], fontweight=<span class="st">'bold'</span>)
    axes[idx].set_xlim(-<span class="nu">7</span>, <span class="nu">7</span>); axes[idx].set_ylim(-<span class="nu">7</span>, <span class="nu">7</span>)
    axes[idx].grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
    
    <span class="cm"># ìµœì¢… ìœ„ì¹˜ í‘œì‹œ</span>
    axes[idx].annotate(<span class="st">f'ìµœì¢…: ({path_x[-1]:.2f}, {path_y[-1]:.2f})'</span>,
                       xy=(path_x[-<span class="nu">1</span>], path_y[-<span class="nu">1</span>]), fontsize=<span class="nu">8</span>,
                       bbox=<span class="fn">dict</span>(boxstyle=<span class="st">'round'</span>, facecolor=<span class="st">'white'</span>, alpha=<span class="nu">0.8</span>))

plt.suptitle(<span class="st">"í•™ìŠµë¥ (Learning Rate) ë¹„êµ â€” ê°™ì€ ì‹œì‘ì , ë‹¤ë¥¸ ê²°ê³¼"</span>, fontsize=<span class="nu">14</span>)
plt.tight_layout()
plt.show()

<span class="fn">print</span>(<span class="st">"â†’ ë„ˆë¬´ í° í•™ìŠµë¥ : ë°œì‚°í•˜ê±°ë‚˜ ì§„ë™ (ìµœì†Ÿê°’ì„ ì§€ë‚˜ì¹¨)"</span>)
<span class="fn">print</span>(<span class="st">"â†’ ì ì ˆí•œ í•™ìŠµë¥ : ë¹ ë¥´ê³  ì•ˆì •ì ìœ¼ë¡œ (0,0)ì— ìˆ˜ë ´"</span>)
<span class="fn">print</span>(<span class="st">"â†’ ë„ˆë¬´ ì‘ì€ í•™ìŠµë¥ : ìˆ˜ë ´ì€ í•˜ì§€ë§Œ 50ìŠ¤í…ìœ¼ë¡œëŠ” ë¶€ì¡±"</span>)</code></pre>

<h3>9.4 ì²´ì¸ë£° (Chain Rule) â€” ë”¥ëŸ¬ë‹ ì—­ì „íŒŒì˜ ìˆ˜í•™</h3>
<p>í•©ì„±í•¨ìˆ˜ì˜ ë¯¸ë¶„ ê·œì¹™ì´ë‹¤. ë”¥ëŸ¬ë‹ì˜ ì—­ì „íŒŒ(backpropagation)ê°€ ë°”ë¡œ ì²´ì¸ë£°ì˜ ë°˜ë³µ ì ìš©ì´ë‹¤.</p>

<div class="eq">\[ \frac{dz}{dx} = \frac{dz}{dy} \cdot \frac{dy}{dx} \]</div>

<p>ë¹„ìœ : í™˜ìœ¨ ë³€í™˜ì„ ìƒê°í•˜ì. ì›í™”â†’ë‹¬ëŸ¬ í™˜ìœ¨ê³¼ ë‹¬ëŸ¬â†’ìœ ë¡œ í™˜ìœ¨ì„ ì•Œë©´, ì›í™”â†’ìœ ë¡œ í™˜ìœ¨ì€ ë‘ í™˜ìœ¨ì„ ê³±í•˜ë©´ ëœë‹¤. ì²´ì¸ë£°ë„ ê°™ì€ ì›ë¦¬ë‹¤.</p>

<!-- â”€â”€ ë³´ì¶© 9.4+ ì²´ì¸ë£°ì´ ë”¥ëŸ¬ë‹ì—ì„œ ì™œ í•µì‹¬ì¸ê°€ â”€â”€ -->
<div class="def">
<p class="ni"><strong>ğŸ” ë³´ì¶©: ë”¥ëŸ¬ë‹ì—ì„œ ì²´ì¸ë£°ì´ ì™œ í•µì‹¬ì¸ê°€ â€” ê°„ë‹¨í•œ ì‹ ê²½ë§ ì˜ˆì œ</strong></p>
<p class="ni">ë”¥ëŸ¬ë‹ ì‹ ê²½ë§ì€ ì—¬ëŸ¬ ì¸µ(layer)ì´ ìŒ“ì¸ í•©ì„±í•¨ìˆ˜ë‹¤. ì…ë ¥ xê°€ 1ì¸µì„ í†µê³¼í•˜ê³ , ê·¸ ê²°ê³¼ê°€ 2ì¸µì„ í†µê³¼í•˜ê³ , ... ìµœì¢… ì¶œë ¥ì´ ë‚˜ì˜¨ë‹¤. í•™ìŠµì´ë€ "ì¶œë ¥ì˜ ì˜¤ì°¨ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ê° ì¸µì˜ ê°€ì¤‘ì¹˜ë¥¼ ì¡°ì ˆí•˜ëŠ” ê²ƒ"ì´ë‹¤.</p>
<p class="ni">ë¬¸ì œëŠ”: 1ì¸µì˜ ê°€ì¤‘ì¹˜ê°€ ìµœì¢… ì˜¤ì°¨ì— ì–¼ë§ˆë‚˜ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆëŠ”ê°€? ì²´ì¸ë£°ì´ ë‹µì´ë‹¤. ì˜¤ì°¨ë¥¼ ì¶œë ¥ì¸µì—ì„œ ì…ë ¥ì¸µ ë°©í–¥ìœ¼ë¡œ "ì—­ì „íŒŒ"í•˜ë©´ì„œ, ê° ì¸µì˜ ê¸°ì—¬ë„ë¥¼ ì²´ì¸ë£°ë¡œ ê³„ì‚°í•œë‹¤.</p>
</div>

<pre><code><span class="cm"># ê°€ì¥ ê°„ë‹¨í•œ 2ì¸µ ì‹ ê²½ë§ìœ¼ë¡œ ì²´ì¸ë£° ì´í•´í•˜ê¸°</span>
<span class="cm"># ì…ë ¥ x â†’ [w1 ê³±í•˜ê¸°] â†’ h â†’ [w2 ê³±í•˜ê¸°] â†’ y_pred â†’ ì˜¤ì°¨ L</span>
<span class="cm">#</span>
<span class="cm"># h = w1 * x        (1ì¸µ)</span>
<span class="cm"># y_pred = w2 * h   (2ì¸µ)</span>
<span class="cm"># L = (y_pred - y_true)^2  (ì†ì‹¤í•¨ìˆ˜)</span>
<span class="cm">#</span>
<span class="cm"># ì§ˆë¬¸: dL/dw1 = ? (w1ì´ ì†ì‹¤ì— ë¯¸ì¹˜ëŠ” ì˜í–¥)</span>
<span class="cm"># ì²´ì¸ë£°: dL/dw1 = dL/dy_pred Ã— dy_pred/dh Ã— dh/dw1</span>

x = <span class="nu">2.0</span>       <span class="cm"># ì…ë ¥</span>
y_true = <span class="nu">10.0</span>  <span class="cm"># ì •ë‹µ</span>
w1 = <span class="nu">1.5</span>       <span class="cm"># 1ì¸µ ê°€ì¤‘ì¹˜</span>
w2 = <span class="nu">2.0</span>       <span class="cm"># 2ì¸µ ê°€ì¤‘ì¹˜</span>

<span class="cm"># ìˆœì „íŒŒ (Forward Pass)</span>
h = w1 * x           <span class="cm"># 3.0</span>
y_pred = w2 * h       <span class="cm"># 6.0</span>
L = (y_pred - y_true)**<span class="nu">2</span>  <span class="cm"># 16.0</span>

<span class="cm"># ì—­ì „íŒŒ (Backward Pass) â€” ì²´ì¸ë£°!</span>
dL_dy = <span class="nu">2</span> * (y_pred - y_true)  <span class="cm"># dL/dy_pred = -8.0</span>
dy_dh = w2                       <span class="cm"># dy_pred/dh = 2.0</span>
dh_dw1 = x                       <span class="cm"># dh/dw1 = 2.0</span>

<span class="cm"># ì²´ì¸ë£° ì ìš©</span>
dL_dw1 = dL_dy * dy_dh * dh_dw1  <span class="cm"># -8 Ã— 2 Ã— 2 = -32</span>
dL_dw2 = dL_dy * h                <span class="cm"># -8 Ã— 3 = -24</span>

<span class="fn">print</span>(<span class="st">"=== ìˆœì „íŒŒ ==="</span>)
<span class="fn">print</span>(<span class="st">f"h = w1Ã—x = </span>{w1}<span class="st">Ã—</span>{x}<span class="st"> = </span>{h}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"y_pred = w2Ã—h = </span>{w2}<span class="st">Ã—</span>{h}<span class="st"> = </span>{y_pred}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"Loss = (</span>{y_pred}<span class="st">-</span>{y_true}<span class="st">)Â² = </span>{L}<span class="st">"</span>)

<span class="fn">print</span>(<span class="st">"\n=== ì—­ì „íŒŒ (ì²´ì¸ë£°) ==="</span>)
<span class="fn">print</span>(<span class="st">f"dL/dw1 = dL/dy Ã— dy/dh Ã— dh/dw1 = </span>{dL_dy}<span class="st"> Ã— </span>{dy_dh}<span class="st"> Ã— </span>{dh_dw1}<span class="st"> = </span>{dL_dw1}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"dL/dw2 = dL/dy Ã— dy/dw2 = </span>{dL_dy}<span class="st"> Ã— </span>{h}<span class="st"> = </span>{dL_dw2}<span class="st">"</span>)

<span class="cm"># ê°€ì¤‘ì¹˜ ì—…ë°ì´íŠ¸</span>
lr = <span class="nu">0.01</span>
w1_new = w1 - lr * dL_dw1
w2_new = w2 - lr * dL_dw2
<span class="fn">print</span>(<span class="st">f"\n=== ê°€ì¤‘ì¹˜ ì—…ë°ì´íŠ¸ (lr=</span>{lr}<span class="st">) ==="</span>)
<span class="fn">print</span>(<span class="st">f"w1: </span>{w1}<span class="st"> â†’ </span>{w1_new}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"w2: </span>{w2}<span class="st"> â†’ </span>{w2_new}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì´ê²ƒì´ ë”¥ëŸ¬ë‹ í•™ìŠµì˜ í•œ ìŠ¤í…! ì´ê²ƒì„ ìˆ˜ë§Œ ë²ˆ ë°˜ë³µí•œë‹¤."</span>)</code></pre>

<pre><code><span class="cm"># ì˜ˆ: z = (2x + 3)^2</span>
<span class="cm"># y = 2x + 3 (ë‚´ë¶€ í•¨ìˆ˜)</span>
<span class="cm"># z = y^2    (ì™¸ë¶€ í•¨ìˆ˜)</span>
<span class="cm"># dz/dx = dz/dy Ã— dy/dx = 2y Ã— 2 = 4(2x+3)</span>

x = <span class="nu">1.0</span>
<span class="cm"># í•´ì„ì  ë¯¸ë¶„: dz/dx = 4(2*1+3) = 20</span>
analytical = <span class="nu">4</span> * (<span class="nu">2</span>*x + <span class="nu">3</span>)

<span class="cm"># ìˆ˜ì¹˜ì  ë¯¸ë¶„ìœ¼ë¡œ ê²€ì¦</span>
h = <span class="nu">1e-7</span>
z = <span class="kw">lambda</span> x: (<span class="nu">2</span>*x + <span class="nu">3</span>)**<span class="nu">2</span>
numerical = (z(x+h) - z(x-h)) / (<span class="nu">2</span>*h)

<span class="fn">print</span>(<span class="st">f"í•´ì„ì  ë¯¸ë¶„: </span>{analytical}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"ìˆ˜ì¹˜ì  ë¯¸ë¶„: </span>{numerical:.6f}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"â†’ ì¼ì¹˜! ì²´ì¸ë£°ì´ ì •í™•í•˜ë‹¤."</span>)</code></pre>

<div class="def">
<p class="ni"><strong>Convex Optimization ì—°ê²° (Round 8 ë¯¸ë¦¬ë³´ê¸°):</strong></p>
<p class="ni">\(f(x,y) = x^2 + 2y^2\)ëŠ” ë³¼ë¡í•¨ìˆ˜(convex function)ë‹¤. ë³¼ë¡í•¨ìˆ˜ì˜ í•µì‹¬ ì„±ì§ˆ: ì§€ì—­ ìµœì†Ÿê°’ = ì „ì—­ ìµœì†Ÿê°’. ë”°ë¼ì„œ ê²½ì‚¬í•˜ê°•ë²•ì´ ë°˜ë“œì‹œ ìµœì í•´ì— ìˆ˜ë ´í•œë‹¤. í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ì˜ ëª©ì í•¨ìˆ˜ \(\mathbf{w}^T\boldsymbol{\Sigma}\mathbf{w}\)ë„ ë³¼ë¡í•¨ìˆ˜ì´ë¯€ë¡œ, Convex Optimizationìœ¼ë¡œ ì „ì—­ ìµœì  í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.</p>
</div>

<!-- â•â•â• Plotly: Ch.9 3D ê²½ì‚¬í•˜ê°•ë²• ì‹œê°í™” â•â•â• -->
<div id="plot-ch9-gd3d" style="width:100%;height:550px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ ë“œë˜ê·¸ë¡œ 3D íšŒì „, ìŠ¤í¬ë¡¤ë¡œ í™•ëŒ€. ë¹¨ê°„ ê²½ë¡œê°€ ê²½ì‚¬í•˜ê°•ë²•ìœ¼ë¡œ ìµœì†Ÿê°’(0,0)ì„ í–¥í•´ ë‚´ë ¤ê°€ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.</p>
<script>
(function(){
  // f(x,y) = x^2 + 2y^2 ì˜ 3D surface + ê²½ì‚¬í•˜ê°•ë²• ê²½ë¡œ
  var N = 40;
  var xGrid = [], yGrid = [], zGrid = [];
  for(var i=0; i<N; i++){
    var row_x = [], row_y = [], row_z = [];
    for(var j=0; j<N; j++){
      var x = -5 + 10*i/(N-1);
      var y = -5 + 10*j/(N-1);
      row_x.push(x);
      row_y.push(y);
      row_z.push(x*x + 2*y*y);
    }
    xGrid.push(row_x);
    yGrid.push(row_y);
    zGrid.push(row_z);
  }
  
  // ê²½ì‚¬í•˜ê°•ë²• ê²½ë¡œ
  var lr = 0.1, steps = 30;
  var gx = [4], gy = [4], gz = [4*4+2*4*4]; // ì‹œì‘ì  (4,4)
  for(var s=0; s<steps; s++){
    var cx = gx[gx.length-1], cy = gy[gy.length-1];
    var dx = 2*cx, dy = 4*cy; // ê·¸ë˜ë””ì–¸íŠ¸
    var nx = cx - lr*dx, ny = cy - lr*dy;
    gx.push(nx); gy.push(ny); gz.push(nx*nx+2*ny*ny);
  }
  
  Plotly.newPlot('plot-ch9-gd3d', [
    {x:xGrid, y:yGrid, z:zGrid, type:'surface', colorscale:'Viridis',
     opacity:0.7, showscale:false, name:'f(x,y) = xÂ² + 2yÂ²',
     contours:{z:{show:true, usecolormap:true, highlightcolor:'#fff', project:{z:true}}}},
    {x:gx, y:gy, z:gz, type:'scatter3d', mode:'lines+markers',
     name:'ê²½ì‚¬í•˜ê°•ë²• ê²½ë¡œ (lr=0.1)',
     line:{color:'#e74c3c', width:5},
     marker:{size:4, color:gz.map(function(_,i){return i;}), colorscale:'Reds', showscale:false}},
    {x:[gx[0]], y:[gy[0]], z:[gz[0]], type:'scatter3d', mode:'markers',
     name:'ì‹œì‘ì  (4, 4)', marker:{size:8, color:'#e74c3c', symbol:'diamond'}},
    {x:[gx[gx.length-1]], y:[gy[gy.length-1]], z:[gz[gz.length-1]], type:'scatter3d', mode:'markers',
     name:'ìˆ˜ë ´ì  â‰ˆ (0, 0)', marker:{size:8, color:'#27ae60', symbol:'circle'}}
  ], {
    title:{text:'3D ê²½ì‚¬í•˜ê°•ë²•: f(x,y) = xÂ² + 2yÂ² ì˜ ìµœì†Ÿê°’ ì°¾ê¸°', font:{size:14}},
    scene:{
      xaxis:{title:'x', range:[-5,5]},
      yaxis:{title:'y', range:[-5,5]},
      zaxis:{title:'f(x,y)', range:[0,50]},
      camera:{eye:{x:1.8, y:1.8, z:1.0}}
    },
    legend:{x:0.01, y:0.99, font:{size:10}},
    margin:{l:0, r:0, t:50, b:0},
    paper_bgcolor:'rgba(0,0,0,0)'
  }, {responsive:true});
})();
</script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch10: ì‹¤ì „ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch10">10. ì‹¤ì „: í¬íŠ¸í´ë¦¬ì˜¤ ê³µë¶„ì‚° ë¶„ì„ + íˆíŠ¸ë§µ</h2>

<h3>10.1 ì‹¤ì œ ì£¼ì‹ ë°ì´í„° ìˆ˜ì§‘</h3>
<p>ì´ë¡ ì„ ì‹¤ì „ì— ì ìš©í•  ì‹œê°„ì´ë‹¤. ë¯¸êµ­ ì£¼ìš” ì¢…ëª© + ê¸ˆ + ì±„ê¶Œìœ¼ë¡œ êµ¬ì„±ëœ 5ì¢…ëª© í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë¶„ì„í•œë‹¤. ì£¼ì‹(AAPL, MSFT, GOOGL), ê¸ˆ(GLD), ì±„ê¶Œ(TLT)ì„ ì„ì–´ì„œ ìì‚°êµ° ê°„ ìƒê´€ê´€ê³„ë¥¼ ê´€ì°°í•œë‹¤.</p>

<pre><code><span class="kw">import</span> numpy <span class="kw">as</span> np
<span class="kw">import</span> pandas <span class="kw">as</span> pd
<span class="kw">import</span> yfinance <span class="kw">as</span> yf
<span class="kw">import</span> matplotlib.pyplot <span class="kw">as</span> plt
<span class="kw">import</span> matplotlib
matplotlib.rcParams[<span class="st">'font.family'</span>] = <span class="st">'Malgun Gothic'</span>
matplotlib.rcParams[<span class="st">'axes.unicode_minus'</span>] = <span class="kw">False</span>

<span class="cm"># 5ì¢…ëª© ì„ ì •</span>
tickers = [<span class="st">"AAPL"</span>, <span class="st">"MSFT"</span>, <span class="st">"GOOGL"</span>, <span class="st">"GLD"</span>, <span class="st">"TLT"</span>]
names = [<span class="st">"Apple"</span>, <span class="st">"Microsoft"</span>, <span class="st">"Google"</span>, <span class="st">"Gold ETF"</span>, <span class="st">"US Bond 20Y"</span>]

<span class="cm"># 2ë…„ê°„ ì¼ê°„ ë°ì´í„°</span>
data = yf.download(tickers, start=<span class="st">"2023-01-01"</span>, end=<span class="st">"2025-01-01"</span>)[<span class="st">"Close"</span>]
data.columns = names

<span class="cm"># ì¼ê°„ ìˆ˜ìµë¥ </span>
returns = data.pct_change().dropna()

<span class="fn">print</span>(<span class="st">"=== ë°ì´í„° ê°œìš” ==="</span>)
<span class="fn">print</span>(<span class="st">f"ê¸°ê°„: </span>{returns.index[0].date()}<span class="st"> ~ </span>{returns.index[-1].date()}<span class="st">"</span>)
<span class="fn">print</span>(<span class="st">f"ê´€ì¸¡ì¹˜: </span>{len(returns)}<span class="st">ì¼"</span>)
<span class="fn">print</span>(<span class="st">f"\n=== ê¸°ì´ˆ í†µê³„ (ì¼ê°„, %) ==="</span>)
stats_df = pd.DataFrame({
    <span class="st">'í‰ê· '</span>: returns.mean() * <span class="nu">100</span>,
    <span class="st">'í‘œì¤€í¸ì°¨'</span>: returns.std() * <span class="nu">100</span>,
    <span class="st">'ìµœì†Œ'</span>: returns.min() * <span class="nu">100</span>,
    <span class="st">'ìµœëŒ€'</span>: returns.max() * <span class="nu">100</span>,
    <span class="st">'ì™œë„'</span>: returns.skew(),
    <span class="st">'ì²¨ë„'</span>: returns.kurtosis()
})
<span class="fn">print</span>(stats_df.round(<span class="nu">3</span>))</code></pre>

<h3>10.2 ê³µë¶„ì‚° í–‰ë ¬ê³¼ ìƒê´€í–‰ë ¬</h3>
<pre><code><span class="cm"># ì¼ê°„ ê³µë¶„ì‚° â†’ ì—°ê°„í™” (Ã—252)</span>
cov_daily = returns.cov()
cov_annual = cov_daily * <span class="nu">252</span>

<span class="cm"># ìƒê´€í–‰ë ¬</span>
corr = returns.corr()

<span class="fn">print</span>(<span class="st">"=== ì—°ê°„ ê³µë¶„ì‚° í–‰ë ¬ ==="</span>)
<span class="fn">print</span>(cov_annual.round(<span class="nu">4</span>))
<span class="fn">print</span>(<span class="st">"\n=== ìƒê´€í–‰ë ¬ ==="</span>)
<span class="fn">print</span>(corr.round(<span class="nu">3</span>))</code></pre>

<div class="info">
<p class="ni"><strong>ì—°ê°„í™” ê·œì¹™:</strong></p>
<ul>
<li>ì¼ê°„ ê³µë¶„ì‚° â†’ ì—°ê°„ ê³µë¶„ì‚°: Ã—252 (ê±°ë˜ì¼ ìˆ˜)</li>
<li>ì¼ê°„ í‘œì¤€í¸ì°¨ â†’ ì—°ê°„ í‘œì¤€í¸ì°¨: Ã—âˆš252 â‰ˆ Ã—15.87</li>
<li>ì´ìœ : ìˆ˜ìµë¥ ì´ i.i.d.(ë…ë¦½ ë™ì¼ ë¶„í¬)ë¼ëŠ” ê°€ì • í•˜ì— ë¶„ì‚°ì€ ì‹œê°„ì— ë¹„ë¡€í•˜ë¯€ë¡œ</li>
</ul>
</div>

<h3>10.3 ìƒê´€ê´€ê³„ íˆíŠ¸ë§µ</h3>
<pre><code><span class="cm"># íˆíŠ¸ë§µ ì‹œê°í™”</span>
fig, axes = plt.subplots(<span class="nu">1</span>, <span class="nu">2</span>, figsize=(<span class="nu">14</span>, <span class="nu">6</span>))

<span class="cm"># (a) ìƒê´€í–‰ë ¬ íˆíŠ¸ë§µ</span>
im1 = axes[<span class="nu">0</span>].imshow(corr.values, cmap=<span class="st">'RdBu_r'</span>, vmin=-<span class="nu">1</span>, vmax=<span class="nu">1</span>)
axes[<span class="nu">0</span>].set_xticks(<span class="fn">range</span>(<span class="fn">len</span>(names)))
axes[<span class="nu">0</span>].set_yticks(<span class="fn">range</span>(<span class="fn">len</span>(names)))
axes[<span class="nu">0</span>].set_xticklabels(names, rotation=<span class="nu">45</span>, ha=<span class="st">'right'</span>)
axes[<span class="nu">0</span>].set_yticklabels(names)
<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(<span class="fn">len</span>(names)):
    <span class="kw">for</span> j <span class="kw">in</span> <span class="fn">range</span>(<span class="fn">len</span>(names)):
        c = <span class="st">'white'</span> <span class="kw">if</span> <span class="fn">abs</span>(corr.values[i,j]) > <span class="nu">0.5</span> <span class="kw">else</span> <span class="st">'black'</span>
        axes[<span class="nu">0</span>].text(j, i, <span class="st">f'</span>{corr.values[i,j]:.2f}<span class="st">'</span>,
                    ha=<span class="st">'center'</span>, va=<span class="st">'center'</span>, color=c, fontsize=<span class="nu">10</span>)
fig.colorbar(im1, ax=axes[<span class="nu">0</span>], shrink=<span class="nu">0.8</span>)
axes[<span class="nu">0</span>].set_title(<span class="st">"(a) Correlation Heatmap"</span>, fontsize=<span class="nu">13</span>)

<span class="cm"># (b) ì—°ê°„ ê³µë¶„ì‚° íˆíŠ¸ë§µ</span>
im2 = axes[<span class="nu">1</span>].imshow(cov_annual.values, cmap=<span class="st">'YlOrRd'</span>)
axes[<span class="nu">1</span>].set_xticks(<span class="fn">range</span>(<span class="fn">len</span>(names)))
axes[<span class="nu">1</span>].set_yticks(<span class="fn">range</span>(<span class="fn">len</span>(names)))
axes[<span class="nu">1</span>].set_xticklabels(names, rotation=<span class="nu">45</span>, ha=<span class="st">'right'</span>)
axes[<span class="nu">1</span>].set_yticklabels(names)
<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(<span class="fn">len</span>(names)):
    <span class="kw">for</span> j <span class="kw">in</span> <span class="fn">range</span>(<span class="fn">len</span>(names)):
        axes[<span class="nu">1</span>].text(j, i, <span class="st">f'</span>{cov_annual.values[i,j]:.3f}<span class="st">'</span>,
                    ha=<span class="st">'center'</span>, va=<span class="st">'center'</span>, color=<span class="st">'black'</span>, fontsize=<span class="nu">9</span>)
fig.colorbar(im2, ax=axes[<span class="nu">1</span>], shrink=<span class="nu">0.8</span>)
axes[<span class="nu">1</span>].set_title(<span class="st">"(b) Annual Covariance Matrix"</span>, fontsize=<span class="nu">13</span>)

plt.tight_layout()
plt.savefig(<span class="st">"round_02_heatmap.png"</span>, dpi=<span class="nu">150</span>, bbox_inches=<span class="st">'tight'</span>)
plt.show()</code></pre>

<h3>10.4 í¬íŠ¸í´ë¦¬ì˜¤ ë¹„êµ ë¶„ì„</h3>
<pre><code><span class="cm"># 3ê°€ì§€ ì „ëµ ë¹„êµ</span>
mean_ret = returns.mean().values * <span class="nu">252</span>  <span class="cm"># ì—°ê°„í™”</span>

portfolios = {
    <span class="st">'ë™ì¼ë¹„ì¤‘'</span>:   np.array([<span class="nu">0.2</span>, <span class="nu">0.2</span>, <span class="nu">0.2</span>, <span class="nu">0.2</span>, <span class="nu">0.2</span>]),
    <span class="st">'í…Œí¬ì§‘ì¤‘'</span>:   np.array([<span class="nu">0.35</span>, <span class="nu">0.35</span>, <span class="nu">0.20</span>, <span class="nu">0.05</span>, <span class="nu">0.05</span>]),
    <span class="st">'ë°©ì–´í˜•'</span>:     np.array([<span class="nu">0.10</span>, <span class="nu">0.10</span>, <span class="nu">0.10</span>, <span class="nu">0.35</span>, <span class="nu">0.35</span>]),
}

<span class="fn">print</span>(<span class="st">"=== í¬íŠ¸í´ë¦¬ì˜¤ ë¹„êµ ==="</span>)
<span class="fn">print</span>(<span class="st">f"{'ì „ëµ':<10} {'ìˆ˜ìµë¥ (%)':<12} {'ë³€ë™ì„±(%)':<12} {'ìƒ¤í”„ë¹„ìœ¨':<10}"</span>)
<span class="fn">print</span>(<span class="st">"-"</span> * <span class="nu">44</span>)

<span class="kw">for</span> name, w <span class="kw">in</span> portfolios.items():
    ret = w @ mean_ret * <span class="nu">100</span>
    vol = np.sqrt(w @ cov_annual.values @ w) * <span class="nu">100</span>
    sharpe = ret / vol <span class="kw">if</span> vol > <span class="nu">0</span> <span class="kw">else</span> <span class="nu">0</span>
    <span class="fn">print</span>(<span class="st">f"</span>{name:<span class="nu">10</span>} {ret:<span class="nu">12.2</span>f} {vol:<span class="nu">12.2</span>f} {sharpe:<span class="nu">10.3</span>f}<span class="st">"</span>)

<span class="fn">print</span>(<span class="st">"\nâ†’ ë°©ì–´í˜•ì´ ë³€ë™ì„±ì´ ê°€ì¥ ë‚®ë‹¤ (ê¸ˆ+ì±„ê¶Œì˜ ë¶„ì‚° íš¨ê³¼)"</span>)
<span class="fn">print</span>(<span class="st">"â†’ í…Œí¬ì§‘ì¤‘ì´ ìˆ˜ìµë¥ ì€ ë†’ì§€ë§Œ ë³€ë™ì„±ë„ ë†’ë‹¤"</span>)
<span class="fn">print</span>(<span class="st">"â†’ ìƒ¤í”„ë¹„ìœ¨ë¡œ ìœ„í—˜ ëŒ€ë¹„ ìˆ˜ìµì„ ë¹„êµí•˜ì"</span>)</code></pre>

<h3>10.5 íš¨ìœ¨ì  í”„ë¡ í‹°ì–´ (Monte Carlo)</h3>
<pre><code><span class="cm"># 10,000ê°œ ëœë¤ í¬íŠ¸í´ë¦¬ì˜¤ ì‹œë®¬ë ˆì´ì…˜</span>
np.random.seed(<span class="nu">42</span>)
n_portfolios = <span class="nu">10000</span>
results = np.zeros((<span class="nu">3</span>, n_portfolios))

<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(n_portfolios):
    w = np.random.random(<span class="nu">5</span>)
    w /= w.sum()
    
    ret = w @ mean_ret * <span class="nu">100</span>
    vol = np.sqrt(w @ cov_annual.values @ w) * <span class="nu">100</span>
    sharpe = ret / vol <span class="kw">if</span> vol > <span class="nu">0</span> <span class="kw">else</span> <span class="nu">0</span>
    
    results[<span class="nu">0</span>, i] = vol
    results[<span class="nu">1</span>, i] = ret
    results[<span class="nu">2</span>, i] = sharpe

<span class="cm"># ì‹œê°í™”</span>
plt.figure(figsize=(<span class="nu">10</span>, <span class="nu">7</span>))
scatter = plt.scatter(results[<span class="nu">0</span>], results[<span class="nu">1</span>], c=results[<span class="nu">2</span>],
                      cmap=<span class="st">'viridis'</span>, s=<span class="nu">3</span>, alpha=<span class="nu">0.6</span>)
plt.colorbar(scatter, label=<span class="st">'Sharpe Ratio'</span>)

<span class="cm"># ìµœëŒ€ ìƒ¤í”„ í¬íŠ¸í´ë¦¬ì˜¤</span>
max_idx = results[<span class="nu">2</span>].argmax()
plt.scatter(results[<span class="nu">0</span>, max_idx], results[<span class="nu">1</span>, max_idx],
            marker=<span class="st">'*'</span>, s=<span class="nu">300</span>, c=<span class="st">'red'</span>, label=<span class="st">'Max Sharpe'</span>)

plt.xlabel(<span class="st">'Annual Volatility (%)'</span>, fontsize=<span class="nu">12</span>)
plt.ylabel(<span class="st">'Annual Return (%)'</span>, fontsize=<span class="nu">12</span>)
plt.title(<span class="st">'Efficient Frontier (Monte Carlo, 10K portfolios)'</span>, fontsize=<span class="nu">14</span>)
plt.legend(fontsize=<span class="nu">11</span>)
plt.grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)
plt.tight_layout()
plt.savefig(<span class="st">"round_02_frontier.png"</span>, dpi=<span class="nu">150</span>)
plt.show()

<span class="fn">print</span>(<span class="st">f"ìµœëŒ€ ìƒ¤í”„ í¬íŠ¸í´ë¦¬ì˜¤: Return={results[1,max_idx]:.2f}%, Vol={results[0,max_idx]:.2f}%, Sharpe={results[2,max_idx]:.3f}"</span>)</code></pre>

<div class="warn">
<p class="ni"><strong>Monte Carlo vs Convex Optimization:</strong> ì—¬ê¸°ì„œëŠ” ëœë¤ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ê·¼ì‚¬ì ì¸ í”„ë¡ í‹°ì–´ë¥¼ ê·¸ë ¸ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ë²•ì€ ì •í™•í•˜ì§€ ì•Šë‹¤ â€” 10,000ê°œ í¬íŠ¸í´ë¦¬ì˜¤ë¡œëŠ” ì§„ì§œ ìµœì í•´ë¥¼ ë†“ì¹  ìˆ˜ ìˆë‹¤. Round 8ì—ì„œ ë°°ìš¸ Convex Optimization(<code>cvxpy</code>)ì€ ìˆ˜í•™ì ìœ¼ë¡œ ì •í™•í•œ ìµœì í•´ë¥¼ êµ¬í•œë‹¤.</p>
</div>

<!-- â•â•â• Plotly: Ch.10 íš¨ìœ¨ì  í”„ë¡ í‹°ì–´ + ìì‚° ë°°ì¹˜ â•â•â• -->
<div id="plot-ch10-frontier" style="width:100%;height:520px;margin:25px 0"></div>
<p class="ni" style="font-size:12px;color:#888;text-align:center">ğŸ–±ï¸ í˜¸ë²„ë¡œ ê° í¬íŠ¸í´ë¦¬ì˜¤ì˜ ìˆ˜ìµë¥ /ë³€ë™ì„±/ìƒ¤í”„ë¹„ìœ¨ í™•ì¸. ìƒ‰ìƒì´ ë°ì„ìˆ˜ë¡ ìƒ¤í”„ë¹„ìœ¨ì´ ë†’ìŠµë‹ˆë‹¤.</p>
<script>
(function(){
  // 5ì¢…ëª© ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° (ì‹¤ì œ ë°ì´í„° ê·¼ì‚¬)
  // AAPL, MSFT, GOOGL, GLD, TLT
  var meanRet = [0.28, 0.32, 0.25, 0.12, -0.02]; // ì—°ê°„ ìˆ˜ìµë¥ 
  var vols = [0.24, 0.26, 0.28, 0.15, 0.16]; // ì—°ê°„ ë³€ë™ì„±
  var names = ['Apple','Microsoft','Google','Gold ETF','US Bond 20Y'];
  
  // ìƒê´€í–‰ë ¬ (ê·¼ì‚¬)
  var corr = [
    [1.0, 0.82, 0.78, 0.05, -0.25],
    [0.82, 1.0, 0.75, 0.08, -0.20],
    [0.78, 0.75, 1.0, 0.03, -0.22],
    [0.05, 0.08, 0.03, 1.0, 0.30],
    [-0.25, -0.20, -0.22, 0.30, 1.0]
  ];
  
  // ê³µë¶„ì‚° í–‰ë ¬ êµ¬ì„±
  var cov = [];
  for(var i=0;i<5;i++){
    cov[i]=[];
    for(var j=0;j<5;j++){
      cov[i][j] = corr[i][j]*vols[i]*vols[j];
    }
  }
  
  // ëœë¤ í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„±
  function mulberry32(a){return function(){a|=0;a=a+0x6D2B79F5|0;var t=Math.imul(a^a>>>15,1|a);t=t+Math.imul(t^t>>>7,61|t)^t;return((t^t>>>14)>>>0)/4294967296;}}
  var rng = mulberry32(42);
  
  var pVols=[], pRets=[], pSharpes=[];
  var nSim = 5000;
  var maxSharpe = -999, maxIdx = 0;
  var minVol = 999, minVolIdx = 0;
  
  for(var s=0; s<nSim; s++){
    var w = [];
    var wSum = 0;
    for(var i=0;i<5;i++){w.push(rng()); wSum+=w[i];}
    for(var i=0;i<5;i++) w[i]/=wSum;
    
    // í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ 
    var pRet = 0;
    for(var i=0;i<5;i++) pRet += w[i]*meanRet[i];
    
    // í¬íŠ¸í´ë¦¬ì˜¤ ë³€ë™ì„±
    var pVar = 0;
    for(var i=0;i<5;i++){
      for(var j=0;j<5;j++){
        pVar += w[i]*w[j]*cov[i][j];
      }
    }
    var pVol = Math.sqrt(pVar);
    var sharpe = pRet/pVol;
    
    pVols.push(pVol*100);
    pRets.push(pRet*100);
    pSharpes.push(sharpe);
    
    if(sharpe > maxSharpe){maxSharpe=sharpe; maxIdx=s;}
    if(pVol < minVol){minVol=pVol; minVolIdx=s;}
  }
  
  var traces = [
    {x:pVols, y:pRets, mode:'markers', name:'ëœë¤ í¬íŠ¸í´ë¦¬ì˜¤ (5,000ê°œ)',
     marker:{size:3, color:pSharpes, colorscale:'Viridis', showscale:true,
             colorbar:{title:'Sharpe', thickness:15, len:0.6}},
     text:pSharpes.map(function(s){return 'Sharpe: '+s.toFixed(3);}),
     hovertemplate:'ë³€ë™ì„±: %{x:.1f}%<br>ìˆ˜ìµë¥ : %{y:.1f}%<br>%{text}<extra></extra>'},
    // ìµœëŒ€ ìƒ¤í”„
    {x:[pVols[maxIdx]], y:[pRets[maxIdx]], mode:'markers',
     name:'â˜… Max Sharpe ('+maxSharpe.toFixed(2)+')',
     marker:{size:16, color:'#e74c3c', symbol:'star', line:{color:'white',width:2}}},
    // ìµœì†Œ ë³€ë™ì„±
    {x:[pVols[minVolIdx]], y:[pRets[minVolIdx]], mode:'markers',
     name:'â—† Min Volatility',
     marker:{size:14, color:'#3498db', symbol:'diamond', line:{color:'white',width:2}}}
  ];
  
  // ê°œë³„ ìì‚° í‘œì‹œ
  for(var i=0;i<5;i++){
    traces.push({
      x:[vols[i]*100], y:[meanRet[i]*100], mode:'markers+text',
      name:names[i], text:[names[i]], textposition:'top center',
      marker:{size:10, color:['#ff6b6b','#4ecdc4','#45b7d1','#f9ca24','#6c5ce7'][i],
              line:{color:'#2c3e50',width:1.5}},
      textfont:{size:10}
    });
  }
  
  Plotly.newPlot('plot-ch10-frontier', traces, {
    title:{text:'íš¨ìœ¨ì  í”„ë¡ í‹°ì–´: 5,000ê°œ ëœë¤ í¬íŠ¸í´ë¦¬ì˜¤ (AAPL+MSFT+GOOGL+GLD+TLT)', font:{size:13}},
    xaxis:{title:'ì—°ê°„ ë³€ë™ì„± (%)', range:[8,30]},
    yaxis:{title:'ì—°ê°„ ìˆ˜ìµë¥  (%)', range:[-5,35]},
    legend:{x:0.01, y:0.99, font:{size:10}},
    margin:{l:60, r:20, t:50, b:50},
    paper_bgcolor:'rgba(0,0,0,0)', plot_bgcolor:'rgba(248,249,250,0.5)'
  }, {responsive:true});
})();
</script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ch11: Mini Project + Quiz -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<h2 id="ch11">11. Mini Project + Quiz</h2>

<h3>11.1 ì¢…í•© í”„ë¡œì íŠ¸: 4-Panel í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬í¬íŠ¸</h3>
<p>Round 2ì—ì„œ ë°°ìš´ ëª¨ë“  ê°œë…ì„ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¡œ í†µí•©í•œë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ 4ê°œ íŒ¨ë„ì˜ ì¢…í•© ë¶„ì„ ë¦¬í¬íŠ¸ê°€ ìƒì„±ëœë‹¤.</p>

<pre><code><span class="kw">import</span> numpy <span class="kw">as</span> np
<span class="kw">import</span> pandas <span class="kw">as</span> pd
<span class="kw">import</span> yfinance <span class="kw">as</span> yf
<span class="kw">import</span> matplotlib.pyplot <span class="kw">as</span> plt
<span class="kw">from</span> scipy <span class="kw">import</span> stats

<span class="cm"># â”€â”€ ë°ì´í„° â”€â”€</span>
tickers = [<span class="st">"AAPL"</span>, <span class="st">"MSFT"</span>, <span class="st">"GOOGL"</span>, <span class="st">"GLD"</span>, <span class="st">"TLT"</span>]
names = [<span class="st">"Apple"</span>, <span class="st">"MSFT"</span>, <span class="st">"Google"</span>, <span class="st">"Gold"</span>, <span class="st">"Bond20Y"</span>]
data = yf.download(tickers, start=<span class="st">"2023-01-01"</span>, end=<span class="st">"2025-01-01"</span>)[<span class="st">"Close"</span>]
data.columns = names
returns = data.pct_change().dropna()
cov_ann = returns.cov() * <span class="nu">252</span>
corr = returns.corr()

<span class="cm"># â”€â”€ PCA â”€â”€</span>
eigvals, eigvecs = np.linalg.eig(cov_ann.values)
idx = eigvals.argsort()[::-<span class="nu">1</span>]
eigvals = eigvals[idx]
explained = eigvals / eigvals.sum() * <span class="nu">100</span>

<span class="cm"># â”€â”€ 4-Panel Figure â”€â”€</span>
fig, axes = plt.subplots(<span class="nu">2</span>, <span class="nu">2</span>, figsize=(<span class="nu">14</span>, <span class="nu">10</span>))

<span class="cm"># (a) ìƒê´€ íˆíŠ¸ë§µ</span>
im = axes[<span class="nu">0</span>,<span class="nu">0</span>].imshow(corr.values, cmap=<span class="st">'RdBu_r'</span>, vmin=-<span class="nu">1</span>, vmax=<span class="nu">1</span>)
axes[<span class="nu">0</span>,<span class="nu">0</span>].set_xticks(<span class="fn">range</span>(<span class="nu">5</span>)); axes[<span class="nu">0</span>,<span class="nu">0</span>].set_xticklabels(names, rotation=<span class="nu">45</span>, ha=<span class="st">'right'</span>)
axes[<span class="nu">0</span>,<span class="nu">0</span>].set_yticks(<span class="fn">range</span>(<span class="nu">5</span>)); axes[<span class="nu">0</span>,<span class="nu">0</span>].set_yticklabels(names)
<span class="kw">for</span> i <span class="kw">in</span> <span class="fn">range</span>(<span class="nu">5</span>):
    <span class="kw">for</span> j <span class="kw">in</span> <span class="fn">range</span>(<span class="nu">5</span>):
        c = <span class="st">'white'</span> <span class="kw">if</span> <span class="fn">abs</span>(corr.values[i,j]) > <span class="nu">0.5</span> <span class="kw">else</span> <span class="st">'black'</span>
        axes[<span class="nu">0</span>,<span class="nu">0</span>].text(j, i, <span class="st">f'</span>{corr.values[i,j]:.2f}<span class="st">'</span>, ha=<span class="st">'center'</span>, va=<span class="st">'center'</span>, color=c)
fig.colorbar(im, ax=axes[<span class="nu">0</span>,<span class="nu">0</span>], shrink=<span class="nu">0.8</span>)
axes[<span class="nu">0</span>,<span class="nu">0</span>].set_title(<span class="st">"(a) Correlation Heatmap"</span>)

<span class="cm"># (b) ìˆ˜ìµë¥  ë¶„í¬</span>
<span class="kw">for</span> col <span class="kw">in</span> names[:<span class="nu">3</span>]:
    axes[<span class="nu">0</span>,<span class="nu">1</span>].hist(returns[col]*<span class="nu">100</span>, bins=<span class="nu">50</span>, alpha=<span class="nu">0.5</span>, label=col, density=<span class="kw">True</span>)
axes[<span class="nu">0</span>,<span class="nu">1</span>].set_title(<span class="st">"(b) Return Distributions"</span>)
axes[<span class="nu">0</span>,<span class="nu">1</span>].set_xlabel(<span class="st">"Daily Return (%)"</span>)
axes[<span class="nu">0</span>,<span class="nu">1</span>].legend(fontsize=<span class="nu">9</span>)

<span class="cm"># (c) ëˆ„ì  ìˆ˜ìµë¥ </span>
cum = ((<span class="nu">1</span> + returns).cumprod() - <span class="nu">1</span>) * <span class="nu">100</span>
cum.plot(ax=axes[<span class="nu">1</span>,<span class="nu">0</span>], linewidth=<span class="nu">1.2</span>)
axes[<span class="nu">1</span>,<span class="nu">0</span>].set_title(<span class="st">"(c) Cumulative Returns (%)"</span>)
axes[<span class="nu">1</span>,<span class="nu">0</span>].legend(fontsize=<span class="nu">8</span>)
axes[<span class="nu">1</span>,<span class="nu">0</span>].grid(<span class="kw">True</span>, alpha=<span class="nu">0.3</span>)

<span class="cm"># (d) PCA ì„¤ëª… ë¹„ìœ¨</span>
axes[<span class="nu">1</span>,<span class="nu">1</span>].bar(<span class="fn">range</span>(<span class="nu">1</span>,<span class="nu">6</span>), explained, color=<span class="st">'steelblue'</span>, alpha=<span class="nu">0.8</span>)
axes[<span class="nu">1</span>,<span class="nu">1</span>].plot(<span class="fn">range</span>(<span class="nu">1</span>,<span class="nu">6</span>), np.cumsum(explained), <span class="st">'ro-'</span>, linewidth=<span class="nu">2</span>)
axes[<span class="nu">1</span>,<span class="nu">1</span>].axhline(y=<span class="nu">90</span>, color=<span class="st">'gray'</span>, linestyle=<span class="st">'--'</span>, alpha=<span class="nu">0.5</span>)
axes[<span class="nu">1</span>,<span class="nu">1</span>].set_xlabel(<span class="st">"Principal Component"</span>)
axes[<span class="nu">1</span>,<span class="nu">1</span>].set_ylabel(<span class="st">"Explained Variance (%)"</span>)
axes[<span class="nu">1</span>,<span class="nu">1</span>].set_title(<span class="st">"(d) PCA Explained Variance"</span>)

plt.suptitle(<span class="st">"Round 2 Mini Project: Portfolio Analysis"</span>, fontsize=<span class="nu">15</span>, y=<span class="nu">1.01</span>)
plt.tight_layout()
plt.savefig(<span class="st">"round_02_report.png"</span>, dpi=<span class="nu">150</span>, bbox_inches=<span class="st">'tight'</span>)
plt.show()</code></pre>

<h3>11.2 Quiz</h3>

<div class="def">
<p class="ni"><strong>Q1. [ë²¡í„°]</strong> ë¹„ì¤‘ ë²¡í„° \(\mathbf{w} = [0.5, 0.3, 0.2]\)ì™€ ìˆ˜ìµë¥  ë²¡í„° \(\mathbf{r} = [0.02, -0.01, 0.04]\)ì˜ ë‚´ì ì„ ê³„ì‚°í•˜ë¼. ì´ ê°’ì´ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€?</p>
</div>

<div class="def">
<p class="ni"><strong>Q2. [í–‰ë ¬]</strong> í–‰ë ¬ \(\mathbf{A} = \begin{bmatrix} 4 & 2 \\ 2 & 3 \end{bmatrix}\)ì˜ ê³ ìœ ê°’ì„ êµ¬í•˜ë¼. ì´ í–‰ë ¬ì´ ì–‘ì •ì¹˜(positive definite)ì¸ì§€ íŒë³„í•˜ê³ , ê·¸ ì´ìœ ë¥¼ ì„¤ëª…í•˜ë¼.</p>
</div>

<div class="def">
<p class="ni"><strong>Q3. [ìƒê´€ê³„ìˆ˜]</strong> ë‘ ì¢…ëª©ì˜ ìƒê´€ê³„ìˆ˜ê°€ -0.3ì´ë‹¤. ë™ì¼ ë¹„ì¤‘(50:50) í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ êµ¬ì„±í•˜ë©´ ë¶„ì‚° íš¨ê³¼ê°€ ë°œìƒí•˜ëŠ”ê°€? ìˆ˜í•™ì ìœ¼ë¡œ ì„¤ëª…í•˜ë¼.</p>
</div>

<div class="def">
<p class="ni"><strong>Q4. [ê²½ì‚¬í•˜ê°•ë²•]</strong> í•™ìŠµë¥ (learning rate)ì´ ë„ˆë¬´ í¬ë©´ ì–´ë–¤ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ê°€? ë„ˆë¬´ ì‘ìœ¼ë©´? ê°ê°ì˜ ê²½ìš°ë¥¼ ì„¤ëª…í•˜ë¼.</p>
</div>

<div class="def">
<p class="ni"><strong>Q5. [íŒ»í…Œì¼]</strong> ì‹¤ì œ ê¸ˆìœµ ìˆ˜ìµë¥ ì˜ ì²¨ë„(kurtosis)ê°€ ì •ê·œë¶„í¬ë³´ë‹¤ ë†’ì€ ì´ìœ ë¥¼ 2ê°€ì§€ ì´ìƒ ì„¤ëª…í•˜ê³ , ì´ê²ƒì´ ë¦¬ìŠ¤í¬ ê´€ë¦¬ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì„œìˆ í•˜ë¼.</p>
</div>

<div class="def">
<p class="ni"><strong>Q6. [ë² ì´ì¦ˆ]</strong> MACD ê³¨ë“ í¬ë¡œìŠ¤ ì‹œê·¸ë„ì˜ ì •í™•ë„ë¥¼ ë² ì´ì¦ˆ ì •ë¦¬ë¡œ ê³„ì‚°í•˜ë¼. P(ìƒìŠ¹)=0.53, P(ê³¨ë“ í¬ë¡œìŠ¤|ìƒìŠ¹)=0.20, P(ê³¨ë“ í¬ë¡œìŠ¤|í•˜ë½)=0.08ì¼ ë•Œ, P(ìƒìŠ¹|ê³¨ë“ í¬ë¡œìŠ¤)ëŠ”?</p>
</div>

<div class="def">
<p class="ni"><strong>Q7. [ì½”ë”©]</strong> yfinanceë¡œ í•œêµ­ ETF 3ê°œ(KODEX 200, KODEX ë°˜ë„ì²´, TIGER ë¯¸êµ­S&P500)ì˜ 1ë…„ ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³ , ê³µë¶„ì‚° í–‰ë ¬ê³¼ ìƒê´€ê´€ê³„ íˆíŠ¸ë§µì„ ê·¸ë ¤ë¼. ì–´ë–¤ ETF ì¡°í•©ì´ ë¶„ì‚° íš¨ê³¼ê°€ ê°€ì¥ í°ê°€?</p>
</div>

<h3>11.3 Round 2 í•™ìŠµ ì •ë¦¬</h3>

<div class="tc">Table 5. Round 2 í•µì‹¬ ê°œë… ìš”ì•½</div>
<table>
<tr><th>ì±•í„°</th><th>í•µì‹¬ ê°œë…</th><th>ê¸ˆìœµ ì ìš©</th><th>êµì¬ ì—°ë™</th></tr>
<tr><td>1~2. ë²¡í„°</td><td>ë‚´ì , ë…¸ë¦„, ë‹¨ìœ„ë²¡í„°</td><td>í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥  = wÂ·r</td><td>MLAT Ch.4</td></tr>
<tr><td>3. í–‰ë ¬</td><td>íŠ¹ìˆ˜ í–‰ë ¬, ì¸ë±ì‹±</td><td>ìˆ˜ìµë¥  í–‰ë ¬, ê³µë¶„ì‚° í–‰ë ¬</td><td>MLAT Ch.4</td></tr>
<tr><td>4. í–‰ë ¬ ì—°ì‚°</td><td>ì „ì¹˜, ê³±, ì—­í–‰ë ¬</td><td>ìµœì†Œë¶„ì‚° í¬íŠ¸í´ë¦¬ì˜¤</td><td>MLAT Ch.4</td></tr>
<tr><td>5. ê³ ìœ ê°’</td><td>ê³ ìœ ê°’ ë¶„í•´, PCA</td><td>ì£¼ì„±ë¶„ ë¶„ì„, ì°¨ì› ì¶•ì†Œ</td><td>MLAT Ch.13</td></tr>
<tr><td>6. í™•ë¥ ë¶„í¬</td><td>ì •ê·œ, ë¡œê·¸ì •ê·œ, GBM</td><td>ìˆ˜ìµë¥  ëª¨ë¸ë§, ì‹œë®¬ë ˆì´ì…˜</td><td>MLDSF Ch.4</td></tr>
<tr><td>7. ê³µë¶„ì‚°</td><td>ê³µë¶„ì‚°, ìƒê´€ê³„ìˆ˜, í–‰ë ¬</td><td>ë¶„ì‚° íˆ¬ì, í¬íŠ¸í´ë¦¬ì˜¤ ìœ„í—˜</td><td>MLDSF Ch.4</td></tr>
<tr><td>8. ë² ì´ì¦ˆ</td><td>ì¡°ê±´ë¶€ í™•ë¥ , ì‚¬í›„í™•ë¥ </td><td>ì‹œê·¸ë„ ì—…ë°ì´íŠ¸</td><td>MLAT Ch.10</td></tr>
<tr><td>9. ë¯¸ì ë¶„</td><td>ê·¸ë˜ë””ì–¸íŠ¸, ê²½ì‚¬í•˜ê°•ë²•</td><td>ë”¥ëŸ¬ë‹ ì—­ì „íŒŒ, ìµœì í™”</td><td>MLAT Ch.17</td></tr>
<tr><td>10. ì‹¤ì „</td><td>íˆíŠ¸ë§µ, íš¨ìœ¨ì  í”„ë¡ í‹°ì–´</td><td>í¬íŠ¸í´ë¦¬ì˜¤ ë¹„êµ ë¶„ì„</td><td>MLDSF Ch.5</td></tr>
</table>

<h3>11.4 Next Round Preview</h3>

<div class="info">
<p class="ni"><strong>Round 3: ë°ì´í„° ìˆ˜ì§‘ + Feature Engineering</strong></p>
<ul>
<li>yfinance, pandas-datareaderë¡œ ì‹¤ì‹œê°„ ê¸ˆìœµ ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•</li>
<li>ê¸°ìˆ ì  ì§€í‘œ (RSI, MACD, Bollinger Bands) ì§ì ‘ êµ¬í˜„</li>
<li>Feature Engineering: ìˆ˜ìµë¥ , ë³€ë™ì„±, ëª¨ë©˜í…€ íŒ©í„° ìƒì„±</li>
<li>ë°ì´í„° ì „ì²˜ë¦¬: ê²°ì¸¡ì¹˜ ì²˜ë¦¬, ì´ìƒì¹˜ íƒì§€, ì •ê·œí™”/í‘œì¤€í™”</li>
<li>Zipline/Backtrader ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ ì…ë¬¸</li>
<li><strong>í”¼ë“œë°± ì„¸ì…˜ (R3):</strong> R1~R3 ì „ì²´ ë³µìŠµ + í•™ìŠµ ë°©í–¥ ì¡°ì •</li>
</ul>
<p class="ni"><strong>êµì¬:</strong> MLAT Ch.2~4 / MLDSF Ch.3 / íŒŒë¼í™œ Ch.10~12 / ë‘ì‡ì•Œê³  Ch.3~5</p>
</div>

</div><!-- paper-content -->
</div><!-- container -->
</div><!-- main-wrapper -->

</body>
</html>